/*! Alopex UI - v2.2.30 - 2014-10-02
* http://ui.alopex.io
* Copyright (c) 2014 alopex.ui; Licensed Copyright. SK C&C. All rights reserved. */
var __ALOPEX_DEBUG=!1,__ALOG=function(){};if(__ALOPEX_DEBUG)try{__ALOG=Function.prototype.bind?console.log.bind(console):function(){console.log(jQuery.makeArray(arguments).join(" "))}}catch(e){}!function(a){a.alopex=a.extend(a.alopex,{configMethods:{},widget:{},util:{},inherit:function(b,c){var d=a.extend({},b,c);return d.eventHandlers=a.extend({},b.eventHandlers,c.eventHandlers),b.getters=b.getters||[],b.setters=b.setters||[],c.getters=c.getters||[],c.setters=c.setters||[],d.getters=b.getters.concat(c.getters),d.setters=b.setters.concat(c.setters),d.properties=a.extend({},b.properties,c.properties),d.parent=b,d.markup=c.markup,d.style=c.style,d.event=c.event,d.init=c.init,d.defer=c.defer,d},setup:function(b,c){a.alopex.widget[b]?a.extend(a.alopex.widget[b].properties,c):a.isFunction(a.alopex.configMethods[b])&&a.alopex.configMethods[b](c)},registerSetup:function(b,c){a.alopex.configMethods[b]=c},convert:function(b){var c={markup:[],style:[],event:[],init:[],defer:[]};a.alopex.util.isValid(b)||(b="body"),a(b).find("[data-type]").each(function(){var b=a.alopex.widget.object._getInitHandlers(this);c.markup=c.markup.concat(b.markup),c.style=c.style.concat(b.style),c.event=c.event.concat(b.event),c.init=c.init.concat(b.init),c.defer=c.defer.concat(b.defer)});for(var d=0;d<c.markup.length;d++){var e=c.markup[d];a.alopex.util.isConverted(e.element)||e.constructor.call(e.widget,e.element,a.alopex.util.getOptions(e.element))}for(var d=0;d<c.style.length;d++){var e=c.style[d];a.alopex.util.isConverted(e.element)||e.constructor.call(e.widget,e.element,a.alopex.util.getOptions(e.element))}for(var d=0;d<c.init.length;d++){var e=c.init[d];a.alopex.util.isConverted(e.element)||e.constructor.call(e.widget,e.element,a.alopex.util.getOptions(e.element))}for(var d=0;d<c.event.length;d++){var e=c.event[d];a.alopex.util.isConverted(e.element)||e.constructor.call(e.widget,e.element,a.alopex.util.getOptions(e.element))}for(var d=0;d<c.defer.length;d++){var e=c.defer[d];a.alopex.util.isConverted(e.element)||e.constructor.call(e.widget,e.element,a.alopex.util.getOptions(e.element))}},checkBrowser:function(){"ontouchstart"in document.documentElement||"ontouchstart"in window?window.browser="mobile":-1!==navigator.userAgent.toLowerCase().indexOf("msie")?window.browser="ie":-1!==navigator.userAgent.toLowerCase().indexOf("chrome")?window.browser="chrome":-1!==navigator.userAgent.toLowerCase().indexOf("safari")?window.browser="safari":-1!==navigator.userAgent.toLowerCase().indexOf("gecko")?window.browser="firefox":-1!==navigator.userAgent.toLowerCase().indexOf("opera")&&(window.browser="opera")},_getter:function(b,c){if(this.length<1)return this;var d=this[0],e=this.prop("alopextype")?this.prop("alopextype"):[];if(a.alopex.util.isValid(d.getAttribute("data-type"))&&(e=a.alopex.util.arrayjoin(new Array(d.getAttribute("data-type")),e)),a.alopex.util.isValid(e))for(var f=0;f<e.length;f++){var g=a.alopex.widget[e[f]],h=g[b];if(h&&"function"==typeof h&&a.alopex.util.isValid(g)){for(var i=[d],f=0;f<c.length;f++)i.push(c[f]);if(a.alopex.util.isValid(d.alopex)){if(!a.alopex.util.isConverted(this)){var j=g,k=i;a(d).one("initcomplete.alopexui",function(){return j[b].apply(j,k)})}}else g._constructor.apply(g,[this,a.extend(a.alopex.util.getOptions(this),c.length>0?c[0]:void 0)]);return g[b].apply(g,i)}}},_setter:function(b,c){return this.each(function(){var d=a(this).prop("alopextype")?a(this).prop("alopextype"):[];if(a.alopex.util.isValid(this.getAttribute("data-type"))&&(d=a.alopex.util.arrayjoin(new Array(this.getAttribute("data-type")),d)),d.length>0){for(var e=[this],f=0;f<c.length;f++)e.push(c[f]);for(var f=0;f<d.length;f++){var g=a.alopex.widget[d[f]],h=g[b];if(d[f]==b){if(g&&g._constructor){g._constructor.apply(g,[this,a.extend(a.alopex.util.getOptions(this),c.length>0?c[0]:void 0)]);break}}else if(h&&"function"==typeof h&&a.alopex.util.isValid(g)){if(a.alopex.util.isValid(this.alopex))if(a.alopex.util.isConverted(this))g[b].apply(g,e);else{var i=g,j=e;a(this).one("initcomplete.alopexui",function(){i[b].apply(i,j)})}else g._constructor.apply(g,[this,a.extend(a.alopex.util.getOptions(this),c.length>0?c[0]:void 0)]),g[b].apply(g,e);break}}}else if(a.alopex.widget[b]){var g=a.alopex.widget[b];g.pre&&g.pre.apply(g,[this])}})}}),a.fn.convert=function(){return this.each(function(){a.alopex.convert(this)})},a.fn.setEnabledAll=function(b){var c=this;c.find("input[data-type], select[data-type], button[data-type], textarea[data-type]").each(function(){a(this).setEnabled(b)})}}(jQuery),function(a){function b(a,b){var c=a.match(b);return""==a||null!=c&&c[0]==a?!0:!1}function c(c,d){if(d){var e,f;e=f=a(c).val();for(var g="",h="";!b(e,d);){g=e,e=g.substr(0,g.length-1);var i=g.substr(g.length-1);b(i,d)&&(h=i+h)}if(e+h!=f){var j=e+h;a(c).val(j)}}}var d={digits:"0-9",lowercase:"a-z",uppercase:"A-Z",english:"a-zA-Z",korean:"ㄱ-ㅣ가-힣 ",singlespace:" ",decimal:"0-9.-"},e={digits:"0-9",lowercase:"A-Z",uppercase:"A-Z",english:"A-Z",korean:"å",singlespace:" ",decimal:"0-9.-"},f={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",19:"pausebreak",20:"capslock",21:"han/young",25:"chinese",27:"esc",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"delete",91:"win-left",92:"win-right",93:"function",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",144:"numlock",145:"scrolllock"},g={188:"44",109:"45",190:"46",191:"47",192:"96",220:"92",222:"39",221:"93",219:"91",173:"45",187:"61",186:"59",189:"45",96:"48",97:"49",98:"50",99:"51",100:"52",101:"53",102:"54",103:"55",104:"56",105:"57",109:"45",110:"46",111:"47"},h={96:"~",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",48:")",45:"_",61:"+",91:"{",93:"}",92:"|",59:":",39:"'",44:"<",46:">",47:"?"},i="keyfilter";a(document).on("keydown.datafilter","[data-"+i+"-rule]",function(c){var d=c.which||c.charCode||c.keyCode;if((!c.ctrlKey&&!c.metaKey||67!==d&&86!==d)&&!f[d]){var j=a(c.currentTarget).attr("data-"+i+"-rule");if("string"==typeof j){var k=j.split("|"),l="";if(1==k.length)l=e[j];else for(var m=0;m<k.length;m++){var n=k[m];e[n]&&(l+=e[n])}if(l){l=new RegExp("["+l+"]","g"),g.hasOwnProperty(d)&&(d=g[d]);var o=String.fromCharCode(d),p=d>=65&&90>=d?!0:!1,q=c.shiftKey?c.shiftKey:16==d?!0:!1;if(o.toUpperCase()===o&&o.toLowerCase()!==o&&!q||o.toUpperCase()!==o&&o.toLowerCase()===o&&q||(o.toLowerCase()===o&&o.toUpperCase()!==o&&!q||o.toLowerCase()!==o&&o.toUpperCase()===o&&q)&&(p&&!q?o=String.fromCharCode(d+32):q&&h.hasOwnProperty(d)&&(o=h[d])),!a(c.currentTarget).attr("data-"+i)&&!b(o,l))return c.preventDefault(),!1}}}}),a(document).on("keyup.datafilter","[data-"+i+"-rule],[data-"+i+"]",function(b){if(!f[b.which]){var e=a(b.currentTarget).attr("data-"+i+"-rule"),g="";if("string"==typeof e){var h=e.split("|");if(1==h.length)g=d[e];else for(var j=0;j<h.length;j++){var k=h[j];d[k]&&(g+=d[k])}}a(b.currentTarget).attr("data-"+i)&&(g+=a(b.currentTarget).attr("data-"+i)),g&&(g=new RegExp("["+g+"]+","g"),c(b.currentTarget,g))}}),a.alopex||(a.alopex={}),a.alopex.keyfilter={add:function(a,b,c){__ALOG("added",a,b,c),a&&(b&&(e[a]=b),c&&(d[a]=c))}}}(jQuery),function(a){a.alopex.widget.object={widgetName:"object",parent:null,defaultClassName:"af-object",defaultPressClassName:"af-pressed",defaultHoverClassName:"af-hover",defaultSelectClassName:"af-selected",defaultDisableClassName:"af-disabled",defaultThemeName:"af-default",getters:["getEnabled"],setters:["addPressHighlight","addHoverHighlight","setEnabled","refresh"],properties:{enabled:!0,_markup:null,_wrapper:null},eventHandlers:{},refresh:function(b){var c=this._getProperty(b,"_wrapper"),d=this._getProperty(b,"_markup");c&&d&&(d=a(d)[0],a(c).replaceWith(d),a(d)[this.widgetName]())},markup:function(b,c){b.alopex=a.extend({},this.properties,c),b.alopexoptions||(b.alopexoptions={}),b.alopexoptions=a.extend(b.alopexoptions,this.properties,c),this._setProperty(b,"_markup",b.outerHTML);var d=this.renderTo(b,c);if(d){var e=a(d),f=this._generateMarkup(e[0],b);this._setProperty(b,"_wrapper",f)}},style:function(a){this._addDefaultClass(a)},event:function(a){this._addEventListener(a)},init:function(b){var c=a(b).prop("alopextype")?a(b).prop("alopextype"):[];c.push(a(b).attr("data-type")),a(b).prop("alopextype",c)},defer:function(b){this.setEnabled&&(this.setEnabled(b,a.alopex.util.parseBoolean(b.alopexoptions.enabled)),a.alopex.util.isValid(b.alopexoptions.disabled)&&this.setEnabled(b,!a.alopex.util.parseBoolean(b.alopexoptions.disabled))),a(b).attr("data-converted","true"),a(b).trigger("initcomplete.alopexui")},_getInitHandlers:function(b){function c(a,b,c){this.element=a,this.widget=b,this.constructor=c}var d=[],e=[],f=[],g=[],h=[],i=a(b).attr("data-type"),j=a.alopex.widget[i];if(j)for(var k=j;k;)k.markup&&d.unshift(new c(b,j,k.markup)),k.style&&e.unshift(new c(b,j,k.style)),k.event&&f.unshift(new c(b,j,k.event)),k.init&&g.unshift(new c(b,j,k.init)),k.defer&&h.push(new c(b,j,k.defer)),k=k.parent;return{markup:d,style:e,event:f,init:g,defer:h}},_constructor:function(b){if(b){for(var c=a.alopex.widget.object._getInitHandlers(b),d=[],e=1;e<arguments.length;e++)d[e]=arguments[e];for(var e=0;e<c.markup.length;e++)d[0]=c.markup[e].element,c.markup[e].constructor.apply(c.markup[e].widget,d);for(var e=0;e<c.style.length;e++)d[0]=c.style[e].element,c.style[e].constructor.apply(c.style[e].widget,d);for(var e=0;e<c.init.length;e++)d[0]=c.init[e].element,c.init[e].constructor.apply(c.init[e].widget,d);for(var e=0;e<c.event.length;e++)d[0]=c.event[e].element,c.event[e].constructor.apply(c.event[e].widget,d);for(var e=0;e<c.defer.length;e++)d[0]=c.defer[e].element,c.defer[e].constructor.apply(c.defer[e].widget,d)}},_addEventListener:function(b){var c=a(b);for(var d in this.eventHandlers){var e=[this.eventHandlers[d].event];this.eventHandlers[d].selector&&e.push(this.eventHandlers[d].selector),this.eventHandlers[d].data&&e.push(this.eventHandlers[d].data),e.push(this[this.eventHandlers[d].handler]),c.on.apply(c,e)}},_addDefaultClass:function(b){var c,d=" "+this.defaultThemeName;if(b.getAttribute("data-theme")&&(d=" "+b.getAttribute("data-theme")),c=void 0!==b.className&&""!==b.className?" af-default"!==d?b.className+d:b.className:this.defaultClassName+d,a.alopex.util.isValid(b.getAttribute("data-style"))||a.alopex.util.isValid(b.getAttribute("data-addclass"))){var e=b.getAttribute("data-addclass")||b.getAttribute("data-style");c+=" "+e}a(b).attr("class",c)},addPressHighlight:function(b,c){c?(a(b).on("move",c,{classname:this.defaultPressClassName},this._removeClassName),a(b).on("pressed",c,{classname:this.defaultPressClassName},this._addClassName),a(b).on("unpressed",c,{classname:this.defaultPressClassName},this._removeClassName)):(a(b).on("move",{classname:this.defaultPressClassName},this._removeClassName),a(b).on("pressed",{classname:this.defaultPressClassName},this._addClassName),a(b).on("unpressed",{classname:this.defaultPressClassName},this._removeClassName))},addHoverHighlight:function(b,c){c?(a(b).on("mouseenter focusin",c,{classname:this.defaultHoverClassName},this._addClassName),a(b).on("mouseleave focusout",c,{classname:this.defaultHoverClassName},this._removeClassName)):(a(b).on("mouseenter focusin",{classname:this.defaultHoverClassName},this._addClassName),a(b).on("mouseleave focusout",{classname:this.defaultHoverClassName},this._removeClassName))},removePressHighlight:function(b,c){c?(a(b).off("move",c,{classname:this.defaultPressClassName},this._removeClassName),a(b).off("pressed",c,{classname:this.defaultPressClassName},this._addClassName),a(b).off("unpressed",c,{classname:this.defaultPressClassName},this._removeClassName)):(a(b).off("move",{classname:this.defaultPressClassName},this._removeClassName),a(b).off("pressed",{classname:this.defaultPressClassName},this._addClassName),a(b).off("unpressed",{classname:this.defaultPressClassName},this._removeClassName))},removeHoverHighlight:function(b,c){c?(a(b).off("mouseenter focusin",c,{classname:this.defaultHoverClassName},this._addClassName),a(b).off("mouseleave focusout",c,{classname:this.defaultHoverClassName},this._removeClassName)):(a(b).off("mouseenter focusin",{classname:this.defaultHoverClassName},this._addClassName),a(b).off("mouseleave focusout",{classname:this.defaultHoverClassName},this._removeClassName))},_eventBlockHandler:function(a){return a.preventDefault(),a.stopPropagation(),!1},_setProperty:function(a,b,c){a.alopex&&(a.alopex[b]=c)},_getProperty:function(a,b){return a.alopex[b]},setEnabled:function(b,c){a(b);"boolean"!=typeof c&&(c=a.alopex.util.parseBoolean(c)),c?(this._setProperty(b,"enabled",!0),this._removeDisabledStyle(b),b.removeAttribute("disabled"),b.attributes.tabindex&&b.setAttribute("tabindex","0")):(this._setProperty(b,"enabled",!1),this._addDisabledStyle(b),b.setAttribute("disabled","disabled"),b.attributes.tabindex&&b.setAttribute("tabindex","-1"))},getEnabled:function(a){return this._getProperty(a,"enabled")},_addClassName:function(b){var c=b.currentTarget;switch(c.getAttribute("data-type")){case 0:break;default:a(c).addClass(b.data.classname)}},_removeClassName:function(b){var c=b.currentTarget;switch(c.getAttribute("data-type")){case 0:break;default:a(c).removeClass(b.data.classname)}},_addDisabledStyle:function(b){a(b).addClass(this.defaultDisableClassName)},_removeDisabledStyle:function(b){a(b).removeClass(this.defaultDisableClassName)},_cancelEventHandler:function(a){return a.preventDefault(),a.stopPropagation(),!1},renderTo:function(){return null},markupIdentifier:"af-dynamic",_generateMarkup:function(b,c){var d;b.attributes[this.markupIdentifier]&&(d=b.cloneNode(!0),d.innerHTML="",b.removeAttribute(this.markupIdentifier),a(c).wrap(d),c=c.parentNode);for(var e=0;e<b.children.length;e++){var f=b.children[e];if(f.attributes[this.markupIdentifier]){if(e>0){var g=f.cloneNode(!0);a(g).insertAfter(c.children[e-1])}else{if(1===b.children.length)break;var g=f.cloneNode(!0);a(c).prepend(g)}f.removeAttribute(this.markupIdentifier)}}for(var e=0;e<b.children.length;e++)this._generateMarkup(b.children[e],c.children[e]);return d?d:c}}}(jQuery),function(a){function b(a){return null===a||void 0===a||""===a||"undefine"===a?!1:!0}function c(b,c){for(var d=a.extend([],b),e=0;e<c.length;e++){for(var f=!1,g=0;g<b.length;g++)if(b[e]==c[g]){f=!0;break}f||d.push(c[e])}return d}function d(a){switch(String(a).toLowerCase()){case"true":case"1":case"yes":case"y":return!0;case"false":case"0":case"no":case"n":return!1;default:return!1}}function e(a,b){return a.className.match(new RegExp("(\\s|^)"+b+"(\\s|$)"))}function f(b,c){a.alopex.util.hasClass(b,c)||(b.className+=" "+c)}function g(b,c){if(a.alopex.utilhasClass(b,c)){var d=new RegExp("(\\s|^)"+c+"(\\s|$)");b.className=b.className.replace(d," ")}}function h(){return a(window).height()}function i(){return a(window).width()}function j(){return a(document).height()}function k(){return a(document).width()}function l(a){var b={},c=0,d=0;if(a.offsetParent)for(d=a.offsetTop,c=a.offsetLeft;a=a.offsetParent;){if("fixed"==a.style.position&&"body"==a.tagName.toLowerCase()){d+=a.style.top?parseInt(a.style.top):0,c+=a.style.left?parseInt(a.style.left):0;break}d+=a.offsetTop,c+=a.offsetLeft}return b.top=d,b.left=c,b}function m(a){var b={},c=0,d=0;if(a&&a.offsetParent)for(d=a.offsetTop,c=a.offsetLeft,a=a.offsetParent;a;)d+=a.offsetTop,c+=a.offsetLeft,a=a.offsetParent;return b.top=d,b.left=c,b}function n(a){var b={},c=0,d=0;if(a.offsetParent)for(d=a.offsetTop-a.scrollTop,c=a.offsetLeft-a.scrollLeft;a=a.offsetParent;)d+=a.offsetTop-a.scrollTop,c+=a.offsetLeft-a.scrollLeft;return b.top=d,b.left=c,b}function o(){var b,c,d;return void 0===d&&(b=a('<div style="width:50px;height:50px;overflow:auto"><div/></div>').appendTo("body"),c=b.children(),d=c.innerWidth()-c.height(99).innerWidth(),b.remove()),d}function p(b){return a.alopex.util.regexp.number.test(b)}function q(b){return a.alopex.util.regexp.date.test(b)}function r(b){return"true"===a(b).attr("data-converted")}function s(a,b){if(a instanceof Date){var c=a.getFullYear(),d=a.getMonth()+1,a=a.getDate();return d=(10>d?"0":"")+d,a=(10>a?"0":"")+a,b.replace("yyyy",c).replace("MM",d).replace("dd",a)}}function t(b){for(var c,d,e="ddmm",f=0;f<b.length;f++)if(c=b[f].match(a.alopex.util.regexp.divider),d=b[f].split(c),4===d[0].length&&(d.push(d[0]),d.shift(),b[f]=d.join("/")),parseInt(d[0],10)>12){e="mmdd";break}if("mmdd"===e)for(f=0;f<b.lengh;f++){c=b[f].match(a.alopex.util.regexp.divider),d=b[f].split(c);var g=d[0];d[0]=d[1],d[1]=g,b[f]=d.join("/")}return b}function u(b,c){void 0===c&&(c=b.tagName);for(var d=document.createElement(c),e=0;e<b.attributes.length;e++){var f=b.attributes[e];a(d).attr(f.name,f.value)}return d}function v(a,b,c,d,e){if(!a||!a.length)return a;if(a.length<2)return a;d=d||0,e=e||a.length;var f=e-d;if(2>f)return a;var g,h,i,j=a.slice(d,e);for(g=1;g<j.length;g++){if(i=j[g],h=g,c)for(;h>0&&b(j[h-1],i)>0;)j[h]=j[h-1],h--;else for(;h>0&&b(j[h-1],i)<0;)j[h]=j[h-1],h--;j[h]=i}for(var g=0;g<j.length;g++)a[d+g]=j[g];return a}function w(a,b,c,d,e){if(!a||!a.length)return a;if(a.length<2)return a;d=d||0,e=e||a.length;var f=e-d;if(2>f)return a;var g=d+Math.floor(f/2),h=x(w(a.slice(d,g),b,c),w(a.slice(g,e),b,c),b,c);return h.unshift(d,h.length),a.splice.apply(a,h),a}function x(a,b,c,d){for(var e=new Array;a.length>0&&b.length>0;)e.push(c(a[0],b[0])<=0&&d?a.shift():b.shift());for(;a.length>0;)e.push(a.shift());for(;b.length>0;)e.push(b.shift());return e}function y(a,b){return a>b?1:b>a?-1:0}function z(a,b){var c=(""+a).split("."),d=(""+b).split("."),e=0;c[1]&&(e=c[1].length),d[1]&&d[1].length>e&&(e=d[1].length);var e=Math.pow(10,e),f=0==e?a+b:parseFloat(Math.round(a*e+b*e))/e;return f}function A(a,b){var c=parseFloat(a[0].replace(/[^0-9.-]/g,""));isNaN(c)&&(c=0);var d=parseFloat(b[0].replace(/[^0-9.-]/g,""));return isNaN(d)&&(d=0),c-d}function B(b,c){var d=a.alopex.util.getDate(b[0]),e=a.alopex.util.getDate(c[0]);return d>e?1:d===e?0:-1}function C(a,b){var c,d,e;void 0===b&&(b="mmdd");var f="/";f=a.match(/\-|\/|\./);var g=a.split(f);return c=g[2],"ddmm"===b?(d=g[1],e=g[0]):(d=g[0],e=g[1]),new Date(c,d,e)}function D(a){return a.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function E(){var b=[];return a(document).find(":hidden").each(function(){if(this.parentNode){var a=this.tagName.toLowerCase();switch(a){case"head":case"meta":case"link":case"script":case"option":case"style":return}b.push({node:this,parent:this.parentNode}),this.parentNode.removeChild(this)}}),b}function F(a){for(var b=0;b<a.length;b++)a[b].parent&&a[b].parent.appendChild(a[b].node)}function G(b){for(var c={},d=0;d<b.attributes.length;d++)if(0===b.attributes[d].name.indexOf("data-")){var e=b.attributes[d].name.replace("data-","").replace("-","");if("type"===e)continue;var f=b.attributes[d].value;c[e]=f}for(var d in c)("true"===c[d]||"false"===c[d])&&(c[d]=a.alopex.util.parseBoolean(c[d])),a.alopex.util.isNumberType(c[d])&&(c[d]=parseInt(c[d],10));return c}function H(a,b){if(a instanceof Array)for(var c=0;c<a.length;c++)a[c]==b&&a.splice(c,1)}function I(b){var c,d={};if(b)for("?"==b.substr(0,1)&&(b=b.substr(1));c=K.exec(b);){var e=L(c[1]),f=L(c[2]);void 0!==d[e]?(a.isArray(d[e])||(d[e]=[d[e]]),d[e].push(f)):d[e]=f}return d}if(!a.alopex.util.regexp){var J={number:/^[0-9]+$/,"float":/\d+(\.\d+)?/gi,date:/(^\d{1,2}(\-|\/|\.)\d{1,2}(\-|\/|\.)\d{4}$)|(^\d{4}(\-|\/|\.)\d{1,2}(\-|\/|\.)\d{1,2}$)/,divider:/^\-|\/|\./},K=/([^&=]+)=?([^&]*)/g,L=function(a){return decodeURIComponent(a.replace(/\+/g," "))};a.extend(a.alopex.util,{regexp:J,isValid:b,parseBoolean:d,hasClass:e,addClass:f,removeClass:g,getWindowHeight:h,getWindowWidth:i,getDocumentHeight:j,getDocumentWidth:k,getPagePosition:l,getRelativePosition:m,getScrolledPosition:n,getScrollbarWidth:o,isNumberType:p,isDateType:q,formatDate:t,copyNode:u,insertSort:v,mergeSort:w,sort_default:y,sort_numeric:A,sort_date:B,getDate:C,trim:D,erase:E,restore:F,getOptions:G,isConverted:r,addFloat:z,arrayjoin:c,arrayremove:H,parseQuerystring:I,getDateString:s}),a.fn.hasEventHandler=function(b,c){var d=a._data(window,"events");if(void 0!==d&&void 0!==d[b])for(var e=d[b],f=0;f<e.length;f++)if(e[f].handler===c)return!0;return!1}}}(jQuery),function(a){a.alopex.widget.accordion=a.alopex.inherit(a.alopex.widget.object,{widgetName:"accordion",defaultClassName:"af-accordion",setters:["accordion","expandAll","collapseAll","setDataSource","expand","collapse"],getters:[],eventHandlers:{},init:function(b,c){var d=a(b),e=this;a.extend(b,this.options,c),d.find("li").each(function(){for(var b=this,c=0;c<b.children.length;c++)if("a"===b.children[c].tagName.toLowerCase()&&b.children.length>1){a(b).addClass("af-expandable");break}}),d.find("li > a").each(function(){e.addHoverHighlight(this),e.addPressHighlight(this),a(this).next().addClass("af-accordion-sub")}),a(b).find("li > a").bind("tap",function(c){var d=c.target,e=a(d).parent();e.is("li.af-expandable")&&(e.toggleClass("af-accordion-expand"),e.hasClass("af-accordion-expand")?(a(d).next().css("display",""),a(b).trigger("open",[d])):(a(d).next().css("display","none"),a(b).trigger("close",[d])))}),this.collapseAll(b)},expandAll:function(b){a(b).find(".af-accordion-sub").each(function(){{var b=this;a(b).closest("li").addClass("af-accordion-expand")}a(b).css("display","")})},expand:function(b,c){a(b).find(".af-accordion-sub").eq(c).each(function(){{var b=this;a(b).closest("li").addClass("af-accordion-expand")}a(b).css("display","")})},collapseAll:function(b){a(b).find(".af-accordion-sub").each(function(){{var b=this;a(b).closest("li").removeClass("af-accordion-expand")}a(b).css("display","none")})},collapse:function(b,c){a(b).find(".af-accordion-sub").eq(c).each(function(){{var b=this;a(b).closest("li").removeClass("af-accordion-expand")}a(b).css("display","none")})},setDataSource:function(b,c){a(b).empty(),this._createNode(b,c),b.phase=void 0,a(b).accordion()},_createNode:function(b,c){for(var d=0;d<c.length;d++){var e=c[d],f=a("<li></li>").appendTo(b)[0];a.alopex.util.isValid(e.id)&&a(f).attr("data-id",e.id);var g=a("<a></a>").appendTo(f)[0];if(a.alopex.util.isValid(e.linkUrl)&&a(g).attr("href",e.linkUrl),a.alopex.util.isValid(e.iconUrl)&&a("<img/>").attr("src",e.iconUrl).appendTo(f),a(g).text(e.text),a.alopex.util.isValid(e.items)){var h=a("<ul></ul>").appendTo(f)[0];this._createNode(h,e.items)}}}})}(jQuery),function(a){function b(b,c){if(0!=a(".af-dialog-mask:hidden").length&&a(".af-dialog-mask:hidden").remove(),0==a(document).find(".messagebox").length){var d="";d="object"==typeof c?c.msg:c;var e='<div id="dialog_messagebox" data-type="dialog" class="messagebox container"><div class="messageWrap clearfix"><div class="msg_icon '+b+'"></div><div class="msg_txt" id="text"></div></div><div class="msgBtnWrap"><button id="msgBtn" data-type="button"><span class="btn_icon"></span><span class="btn_txt">OK</span></button></div></div>',f=a(e).appendTo(document.body).convert().open({modal:!0}),g=f.find("#text");g.html(d.replace("\n","<br>")),a("#msgBtn").on("tap",function(){f.close().remove()}).focus(),a("#dialog_messagebox").close(function(){a("#dialog_messagebox").remove(),c.ok&&c.ok()})}}function c(c){if(0!=a(".af-dialog-mask:hidden").length&&a(".af-dialog-mask:hidden").remove(),0==a(document).find(".messagebox").length){var d,e='<div id="dialog_messagebox" data-type="dialog" class="messagebox container"><div class="messageWrap clearfix"><div class="msg_icon confirm"></div><div class="msg_txt" id="text"></div></div><div class="msgBtnWrap"><button id="msgBoxOk" class="btn_common black noicon"><span class="btn_icon"></span><span class="btn_txt">OK</span></button><button id="msgBoxCancel" class="btn_common black noicon"><span class="btn_icon"></span><span class="btn_txt">Cancel</span></button></div></div>';if(void 0!=c.id)$a.service("SKENS.CM.Biz.MsgMgmtBiz#GetMsgDetail",{MESSAGEID:c.id},function(f){if(0!=f.recordSets.table1.nc_list.length){d=f.recordSets.table1.nc_list[0].MESSAGEBODY;var g=a(e).appendTo(document.body).convert().open({modal:!0}),h=g.find("#text");h.html(d.replace("\n","<br>"));var i;c.cancel&&(i=c.cancel),a("#msgBoxOk").on("tap",function(){c.ok?(a("#dialog_messagebox").close().remove(),c.ok()):a("#dialog_messagebox").close().remove()}).focus(),a("#msgBoxCancel").on("tap",function(){a("#dialog_messagebox").close().remove()}),a("#dialog_messagebox").close(function(){a("#dialog_messagebox").remove(),i&&i()})}else b("error","잘못된 Message ID를 입력했습니다.")});else if(void 0!=c.msg){d=c.msg;var f=a(e).appendTo(document.body).convert().open({modal:!0}),g=f.find("#text");g.html(d.replace("\n","<br>"));var h;c.cancel&&(h=c.cancel),a("#msgBoxOk").on("tap",function(){c.ok?(a("#dialog_messagebox").close(function(){c.ok()}),a("#dialog_messagebox").close().remove()):a("#dialog_messagebox").close().remove()}).focus(),a("#msgBoxCancel").on("tap",function(){a("#dialog_messagebox").close().remove()}),a("#dialog_messagebox").close(function(){a("#dialog_messagebox").remove(),h&&h()})}else b("error","잘못된 Parameter 입니다.")}}a.extend(a.alopex,{info:function(a){return b("error",a)},error:function(a){b("error",a)},confirm:function(a){c(a)}})}(jQuery),function(a){a.alopex.widget.basebutton=a.alopex.inherit(a.alopex.widget.object,{widgetName:"basebutton",defaultClassName:"af-basebutton",setters:["basebutton"],getters:[],properties:{},eventHandlers:{cancel:{event:"dragstart selectstart",handler:"_cancelEventHandler"}},event:function(a){this.addHoverHighlight(a),this.addPressHighlight(a)},init:function(a){"a"===a.tagName.toLowerCase()&&a.setAttribute("tabindex","0")}})}(jQuery),$.alopex.widget.baseinput=$.alopex.inherit($.alopex.widget.object,{widgetName:"baseinput",eventHandlers:{},event:function(a){this.addHoverHighlight(a)},init:function(a){if(!$.alopex.util.isValid(a.getAttribute("type"))){var b=a.getAttribute("data-type");a.setAttribute("type",b)}},properties:{}}),function(a){a.alopex.widget.baseselect=a.alopex.inherit(a.alopex.widget.object,{widgetName:"baseselect",defaultClassName:"af-baseselect",getters:["getValues","getTexts"],setters:["baseselect","setPlaceholder","setSelected","clear","refresh"],init:function(a){var b=this._getProperty(a,"placeholder");b&&this.setPlaceholder(a,b)},setPlaceholder:function(b,c){var d=a(b);0==d.find("[data-placeholder]").length&&(d.prepend('<option value="" selected="selected" data-placeholder="true" disabled>'+c+"</option>"),d[0].options[0].selected=!0)},setSelected:function(b,c){if(0!==b.children.length){var d,e=!0;for(d=0;d<b.children.length;d++)b.children[d].text===c&&(a(b.children[d]).prop("selected",!0),e=!1);if(e)for(d=0;d<b.children.length;d++)b.children[d].value===c&&a(b.children[d]).prop("selected",!0);a(b).trigger("change")}},getValues:function(b){var c=[];if(b.multi)return a(b).find("option:selected").each(function(){c.push(a(this).val())}),c;var d=[];return a(b).find("option:selected").each(function(){d.push(this.value)}),d},getTexts:function(b){var c=[];if(b.multi)return a(b).find("option:selected").each(function(){c.push(a(this).text())}),c;var d=[];return a(b).find("option:selected").each(function(){d.push(a(this).text())}),d},clear:function(b){a(b).empty(),a.alopex.util.isValid(a(b).attr("data-placeholder"))&&(a(b).prepend('<option value="" selected="selected" disabled>'+a(b).attr("data-placeholder")+"</option>"),a(b)[0].options[0].selected=!0,b.originWidth=a(b).width())},refresh:function(b){var c=a(b);if(a.alopex.util.parseBoolean(b.alopexoptions.wrap)){var d=c.find(":selected").text()||"";a.alopex.widget.divselect._setText(b.parentNode,d)}}})}(jQuery),function(a){a.alopex.widget.button=a.alopex.inherit(a.alopex.widget.basebutton,{widgetName:"button",defaultClassName:"af-button",setters:["button"],getters:[],init:function(b){var c=a(b);"toggle"==c.attr("data-role")&&c.attr("data-type","togglebutton").togglebutton()}})}(jQuery),function(a){a.alopex.widget.carousel=a.alopex.inherit(a.alopex.widget.object,{widgetName:"carousel",defaultClassName:"af-carousel",setters:["carousel","nextSlide","prevSlide","setIndex"],getters:[],eventHandlers:{},properties:{width:0,currentpage:1,totalpage:0,position:0,maxPosition:0,pages:null,prevButton:null,nextButton:null,paging:null,slidable:null,animationDuration:400},setEnabled:null,init:function(b,c){{var d=a(b);a.alopex.widget.object}if(d.css({overflow:"hidden",position:"relative"}),a.extend(b,a.alopex.widget.carousel.properties,c),b.pages=d.find('[data-role="page"]'),b.pagingHeight=50,b.pageHeight=b.pages[0].offsetHeight>0?b.pages[0].offsetHeight:b.offsetHeight-b.pagingHeight,b.width=b.offsetWidth,b.totalpage=b.pages.length,b.prevButton=d.find('[data-role="prev"]').addClass("prev"),b.nextButton=d.find('[data-role="next"]').addClass("next"),b.paging=d.find('[data-role="pagination"]'),b.maxPosition=-1*b.width*(b.totalpage-1),b.paging.attr({"data-type":"pagination","data-generatelink":"mobile","data-maxpage":b.pages.length,"data-totalpage":b.pages.length}).pagination(),b.slidable=document.createElement("div"),b.slidable.element=b,b.appendChild(b.slidable),a(b.slidable).css({width:b.width*b.pages.length+"px",transform:"translate3d(0px, 0px,0px)","-ms-transform":"translateZtranslate3d(0px, 0px,0px)"}),a.alopex.util.isValid(b.pages)){b.pages.css({width:b.width+"px",position:"relative","float":"left"}).each(function(a){this.index=a});for(var e=0;e<b.pages.length;e++)b.slidable.appendChild(b.pages[e])}b.slidemode=!1},event:function(b){var c=a.alopex.widget.carousel;b.paging.on("pagechange",c._evt_pagechange),b.prevButton.on("tap",c._evt_prev_btn),b.nextButton.on("tap",c._evt_next_btn),a(window).on("resize",{object:b},this._evt_resize),a(b.slidable).on("pressed",c._evt_pressed),"mobile"==window.browser?a(b.slidable).on("touchmove",c._evt_move):(a(b.slidable).on("swipemove",c._evt_swipemove),this._addSwipeEvent(b)),a(window).on("resize",{object:b},this._evt_resize)},_evt_resize:function(b){el=b.data.object,el.width=el.offsetWidth,a(el.slidable).css("width",el.width*el.pages.length+"px"),el.pages.css("width",el.width+"px").css("position","relative"),el.position=-1*(el.currentpage-1)*el.width,a.alopex.widget.carousel._slide(el,el.position)},_addSwipeEvent:function(b,c){var d="on";c&&(d="one");var e=this._evt_swipe;b.buttons&&(e=a.alopex.widget.tabs._evt_swipe),a(b.slidable)[d]("swipecancel",this._evt_swipecancel),a(b.slidable)[d]("swipe",{distanceX:60},e)},_removeSwipeEvent:function(b){a(b.slidable).off("swipemove",this._evt_swipemove),a(b.slidable).off("swipecancel",this._evt_swipecancel),a(b.slidable).off("swipe",{distanceX:60},this._evt_swipe)},_slide:function(b,c){if(a.alopex.widget.carousel.transitionSupport)a(b.slidable).css("transform","translate("+c+"px,0)"),a(b.slidable).css("transform","translate3d("+c+"px,0,0)");else{var d=a(b).css("height");a(b.slidable).css({position:"absolute",left:c+"px"}),void 0!=d&&a(b).css("height",d)}},_evt_pagechange:function(b,c){var d=a(b.currentTarget).parent('[data-type="carousel"]')[0],e=d.currentpage-c;d.position=d.position+e*d.width,d.currentpage=c,a.alopex.widget.carousel._slide(d,d.position)},_evt_prev_btn:function(b){var c=a(b.currentTarget).parent('[data-type="carousel"]')[0];a(c).prevSlide()},_evt_next_btn:function(b){var c=a(b.currentTarget).parent('[data-type="carousel"]')[0];a(c).nextSlide()},_evt_move:function(b){var c=b.currentTarget.element;if(!c.pressed)return!1;var d,e=b.touches||b.originalEvent.touches;e&&e.length>0?(e=e[0],d={x:e.clientX?e.clientX:0,y:e.clientY?e.clientY:0}):d={x:b.clientX,y:b.clientY},"vertical"==c.mode?__ALOG("==== 현재 스크롤 ====== "):"horizontal"==c.mode?(b.preventDefault(),__ALOG("==== 현재 스와이프  ====== "),distanceX=d.x-c.presspoint.x,Math.abs(distanceX)>c.width&&(distanceX=distanceX/distanceX*c.width),b.preventDefault(),a.alopex.widget.carousel._slide(c,c.position+distanceX)):(a.alopex.widget.carousel._removeSwipeEvent(c),Math.abs(c.presspoint.y-d.y)>10?(c.mode="vertical",__ALOG("==== 버티컬 모드로 진입 ====== ")):(__ALOG("==== 스와이프  모드로 진입 ====== "),c.mode="horizontal",a.alopex.widget.carousel._addSwipeEvent(c,!0)))},_evt_pressed:function(b){var c=a(b.currentTarget).parent('[data-type="carousel"]')[0];
if(c.mode=null,c.pressed=!0,a(c.slidable).css("transition","all 0s ease-in-out"),"mobile"==window.browser){var d=b.touches||b.originalEvent.touches||b.originalEvent.originalEvent.touches;d&&d.length>0&&(d=d[0],c.presspoint={x:d.clientX?d.clientX:0,y:d.clientY?d.clientY:0})}else c.presspoint={x:b.clientX,y:b.clientY}},_evt_swipemove:function(b,c){var d=a(b.currentTarget).parent('[data-type="carousel"]')[0];d.pressed&&(Math.abs(c.distanceX)>d.width&&(c.distanceX=c.distanceX/c.distanceX*d.width),b.preventDefault(),a.alopex.widget.carousel._slide(d,d.position+c.distanceX))},_evt_swipe:function(b,c){var d=a(b.currentTarget).parent('[data-type="carousel"]')[0],e=(d.width-Math.abs(c.distanceX))/c.speed*1e3;e>500&&(e=500),c.distanceX<0?a(d).nextSlide({animationDuration:e}):a(d).prevSlide({animationDuration:e}),d.press=!1,a(d).trigger("swipechange",[d.currentpage-1])},_evt_swipecancel:function(b){var c=a(b.currentTarget).parent('[data-type="carousel"]')[0];a.alopex.widget.carousel._slide(c,c.position),c.pressed=!1},nextSlide:function(b,c){var d=c&&c.animationDuration?c.animationDuration:b.animationDuration;a(b.slidable).css("transition","all "+d+"ms ease-in-out"),b.currentpage<b.totalpage&&(b.position-=b.width,b.currentpage++,b.paging.setSelectedPage(b.currentpage,!0)),a.alopex.widget.carousel._slide(b,b.position),setTimeout(function(){a(b.slidable).css("transition","all "+b.animationDuration+"ms ease-in-out")},d)},prevSlide:function(b,c){var d=c&&c.animationDuration?c.animationDuration:b.animationDuration;a(b.slidable).css("transition","all "+d+"ms ease-in-out"),b.currentpage>1&&(b.position+=b.width,b.currentpage--,b.paging.setSelectedPage(b.currentpage,!0)),a.alopex.widget.carousel._slide(b,b.position),setTimeout(function(){a(b.slidable).css("transition","all "+b.animationDuration+"ms ease-in-out")},d)},setIndex:function(b,c,d){if(!(0>c||c>=b.pages.length)){var e=d&&void 0!=d.animationDuration?d.animationDuration:b.animationDuration;a(b.slidable).css("transition","all "+e+"ms ease-in-out"),b.position=b.width*c*-1,b.currentpage=c+1,b.paging.setSelectedPage(b.currentpage,!0),a.alopex.widget.carousel._slide(b,b.position),setTimeout(function(){a(b.slidable).css("transition","all "+b.animationDuration+"ms ease-in-out")},e)}},transitionSupport:function(){return-1!==navigator.userAgent.indexOf("MSIE")&&-1===navigator.userAgent.indexOf("MSIE 9")&&-1===navigator.userAgent.indexOf("MSIE 10")?!1:!0}()})}(jQuery),function(a){a.alopex.widget.checkbox=a.alopex.inherit(a.alopex.widget.baseinput,{widgetName:"checkbox",defaultClassName:"af-checkbox",defaultTextClassName:"af-checkbox-text",getters:["getValues","getTexts"],setters:["checkbox","setCheckAll","setChecked","setValues","toggle"],style:function(b){b.id?a('label[for="'+b.id+'"]').addClass(this.defaultTextClassName):a(b).parent("label").addClass(this.defaultTextClassName)},properties:{quickResponse:!1},setQuickResonse:function(){},setCheckAll:function(b,c){if(a.alopex.util.isValid(c)){for(var d=a("input[name="+b.name+"]"),e=0;e<d.length;e++){var f=d[e];f.checked=c?!0:!1}a(b).trigger("change")}},setChecked:function(b,c){a.alopex.util.isValid(c)&&("INPUT"===b.tagName&&(b.checked=c?!0:!1),a(b).trigger("change"))},getValues:function(b){for(var c=[],d=a("input[name="+b.name+"]:checked"),e=0;e<d.length;e++){var f=d[e];c.push(a(f).val())}return c},setValues:function(b,c){for(var d=a("input[name="+b.name+"]").prop("checked",!1),e=0;e<d.length;e++)for(var f=d[e],g=0;g<c.length;g++)f.value===c[g]&&(a(f).prop("checked",!0),c.splice(g,1));a(b).trigger("change")},getTexts:function(b){for(var c=[],d=a("input[name="+b.name+"]:checked"),e=0;e<d.length;e++){var f=d[e],g=a(f).attr("id"),h=a(b).parent().find('label[for="'+g+'"]');c.push(a(h).text())}return c},toggle:function(b){for(var c=a("input[name="+b.name+"]"),d=0;d<c.length;d++){var e=c[d];a(e).prop("checked")?a(e).prop("checked",!1):a(e).prop("checked",!0)}a(b).trigger("change")}})}(jQuery),function(a){a.alopex.widget.dateinput=a.alopex.inherit(a.alopex.widget.object,{widgetName:"dateinput",defaultClassName:"af-dateinput",setters:["dateinput","setEnabled","update","clear"],getters:[],properties:{date:new Date,format:"yyyy-MM-dd",image:!1,selectyear:!1,selectmonth:!1,pickertype:"daily",mindate:null,maxdate:null,callback:null,resetbutton:!1,blurcallback:null},_generateDate:function(a){if(a=a.replace(/\-/gi,""),8==a.length){var b=a.substr(0,4)+"-"+a.substr(4,2)+"-"+a.substr(6,2);return new Date(b)}},init:function(b,c){var d=a(b);if(b.options=a.extend({},this.properties,c),"monthly"!=c.pickertype||c.format||(b.options.format="yyyy-MM"),a(b).attr("maxlength",b.options.format.length),a(b).attr("placeholder",b.options.format),this.addHoverHighlight(b),this.addPressHighlight(b),b.options.image!==!1){{parseInt(d.css("height"))}b.imagebutton=a("<div></div>").insertAfter(b).addClass("af-dateinput-image"),""!==b.options.image&&a(b.imagebutton).css("background-image","url("+b.options.image+")"),b.imagebutton[0].element=b}b.options.resetbutton&&(b.resetbutton=a("<div>x</div>").insertAfter(b).addClass("af-reset-button"),b.resetbutton[0].element=b,b.resetbutton.on("tap",function(b){var c=b.currentTarget,d=a(c.element);d.is(".af-disabled")||(c.daterange?a(c.daterange).clear():d.clear(),b.preventDefault(),b.stopPropagation())})),d.attr("type","text"),this.setEnabled(b,b.options.enabled),d.on("blur",this._blurHandler)},_blurHandler:function(b){var c=b.currentTarget,d=a(c).val(),e=c.options.format,f=e.replace("yyyy","").replace("MM","").replace("dd",""),g=e.replace("yyyy","\\d{1,4}").replace("MM","\\d{1,2}").replace("dd","\\d{1,2}");g=new RegExp(g),-1==d.indexOf(f)&&8==d.length&&d==parseInt(d).toString()&&(d=d.substr(0,4)+"-"+d.substr(4,2)+"-"+d.substr(6,2),a(c).trigger("change"));var h=new Date(d);(isNaN(h.getTime())||a.alopex.util.getDateString(h,e)!=d)&&(a(c).val(""),a(c).trigger("change"),c.options.blurcallback&&c.options.blurcallback(c,d))},update:function(b,c){a.extend(b.options,c)},setEnabled:function(b,c){var d=a(b);c=a.alopex.util.parseBoolean(c),a(b).off("tap",this._clickEventHandler),a(b.imagebutton).off("tap",this._clickEventHandler),c?(b.imagebutton?a(b.imagebutton).on("tap",this._clickEventHandler):d.on("tap",this._clickEventHandler),d.add(b.imagebutton).removeClass("af-disabled"),d.removeAttr("readonly")):(d.add(b.imagebutton).addClass("af-disabled"),d.attr("readonly",!0))},clear:function(b){a(b).val(""),a(b).trigger("change")},_clickEventHandler:function(b){var c=a.alopex.widget.dateinput,d=b.currentTarget.element||b.currentTarget,e=a(d).val(),f=new Date(e);f=isNaN(f.getYear())?null:f;var g=a.extend({},a.alopex.widget.dateinput.properties,d.options,{date:f}),h=a(d).attr("data-mindate");h&&(g.mindate=c._generateDate(h));var i=a(d).attr("data-maxdate");i&&(g.maxdate=c._generateDate(i)),a(d).showDatePicker(function(b,c){a(d).val(c),a(d).trigger("change"),d.options.callback&&d.options.callback.call(d,b,c)},g)}})}(jQuery),function(a){a.alopex.datePickerMap||(a.alopex.datePickerMap={datePickerObj:{},setObject:function(a,b){this.datePickerObj[a]=b},getObjectByNode:function(b){for(var c=a(b);"af-datepicker"!==c.attr("data-type");)c=c.parent();return this.datePickerObj[c.attr("id")]},getObjectById:function(a){var b="";return b=a.indexOf("datepicker_")<0?"datepicker_"+a:a,this.datePickerObj[b]},removeObjectById:function(a){var b="";b=a.indexOf("datepicker_")<0?"datepicker_"+a:a,delete this.datePickerObj[b]},removeObjectByNode:function(b){for(var c=a(b);"af-datepicker"!==c.attr("data-type");)c=c.parent();delete this.datePickerObj[c.attr("id")]}},a.alopex.datePicker={MONTHS_KO:["1","2","3","4","5","6","7","8","9","10","11","12"],MONTHS_EN:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],MONTHS_JA:["1","2","3","4","5","6","7","8","9","10","11","12"],MONTHS_ZH:["1","2","3","4","5","6","7","8","9","10","11","12"],WEEKDAYS_KO:["일","월","화","수","목","금","토"],WEEKDAYS_EN:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],WEEKDAYS_JA:["日","月","火","水","木","金","土"],WEEKDAYS_ZH:["日","一","二","三","四","五","六"],POSTFIX_KO:["년","월","일"],POSTFIX_EN:["","",""],POSTFIX_JA:["年","月","日"],POSTFIX_ZH:["年","月","日"],DESC_PREVYEAR_KO:"이전년도",DESC_PREVYEAR_EN:"previous year",DESC_PREVYEAR_JA:"前年",DESC_PREVYEAR_ZH:"前一年",DESC_NEXTYEAR_KO:"다음년도",DESC_NEXTYEAR_EN:"next year",DESC_NEXTYEAR_JA:"翌年",DESC_NEXTYEAR_ZH:"明年",DESC_PREVMONTH_KO:"이전 월",DESC_PREVMONTH_EN:"previous month",DESC_PREVMONTH_JA:"先月",DESC_PREVMONTH_ZH:"上个月",DESC_NEXTMONTH_KO:"다음 월",DESC_NEXTMONTH_EN:"next month",DESC_NEXTMONTH_JA:"来月",DESC_NEXTMONTH_ZH:"下个月",DESC_CLOSE_KO:"닫기",DESC_CLOSE_EN:"close",DESC_CLOSE_JA:"終了",DESC_CLOSE_ZH:"关闭",DESC_YEARSELECT_KO:"년도 선택",DESC_YEARSELECT_EN:"year select",DESC_YEARSELECT_JA:"年を選択",DESC_YEARSELECT_ZH:"年份选择",DESC_MONTHSELECT_KO:"월 선택",DESC_MONTHSELECT_EN:"month select",DESC_MONTHSELECT_JA:"月選択",DESC_MONTHSELECT_ZH:"月份选择",DESC_MONTH_SUMMARY_KO:"월을 선택할 수 있는 달력입니다.",DESC_MONTH_SUMMARY_EN:"you can select month.",DESC_MONTH_SUMMARY_JA:"月を 選べるカレンダーです.",DESC_MONTH_SUMMARY_ZH:"选择月份的日历.",DESC_MONTH_CAPTION_KO:"월 달력",DESC_MONTH_CAPTION_EN:"month picker",DESC_MONTH_CAPTION_JA:"月カレンダー",DESC_MONTH_CAPTION_ZH:"月份日历",DESC_DAY_SUMMARY_KO:"날짜를 선택할 수 있는 달력입니다.",DESC_DAY_SUMMARY_EN:"you can select a day.",DESC_DAY_SUMMARY_JA:"日にちを選べるカレンダーです.",DESC_DAY_SUMMARY_ZH:"选择日期的日历.",DESC_DAY_CAPTION_KO:"달력",DESC_DAY_CAPTION_EN:"datepicker",DESC_DAY_CAPTION_JA:"カレンダー",DESC_DAY_CAPTION_ZH:"日历",DESC_TODAY_BTN_KO:"오늘",DESC_TODAY_BTN_EN:"Today",DESC_TODAY_BTN_JA:"今日",DESC_TODAY_BTN_ZH:"今天",currentDate:null,weekdays:[],months:[],dateFormat:null,datePostfix:[],localeInfo:null,certainDates:[],mindate:null,maxdate:null,descPrevYear:null,descNextYear:null,descPrevMonth:null,descNextMonth:null,descClose:null,descYearSelect:null,descMonthSelect:null,descMonthSummary:null,descMonthCaption:null,descDaySummary:null,descDayCaption:null,descTodayBtn:null,daysInMonth:[31,28,31,30,31,30,31,31,30,31,30,31],calendarBody:null,calendarMonth:null,calendarYear:null,prevMonth:null,nextMonth:null,prevYear:null,nextYear:null,btn_close:null,_renderCache:[],targetElem:null,_callback:null,closeCallback:null,calendarContainer:null,datePickerTheme:"af-default",datePickerInlineTheme:"af-inline",currentArea:null,inline:!1,pickertype:"daily",selectyear:!1,selectmonth:!1,showothermonth:!1,showbottom:!1,setDefaultDate:function(b){try{if(this.currentDate=new Date,a.alopex.util.isValid(b)&&b.hasOwnProperty("date")){var c=b.date;if(c instanceof Date)this.currentDate=c;else{if(!a.alopex.util.isValid(c.year)||!a.alopex.util.isNumberType(c.year)||c.year<1900||c.year>2100||!a.alopex.util.isValid(c.month)||!a.alopex.util.isNumberType(c.month)||c.month<1||c.month>12||!a.alopex.util.isValid(c.day)||!a.alopex.util.isNumberType(c.day)||c.day>31||c.day<1)throw"[DatePicker Error] Invalid Date => "+c.year+"-"+c.month+"-"+c.day;this.currentDate=new Date(c.year,c.month-1,c.day)}}}catch(d){}},setFormat:function(b){var c="yyyyMMdd";if(a.alopex.util.isValid(b)&&b.hasOwnProperty("format")&&a.alopex.util.isValid(b.format)){var d=/[Y|m|D|e]/g;d.test(b.format)||(c=b.format)}this.dateFormat=c},setLocale:function(b){var c="ko";switch(this.localeInfo="ko",a.alopex.util.isValid(b)&&b.hasOwnProperty("locale")&&(c=b.locale),c){case"en":this.weekdays=this.WEEKDAYS_EN,this.months=this.MONTHS_EN,this.datePostfix=this.POSTFIX_EN,this.descPrevYear=this.DESC_PREVYEAR_EN,this.descNextYear=this.DESC_NEXTYEAR_EN,this.descPrevMonth=this.DESC_PREVMONTH_EN,this.descNextMonth=this.DESC_NEXTMONTH_EN,this.descClose=this.DESC_CLOSE_EN,this.descYearSelect=this.DESC_YEARSELECT_EN,this.descMonthSelect=this.DESC_MONTHSELECT_EN,this.descMonthSummary=this.DESC_MONTH_SUMMARY_EN,this.descMonthCaption=this.DESC_MONTH_CAPTION_EN,this.descDaySummary=this.DESC_DAY_SUMMARY_EN,this.descDayCaption=this.DESC_DAY_CAPTION_EN,this.descTodayBtn=this.DESC_TODAY_BTN_EN,this.localeInfo="en";break;case"ko":this.weekdays=this.WEEKDAYS_KO,this.months=this.MONTHS_KO,this.datePostfix=this.POSTFIX_KO,this.descPrevYear=this.DESC_PREVYEAR_KO,this.descNextYear=this.DESC_NEXTYEAR_KO,this.descPrevMonth=this.DESC_PREVMONTH_KO,this.descNextMonth=this.DESC_NEXTMONTH_KO,this.descClose=this.DESC_CLOSE_KO,this.descYearSelect=this.DESC_YEARSELECT_KO,this.descMonthSelect=this.DESC_MONTHSELECT_KO,this.descMonthSummary=this.DESC_MONTH_SUMMARY_KO,this.descMonthCaption=this.DESC_MONTH_CAPTION_KO,this.descDaySummary=this.DESC_DAY_SUMMARY_KO,this.descDayCaption=this.DESC_DAY_CAPTION_KO,this.descTodayBtn=this.DESC_TODAY_BTN_KO,this.localeInfo="ko";break;case"ja":this.weekdays=this.WEEKDAYS_JA,this.months=this.MONTHS_JA,this.datePostfix=this.POSTFIX_JA,this.descPrevYear=this.DESC_PREVYEAR_JA,this.descNextYear=this.DESC_NEXTYEAR_JA,this.descPrevMonth=this.DESC_PREVMONTH_JA,this.descNextMonth=this.DESC_NEXTMONTH_JA,this.descClose=this.DESC_CLOSE_JA,this.descYearSelect=this.DESC_YEARSELECT_JA,this.descMonthSelect=this.DESC_MONTHSELECT_JA,this.descMonthSummary=this.DESC_MONTH_SUMMARY_JA,this.descMonthCaption=this.DESC_MONTH_CAPTION_JA,this.descDaySummary=this.DESC_DAY_SUMMARY_JA,this.descDayCaption=this.DESC_DAY_CAPTION_JA,this.descTodayBtn=this.DESC_TODAY_BTN_JA,this.localeInfo="ja";break;case"zh":this.weekdays=this.WEEKDAYS_ZH,this.months=this.MONTHS_ZH,this.datePostfix=this.POSTFIX_ZH,this.descPrevYear=this.DESC_PREVYEAR_ZH,this.descNextYear=this.DESC_NEXTYEAR_ZH,this.descPrevMonth=this.DESC_PREVMONTH_ZH,this.descNextMonth=this.DESC_NEXTMONTH_ZH,this.descClose=this.DESC_CLOSE_ZH,this.descYearSelect=this.DESC_YEARSELECT_ZH,this.descMonthSelect=this.DESC_MONTHSELECT_ZH,this.descMonthSummary=this.DESC_MONTH_SUMMARY_ZH,this.descMonthCaption=this.DESC_MONTH_CAPTION_ZH,this.descDaySummary=this.DESC_DAY_SUMMARY_ZH,this.descDayCaption=this.DESC_DAY_CAPTION_ZH,this.descTodayBtn=this.DESC_TODAY_BTN_ZH,this.localeInfo="zh";break;default:this.weekdays=this.WEEKDAYS_KO,this.months=this.MONTHS_KO,this.datePostfix=this.POSTFIX_KO,this.descPrevYear=this.DESC_PREVYEAR_KO,this.descNextYear=this.DESC_NEXTYEAR_KO,this.descPrevMonth=this.DESC_PREVMONTH_KO,this.descNextMonth=this.DESC_NEXTMONTH_KO,this.descClose=this.DESC_CLOSE_KO,this.descYearSelect=this.DESC_YEARSELECT_KO,this.descMonthSelect=this.DESC_MONTHSELECT_KO,this.descMonthSummary=this.DESC_MONTH_SUMMARY_KO,this.descMonthCaption=this.DESC_MONTH_CAPTION_KO,this.descDaySummary=this.DESC_DAY_SUMMARY_KO,this.descDayCaption=this.DESC_DAY_CAPTION_KO,this.descTodayBtn=this.DESC_TODAY_BTN_KO,this.localeInfo="ko"}},setCertainDates:function(b){a.alopex.util.isValid(b)&&b.hasOwnProperty("certainDates")&&(this.certainDates=b.certainDates)},setThemeClass:function(b){a.alopex.util.isValid(b)&&b.hasOwnProperty("themeClass")&&(this.datePickerTheme=b.themeClass)},setInline:function(b){a.alopex.util.isValid(b)&&b.hasOwnProperty("inline")&&(this.inline=b.inline)},setMenuSelect:function(b){a.alopex.util.isValid(b)&&(b.hasOwnProperty("selectyear")||b.hasOwnProperty("selectmonth")||b.hasOwnProperty("selectYear")||b.hasOwnProperty("selectMonth"))&&(this.selectyear=b.selectyear||b.selectYear,this.selectmonth=b.selectmonth||b.selectMonth)},setPickerType:function(b){a.alopex.util.isValid(b)&&(b.hasOwnProperty("pickertype")||b.hasOwnProperty("pickerType"))&&(this.pickertype=b.pickertype||b.pickerType)},setShowOtherMonth:function(b){a.alopex.util.isValid(b)&&(b.hasOwnProperty("showOtherMonth")||b.hasOwnProperty("showOthermonth")||b.hasOwnProperty("showotherMonth")||b.hasOwnProperty("showothermonth"))&&(this.showothermonth=b.showOtherMonth||b.showOthermonth||b.showotherMonth||b.showothermonth)},setShowBottom:function(b){a.alopex.util.isValid(b)&&(b.hasOwnProperty("showBottom")||b.hasOwnProperty("showbottom"))&&(this.showbottom=b.showBottom||b.showbottom)},setCloseCallback:function(b){a.alopex.util.isValid(b)&&b.hasOwnProperty("closeCallback")&&(this.closeCallback=b.closeCallback)},setMinDate:function(b){var c=new Date;a.alopex.util.isValid(b)&&(a.alopex.util.isValid(b.mindate)||a.alopex.util.isValid(b.minDate))?(this.mindate=b.mindate||b.minDate,this.mindate.setHours(0),this.mindate.setMinutes(0),this.mindate.setMilliseconds(0)):this.mindate=this.selectyear?new Date(c.getFullYear()-10,1,1,0,0,0):new Date(c.getFullYear()-100,1,1,0,0,0)},setMaxDate:function(b){var c=new Date;a.alopex.util.isValid(b)&&(a.alopex.util.isValid(b.maxdate)||a.alopex.util.isValid(b.maxDate))?(this.maxdate=b.maxdate||b.maxDate,this.maxdate.setHours(0),this.maxdate.setMinutes(0),this.maxdate.setMilliseconds(0)):this.maxdate=this.selectyear?new Date(c.getFullYear()+10,1,1,0,0,0):new Date(c.getFullYear()+100,1,1,0,0,0),this.maxdate<this.mindate&&(this.selectyear?(this.mindate=new Date(c.getFullYear()-10,1,1,0,0,0),this.maxdate=new Date(c.getFullYear()+10,1,1,0,0,0)):(this.mindate=new Date(c.getFullYear()-100,1,1,0,0,0),this.maxdate=new Date(c.getFullYear()+100,1,1,0,0,0)))},_isCertainDate:function(a){for(var b=0;b<this.certainDates.length;b++)for(var c=this.certainDates[b],d=0;d<c.dates.length;d++)if(this.currentYearView===c.dates[d].getFullYear()&&this.currentMonthView===c.dates[d].getMonth()&&Number(a)===c.dates[d].getDate())return c;return!1},_isBelowMinDate:function(a){var b;return b=1===arguments.length?new Date(this.currentYearView,this.currentMonthView,a,0,0,0):new Date(this.currentYearView,arguments[0],arguments[1],0,0,0),b<this.mindate?!0:!1},_isAboveMaxDate:function(a){var b;return b=1===arguments.length?new Date(this.currentYearView,this.currentMonthView,a,0,0,0):new Date(this.currentYearView,arguments[0],arguments[1],0,0,0),this.maxdate<b?!0:!1},getDateByFormat:function(b,c,d,e){var f={year:b.year+"",month:b.month+"",day:b.day+""},g=this._getFormattedDate(b,c);this._callback(f,g,d,e),a.alopex.util.isValid(this.closeCallback)&&this.closeCallback()},_getFormattedDate:function(b,c){function d(a){return"y"===a||"M"===a||"d"===a||"E"===a||void 0===a||null===a||""===a?!0:!1}var e="",f=new Date(b.year,b.month-1,b.day),g=0,h=0,i=0,j=0,k=0,l=[],m=[],n=[];a.alopex.util.isValid(c)||(c="yyyyMMdd");for(var o=c.split(""),p="";g<o.length;)"y"===o[g]?(h=c.split("y").length-1,g+=h,m.push("y-"+h),d(o[g])&&l.push("")):"M"===o[g]?(i=c.split("M").length-1,g+=i,m.push("M-"+i),d(o[g])&&l.push("")):"d"===o[g]?(j=c.split("d").length-1,g+=j,m.push("d-"+j),d(o[g])&&l.push("")):"E"===o[g]?(k=c.split("E").length-1,g+=k,m.push("E-"+k),d(o[g])&&l.push("")):(p+=o[g],d(o[g+1])&&(l.push(p),p=""),g++);for(g=0;g<m.length;g++){var q=m[g].split("-");switch(q[0]){case"y":var r=f.getFullYear();n.push("2"===q[1]?r.toString().substring(2,4):"4"===q[1]?r.toString():r.toString());break;case"M":var s=f.getMonth();n.push("1"===q[1]?s+1:"2"===q[1]?10>s+1?"0"+(s+1):s+1:"3"===q[1]?this._monthToStr(s,!1):"4"===q[1]?this._monthToStr(s,!0):10>s+1?"0"+(s+1):s+1);break;case"d":if("daily"!==this.pickertype)break;var t=f.getDate();n.push("1"===q[1]?t:"2"===q[1]?10>t?"0"+t:t:10>t?"0"+t:t);break;case"E":var u=f.getDay();n.push("3"===q[1]?this._dayToStr(u,!1):"4"===q[1]?this._dayToStr(u,!0):this._dayToStr(u,!1))}}for(g=0;g<n.length;g++)e+=n[g],0!==l.length&&g<=l.length&&(e+=l[g]);return e},_close:function(b){var c=null;a.alopex.util.isValid(b)?(c=a.alopex.datePickerMap.getObjectByNode(b.currentTarget),c.overlayElement&&setTimeout(function(){a(c.overlayElement).remove()},300),c.inline||(a(c.targetElem).focus(),a(c.calendarContainer).remove(),a.alopex.datePickerMap.removeObjectByNode(b.currentTarget))):(c=this,c.overlayElement&&setTimeout(function(){a(c.overlayElement).remove()},300),c.inline||(a(c.targetElem).focus(),a(c.calendarContainer).remove(),a.alopex.datePickerMap.removeObjectById(c.calendarContainerId))),a(window).unbind("hashchange",c._onHashChange),a(window).unbind("resize",c._resizeHandler),a(document.body).unbind("pressed",c._mouseDownHandler),a(document.body).unbind("keydown",c._addKeyEvent)},_addKeyEvent:function(b){var c,d=b.data.obj,e=!1,f=!1;d.currentArea=a(document.activeElement),c=a(d.currentArea)[0].value,b.ctrlKey&&(e=!0),b.shiftKey&&(f=!0);var g,h=b.keyCode?b.keyCode:b.which;switch(h){case 13:case 32:a(d.currentArea).trigger("tap"),"prevYear"!==c&&"nextYear"!==c&&"prevMonth"!==c&&"nextMonth"!==c&&"af-datepicker"!==a(d.currentArea).attr("data-type")&&a(d.targetElem).focus(),b.preventDefault(),b.stopPropagation();break;case 9:f?"af-datepicker"===a(d.currentArea).attr("data-type")&&(a(d.targetElem).focus(),d._close(),b.preventDefault()):"close"===a(d.currentArea)[0].value&&(a(d.calendarContainer).focus(),b.preventDefault());break;case 37:("prevYear"===c||"nextYear"===c||"prevMonth"===c||"nextMonth"===c||"close"===c||"af-datepicker"===a(d.currentArea).attr("data-type"))&&(d.currentArea=a(d.calendarContainer).find("a[class*=af-today]"),c=void 0==a(d.currentArea)[0]?2:a(d.currentArea)[0].value),0>=c-1?(a(d.prevMonth).trigger("tap"),g=d._getNumDaysOfMonth()):g=c-1,d.currentArea=a(d.calendarContainer).find("[href=#"+g+"]"),a(d.currentArea).focus(),b.preventDefault();break;case 39:("prevYear"===c||"nextYear"===c||"prevMonth"===c||"nextMonth"===c||"close"===c||"af-datepicker"===a(d.currentArea).attr("data-type"))&&(d.currentArea=a(d.calendarContainer).find("a[class*=af-today]"),c=void 0==a(d.currentArea)[0]?0:a(d.currentArea)[0].value),c+1>d._getNumDaysOfMonth()?(a(d.nextMonth).trigger("tap"),g=1):g=c+1,d.currentArea=a(d.calendarContainer).find("[href=#"+g+"]"),a(d.currentArea).focus(),b.preventDefault();break;case 38:if("SELECT"===b.target.nodeName)return;("prevYear"===c||"nextYear"===c||"prevMonth"===c||"nextMonth"===c||"close"===c||"af-datepicker"===a(d.currentArea).attr("data-type"))&&(d.currentArea=a(d.calendarContainer).find("a[class*=af-today]"),c=void 0==a(d.currentArea)[0]?8:a(d.currentArea)[0].value),0>=c-7?(a(d.prevMonth).trigger("tap"),g=d._getNumDaysOfMonth()+(c-7)):g=c-7,d.currentArea=a(d.calendarContainer).find("[href=#"+g+"]"),a(d.currentArea).focus(),b.preventDefault();break;case 40:if("SELECT"===b.target.nodeName)return;("prevYear"===c||"nextYear"===c||"prevMonth"===c||"nextMonth"===c||"close"===c||"af-datepicker"===a(d.currentArea).attr("data-type"))&&(d.currentArea=a(d.calendarContainer).find("a[class*=af-today]"),c=void 0==a(d.currentArea)[0]?-6:a(d.currentArea)[0].value),c+7>d._getNumDaysOfMonth()?(g=c+7-d._getNumDaysOfMonth(),a(d.nextMonth).trigger("tap")):g=c+7,d.currentArea=a(d.calendarContainer).find("[href=#"+g+"]"),a(d.currentArea).focus(),b.preventDefault();break;case 27:a(d.targetElem).focus(),d._close(),b.preventDefault();break;case 36:if(e){for(d.currentYearView=d._getCurrentYear(),d.currentMonthView=d._getCurrentMonthToInteger(),this.setText(this.calendarYear,this._addLocalePostfix(this.currentYearView,"y")),this.setText(this.calendarMonth,this._addLocalePostfix(this._getMonthToString(!0),"m"));d.calendarBody.hasChildNodes();)d.calendarBody.removeChild(d.calendarBody.lastChild);d.calendarBody.appendChild(d._renderCalendar()),d.currentArea=a(d.calendarContainer).find("a[class*=af-today]"),a(d.currentArea).focus()}else d.currentArea=a(d.calendarContainer).find("[href=#1]"),a(d.currentArea).focus();b.preventDefault();break;case 35:d.currentArea=a(d.calendarContainer).find("[href=#"+d._getNumDaysOfMonth()+"]"),a(d.currentArea).focus(),b.preventDefault();break;case 33:("prevYear"===c||"nextYear"===c||"prevMonth"===c||"nextMonth"===c||"close"===c||"af-datepicker"===a(d.currentArea).attr("data-type"))&&(d.currentArea=a(d.calendarContainer).find("a[class*=af-today]"),c=a(d.currentArea)[0].value),f?(a(d.prevYear).trigger("tap"),g=1===d.currentMonthView&&29===c?28:c):(a(d.prevMonth).trigger("tap"),g=d._getNumDaysOfMonth()<c?d._getNumDaysOfMonth():c),d.currentArea=a(d.calendarContainer).find("[href=#"+g+"]"),a(d.currentArea).focus(),b.preventDefault();break;case 34:("prevYear"===c||"nextYear"===c||"prevMonth"===c||"nextMonth"===c||"close"===c||"af-datepicker"===a(d.currentArea).attr("data-type"))&&(d.currentArea=a(d.calendarContainer).find("a[class*=af-today]"),c=a(d.currentArea)[0].value),f?(a(d.nextYear).trigger("tap"),g=1===d.currentMonthView&&29===c?28:c):(a(d.nextMonth).trigger("tap"),g=d._getNumDaysOfMonth()<c?d._getNumDaysOfMonth():c),d.currentArea=a(d.calendarContainer).find("[href=#"+g+"]"),a(d.currentArea).focus(),b.preventDefault();break;default:e||f||(a(d.targetElem).focus(),d._close())}},_addLocalePostfix:function(a,b){var c=a+"";switch(b){case"y":c+=this.datePostfix[0];break;case"m":c+=this.datePostfix[1];break;case"d":c+=this.datePostfix[2]}return c},_getCurrentYear:function(){return this.currentDate.getFullYear()},_getCurrentMonthToInteger:function(){return this.currentDate.getMonth()},_getCurrentMonthToString:function(a){var b=this.currentDate.getMonth();return this._monthToStr(b,a)},_getCurrentDay:function(){return this.currentDate.getDate()},_getMonthToInteger:function(){return this.currentMonthView},_getMonthToString:function(a){var b=this.currentMonthView;return this._monthToStr(b,a)},_getNumDaysOfMonth:function(b,c){return a.alopex.util.isValid(b)&&a.alopex.util.isValid(c)?1!==c||3&b||!(b%100)&&b%400?this.daysInMonth[c]:29:1!==this._getMonthToInteger()||3&this.currentYearView||!(this.currentYearView%100)&&this.currentYearView%400?this.daysInMonth[this._getMonthToInteger()]:29},_render:function(a,b,c){var d;if(a in this._renderCache||(this._renderCache[a]=document.createElement(a)),d=this._renderCache[a].cloneNode(!1),null!==b)for(var e in b)d[e]=b[e];return null!==c&&void 0!==c&&("object"==typeof c?d.appendChild(c):d.innerHTML=c),d},_monthToStr:function(a,b){return b===!0?this.months[a]:this.months[a].length>3?this.months[a].substring(0,3):this.months[a]},_dayToStr:function(a,b){return b===!0?this.weekdays[a]:this.weekdays[a].length>3?this.weekdays[a].substring(0,3):this.weekdays[a]},_clickYear:function(){for(this.currentYearView<1900?this.currentYearView=1900:this.currentYearView>2100&&(this.currentYearView=2100),this.currentYearView===this.mindate.getFullYear()&&this.currentMonthView<this.mindate.getMonth()&&(this.currentMonthView=this.mindate.getMonth()),this.currentYearView===this.maxdate.getFullYear()&&this.maxdate.getMonth()<this.currentMonthView&&(this.currentMonthView=this.maxdate.getMonth()),this.setText(this.calendarYear,this._addLocalePostfix(this.currentYearView,"y")),this.calendarMonth&&this.setText(this.calendarMonth,this._addLocalePostfix(this._getMonthToString(!0),"m"));this.calendarBody.hasChildNodes();)this.calendarBody.removeChild(this.calendarBody.lastChild);return"daily"===this.pickertype?this.calendarBody.appendChild(this._renderCalendar()):"monthly"===this.pickertype&&this.calendarBody.appendChild(this._renderMonth()),!1},setText:function(b,c){"input"===b.tagName.toLowerCase()||"select"===b.tagName.toLowerCase()?a(b).val(c):a(b).text(c)},_clickMonth:function(){for(this.currentMonthView<0?(this.currentYearView--,this.currentYearView<1900&&(this.currentYearView=1900),this.currentMonthView=11,this.setText(this.calendarYear,this._addLocalePostfix(this.currentYearView,"y")),this.setText(this.calendarMonth,this._addLocalePostfix(this._getMonthToString(!0),"m"))):this.currentMonthView>11?(this.currentYearView++,this.currentYearView>2100&&(this.currentYearView=2100),this.currentMonthView=0,this.setText(this.calendarYear,this._addLocalePostfix(this.currentYearView,"y")),this.setText(this.calendarMonth,this._addLocalePostfix(this._getMonthToString(!0),"m"))):this.setText(this.calendarMonth,this._addLocalePostfix(this._getMonthToString(!0),"m"));this.calendarBody.hasChildNodes();)this.calendarBody.removeChild(this.calendarBody.lastChild);return this.calendarBody.appendChild(this._renderCalendar()),!1},_bindYearHandler:function(){var b=this;a(b.prevYear).unbind("tap"),a(b.nextYear).unbind("tap"),a(b.prevYear).children().unbind("focus"),a(b.prevYear).children().unbind("focusout"),a(b.nextYear).children().unbind("focus"),a(b.nextYear).children().unbind("focusout"),b.mindate.getFullYear()===b.currentYearView?a.alopex.widget.object._addDisabledStyle(a(b.prevYear).children()):(a.alopex.widget.object._removeDisabledStyle(a(b.prevYear).children()),a(b.prevYear).bind("tap",function(b){var c=a.alopex.datePickerMap.getObjectByNode(b.currentTarget);return c.currentYearView--,c._clickYear()}),a(b.prevYear).children().bind("focus",function(){a(this).trigger("hoverstart")}),a(b.prevYear).children().bind("focusout",function(){a(this).trigger("hoverend")}),a.alopex.widget.object.addPressHighlight(a(b.prevYear).children()[0]),a.alopex.widget.object.addHoverHighlight(a(b.prevYear).children()[0])),this.maxdate.getFullYear()===this.currentYearView?a.alopex.widget.object._addDisabledStyle(a(b.nextYear).children()):(a.alopex.widget.object._removeDisabledStyle(a(b.nextYear).children()),a(b.nextYear).bind("tap",function(b){var c=a.alopex.datePickerMap.getObjectByNode(b.currentTarget);return c.currentYearView++,c._clickYear()}),a(b.nextYear).children().bind("focus",function(){a(this).trigger("hoverstart")}),a(b.nextYear).children().bind("focusout",function(){a(this).trigger("hoverend")}),a.alopex.widget.object.addPressHighlight(a(b.nextYear).children()[0]),a.alopex.widget.object.addHoverHighlight(a(b.nextYear).children()[0]))},_bindMonthHandler:function(){var b=this;"daily"===this.pickertype&&(a(b.prevMonth).unbind("tap"),a(b.nextMonth).unbind("tap"),a(b.prevMonth).children().unbind("focus"),a(b.prevMonth).children().unbind("focusout"),a(b.nextMonth).children().unbind("focus"),a(b.nextMonth).children().unbind("focusout"),this.mindate.getMonth()===this.currentMonthView&&this.mindate.getFullYear()===this.currentYearView?a.alopex.widget.object._addDisabledStyle(a(b.prevMonth).children()):(a.alopex.widget.object._removeDisabledStyle(a(b.prevMonth).children()),a(b.prevMonth).bind("tap",function(b){var c=a.alopex.datePickerMap.getObjectByNode(b.currentTarget);return c.currentMonthView--,c._clickMonth()}),a(b.prevMonth).children().bind("focus",function(){a(this).trigger("hoverstart")}),a(b.prevMonth).children().bind("focusout",function(){a(this).trigger("hoverend")}),a.alopex.widget.object.addPressHighlight(a(b.prevMonth).children()[0]),a.alopex.widget.object.addHoverHighlight(a(b.prevMonth).children()[0])),this.maxdate.getMonth()===this.currentMonthView&&this.maxdate.getFullYear()===this.currentYearView?a.alopex.widget.object._addDisabledStyle(a(b.nextMonth).children()):(a.alopex.widget.object._removeDisabledStyle(a(b.nextMonth).children()),a(b.nextMonth).bind("tap",function(b){var c=a.alopex.datePickerMap.getObjectByNode(b.currentTarget);return c.currentMonthView++,c._clickMonth()}),a(b.nextMonth).children().bind("focus",function(){a(this).trigger("hoverstart")}),a(b.nextMonth).children().bind("focusout",function(){a(this).trigger("hoverend")}),a.alopex.widget.object.addPressHighlight(a(b.nextMonth).children()[0]),a.alopex.widget.object.addHoverHighlight(a(b.nextMonth).children()[0])))},_bindDayHandler:function(){function b(a){return""===a.innerHTML?!1:-1!==a.className.indexOf("af-disabled")?!1:!0}function c(c){return b(c.currentTarget)?void a(this).trigger("hoverstart"):!1}function d(c){return b(c.currentTarget)?void a(this).trigger("hoverend"):!1}function e(c){if(!b(c.currentTarget))return c.preventDefault(),c.stopPropagation(),!1;var d,e=a.alopex.datePickerMap.getObjectByNode(c.currentTarget);"daily"===e.pickertype?d=1==a(c.currentTarget).attr("href").indexOf("next")?{year:e.currentYearView,month:e.currentMonthView+2,day:this.innerHTML}:1==a(c.currentTarget).attr("href").indexOf("prev")?{year:e.currentYearView,month:e.currentMonthView,day:this.innerHTML}:{year:e.currentYearView,month:e.currentMonthView+1,day:this.innerHTML}:"monthly"===e.pickertype&&(d={year:e.currentYearView,month:this.month,day:1}),c.preventDefault(),c.stopPropagation();var g=f._isCertainDate(this.innerHTML);return g?e.getDateByFormat(d,e.dateFormat,g.name,c):e.getDateByFormat(d,e.dateFormat,!1,c),e.inline||(!g||g.isClickToClose)&&e._close(c),!1}var f=this;a(this.calendarBody).on("focus","a",c),a(this.calendarBody).on("focusout","a",d),a(this.calendarBody).on("tap","a",e),a(this.calendarBody).on("click","a",function(){return!1}),a.alopex.widget.object.addPressHighlight(this.calendarBody,"a"),a.alopex.widget.object.addHoverHighlight(this.calendarBody,"a")
},_renderWeekdays:function(){for(var a=this,b=document.createDocumentFragment(),c=0;c<a.weekdays.length;c++)b.appendChild(0===c?a._render("th",{className:"af-datepicker-weekdays holiday"},a.weekdays[c].substring(0,3)):0!==c&&c%6===0?a._render("th",{className:"af-datepicker-weekdays saturday"},a.weekdays[c].substring(0,3)):a._render("th",{className:"af-datepicker-weekdays"},a.weekdays[c].substring(0,3)));return b},_renderQtrly:function(){return""},_renderMonth:function(){for(var b,c=0,d=0,e=3,f=4,g=document.createDocumentFragment();e>c;c++){var h=this._render("tr",{className:"af-datepicker-tableRow"},"");for(d=0;f>d;d++){b=4*c+d;var i=this._render("a",{month:b+1,className:"af-datepicker-month"+(this._getCurrentMonthToInteger()==b?" af-today":""),href:"#"+(c+d+1)},this._addLocalePostfix(this._monthToStr(b,!0),"m"));(this._isBelowMinDate(b,1)||this._isAboveMaxDate(b,1))&&(a.alopex.widget.object._addDisabledStyle(i),a(i).attr("tabindex","-1")),h.appendChild(this._render("td",{className:"af-datepicker-tableCell"},i))}g.appendChild(h)}return this._bindYearHandler(),this._bindMonthHandler(),g},_renderCalendar:function(){var b,c,d=new Date(this.currentYearView,this.currentMonthView,1).getDay(),e=this._getNumDaysOfMonth(),f=0,g=document.createDocumentFragment(),h=this._render("tr");if(this.showothermonth){var i=this.currentYearView,j=this.currentMonthView-1;-1===j&&(j=11,i-=1);var k=this._getNumDaysOfMonth(i,j),l=k-d+1;for(c=1;d>=c;c++)h.appendChild(this._render("td",{className:"af-datepicker-tableCell"},this._render("a",{className:"af-datepicker-prev-month-day",value:l,href:"#prev"+l},l))),l++,f++}else for(c=1;d>=c;c++)h.appendChild(this._render("td",{className:"af-datepicker-tableCell"},"&nbsp;")),f++;for(c=1;e>=c;c++){7===f&&(g.appendChild(h),h=this._render("tr"),f=0),b=0===f?this._render("td",{className:"af-datepicker-tableCell"},this._render("a",{className:c===this._getCurrentDay()&&this.currentMonthView===this._getCurrentMonthToInteger()&&this.currentYearView===this._getCurrentYear()?"af-datepicker-day af-today":"af-datepicker-day holiday",value:c,href:"#"+c},c)):6===f?this._render("td",{className:"af-datepicker-tableCell"},this._render("a",{className:c===this._getCurrentDay()&&this.currentMonthView===this._getCurrentMonthToInteger()&&this.currentYearView===this._getCurrentYear()?"af-datepicker-day af-today":"af-datepicker-day saturday",value:c,href:"#"+c},c)):this._render("td",{className:"af-datepicker-tableCell"},this._render("a",{className:c===this._getCurrentDay()&&this.currentMonthView===this._getCurrentMonthToInteger()&&this.currentYearView===this._getCurrentYear()?"af-datepicker-day af-today":"af-datepicker-day",value:c,href:"#"+c},c));var m=this._isCertainDate(c);m&&a(b).children().addClass(m.styleClass),(this._isBelowMinDate(c)||this._isAboveMaxDate(c))&&(a.alopex.widget.object._addDisabledStyle(a(b).children()),a(b).children().attr("tabindex","-1")),h.appendChild(b),f++}if(this.showothermonth)for(c=1;7-f>=c;c++)h.appendChild(this._render("td",{className:"af-datepicker-tableCell"},this._render("a",{className:"af-datepicker-next-month-day",value:c,href:"#next"+c},c)));else for(c=1;7-f>=c;c++)h.appendChild(this._render("td",{className:"af-datepicker-tableCell"},"&nbsp;"));return g.appendChild(h),this._bindYearHandler(),this._bindMonthHandler(),g},_renderBottom:function(){function b(b){var c=a.alopex.datePickerMap.getObjectByNode(b.currentTarget),d=new Date,e={year:d.getFullYear(),month:d.getMonth()+1,day:d.getDate()};return b.preventDefault(),b.stopPropagation(),c.getDateByFormat(e,c.dateFormat,!1),c.inline||c._close(b),!1}var c=this._render("div",{className:"af-datepicker-bottom"}),d=this._render("div",{className:"af-datepicker-childbottom"});c.appendChild(d);var e=this._render("button",{className:"af-datepicker-bottom-button"},this.descTodayBtn);d.appendChild(e),a(e).bind("tap",b);var f=new Date,g={year:f.getFullYear(),month:f.getMonth()+1,day:f.getDate()},h=this._render("span",{className:"af-datepicker-bottom-text"},this._getFormattedDate(g,this.dateFormat));return d.appendChild(h),c},_initialise:function(){var b=this;this.currentDate<this.mindate?(this.currentYearView=this.mindate.getFullYear(),this.currentMonthView=this.mindate.getMonth()):this.currentDate>this.maxdate?(this.currentYearView=this.maxdate.getFullYear(),this.currentMonthView=this.maxdate.getMonth()):(this.currentYearView=this._getCurrentYear(),this.currentMonthView=this._getCurrentMonthToInteger()),this.calendarContainer=this._render("div",{className:"af-datepicker"}),a(this.calendarContainer).attr("data-type","af-datepicker"),this.inline&&(a(this.calendarContainer).attr("data-datepicker-inline","true"),a(this.calendarContainer).addClass(this.datePickerInlineTheme)),a(this.calendarContainer).addClass(this.datePickerTheme),this.calendarContainer.id=this.calendarContainerId;var c=this._render("div",{className:"af-datepicker-header"}),d=this._render("div",{className:"daily"===this.pickertype?"af-subHeader-year":"af-subHeader-year-wide"}),e=this._render("div",{className:"af-subHeader-month"});if(this.prevYear=this._render("span",{className:"af-prev-year"},this._render("a",{className:"af-datepicker-control",value:"prevYear",title:this.descPrevYear},"")),this.selectyear){for(var f="",g=this.currentYearView,h=null===this.mindate?g-10:this.mindate.getFullYear(),i=null===this.maxdate?g+10:this.maxdate.getFullYear(),j=h;i>=j;j++)f+="<option",j===g&&(f+=" selected"),f+=">"+this._addLocalePostfix(""+j,"y")+"</option>";this.calendarYear=this._render("select",{className:"af-current-year-select",title:this.descYearSelect},""),a(this.calendarYear).append(f),a(this.calendarYear).bind("change",function(b){var c=a.alopex.datePickerMap.getObjectByNode(b.currentTarget);return c.currentYearView=parseInt(a(b.currentTarget).val(),10),c._clickYear()})}else this.calendarYear=this._render("span",{className:"af-current-year"},this._addLocalePostfix(this.currentYearView,"y"));if(this.nextYear=this._render("span",{className:"af-next-year"},this._render("a",{className:"af-datepicker-control",value:"nextYear",title:this.descNextYear},"")),d.appendChild(this.prevYear),d.appendChild(this.nextYear),d.appendChild(this.calendarYear),c.appendChild(d),"daily"===this.pickertype){if(this.prevMonth=this._render("span",{className:"af-prev-month "},this._render("a",{className:"af-datepicker-control",value:"prevMonth",title:this.descPrevMonth},"")),this.selectmonth){for(var f="",j=1;12>=j;j++)f+="<option",this.months[j-1]===this._getMonthToString(!0)&&(f+=" selected"),f+=">"+this._addLocalePostfix(""+this.months[j-1],"m")+"</option>";this.calendarMonth=this._render("select",{className:"af-current-month-select",title:this.descMonthSelect},""),a(this.calendarMonth).append(f),a(this.calendarMonth).bind("change",function(b){var c=a.alopex.datePickerMap.getObjectByNode(b.currentTarget);return c.currentMonthView="en"===c.localeInfo?a.inArray(a(b.currentTarget).val(),c.months):parseInt(a(b.currentTarget).val(),10)-1,c._clickMonth()})}else this.calendarMonth=this._render("span",{className:"af-current-month"},this._addLocalePostfix(this._getMonthToString(!0),"m"));this.nextMonth=this._render("span",{className:"af-next-month"},this._render("a",{className:"af-datepicker-control",value:"nextMonth",title:this.descNextMonth},"")),e.appendChild(this.prevMonth),e.appendChild(this.nextMonth),e.appendChild(this.calendarMonth),c.appendChild(e)}if(this.calendarContainer.appendChild(c),this.inline||(this.btn_close=this._render("span",{className:"af-btn-close"},this._render("a",{className:"af-datepicker-control",value:"close",title:this.descClose},"")),a(this.btn_close).children().bind("tap",function(a){return a.preventDefault(),a.stopPropagation(),b._close(a),!1}),a(this.btn_close).children().bind("focus",function(){a(this).trigger("hoverstart")}),a(this.btn_close).children().bind("focusout",function(){a(this).trigger("hoverend")}),a.alopex.widget.object.addPressHighlight(a(this.btn_close).children()[0]),a.alopex.widget.object.addHoverHighlight(a(this.btn_close).children()[0])),"monthly"===this.pickertype){var k=this._render("table",{summary:this.descMonthSummary}),l=this._render("span",{},this.descMonthCaption);l.style.cssText="visibility:hidden;overflow:hidden;position:absolute;top:0;left:0;width:0;height:0;font-size:0;line-height:0;";var m=this._render("caption",{},l);k.appendChild(m),this.calendarBody=this._render("tbody",{},""),this.calendarBody.appendChild(this._renderMonth()),k.appendChild(this.calendarBody),this.calendarContainer.appendChild(k)}else if("quarterly"===this.pickertype);else{var k=this._render("table",{summary:this.descDaySummary}),l=this._render("span",{},this.descDayCaption);l.style.cssText="visibility:hidden;overflow:hidden;position:absolute;top:0;left:0;width:0;height:0;font-size:0;line-height:0;";var m=this._render("caption",{},l);k.appendChild(m);var n=this._render("thead",{},this._render("tr",{},this._renderWeekdays()));if(k.appendChild(n),this.calendarBody=this._render("tbody",{},this._renderCalendar()),k.appendChild(this.calendarBody),this.calendarContainer.appendChild(k),this.showbottom){var o=this._renderBottom();this.calendarContainer.appendChild(o)}}this.inline||this.calendarContainer.appendChild(this.btn_close),this.inline?a(this.targetElem).append(this.calendarContainer):a("body").append(this.calendarContainer),this._setPosition(this)},_setPosition:function(b){if(!b.inline){var c=a.alopex.widget.dialog,d=1200;if(null!==c&&window.afDialogNumber>0&&(d=c.maxZindex+1),"mobile"===window.browser&&a(window).width()<768){var e=a(window).scrollTop()?a(window).scrollTop()+(a(window).height()-b.calendarContainer.offsetHeight)/2:document.body.scrollTop+(a(window).height()-b.calendarContainer.offsetHeight)/2,f=a(window).scrollLeft()?a(window).scrollLeft()+(a(window).width()-b.calendarContainer.offsetWidth)/2:document.body.scrollLeft+(a(window).width()-b.calendarContainer.offsetWidth)/2;b.calendarContainer.style.cssText="display: none; position: absolute; z-index: "+d+"; top: "+e+"px; left: "+f+"px;",b.overlayElement||(b.overlayElement=document.createElement("div"));var g=a(document).height();b.overlayElement.style.cssText="width:100%; position:absolute;left:0; margin:0; padding:0; background:#000; opacity:0.5; z-index:1004;top:0px;height:"+g+"px;",a("body").append(b.overlayElement)}else{var h=a(b.targetElem).offset().top+b.targetElem.offsetHeight+5,i=a(b.targetElem).offset().left;a(b.calendarContainer).width()!=a(window).width()&&i+a(b.calendarContainer).width()>a(window).width()&&(i-=i+a(b.calendarContainer).width()+10-a(window).width()),b.calendarContainer.style.cssText="display: none; position: absolute; z-index:"+d+"; top: "+h+"px; left: "+i+"px;"}a(b.calendarContainer).css("display","block")}},_isOpened:function(b){var c="datepicker_"+b;return a.alopex.datePickerMap.datePickerObj.hasOwnProperty(c)?!0:!1},_mouseDownHandler:function(b){for(var c=!1,d=a(b.target),e=0;7>e;e++){if("af-datepicker"===d.attr("data-type")&&"true"!==d.attr("data-datepicker-inline")){c=!0;break}d=d.parent()}if(!c)for(var f in a.alopex.datePickerMap.datePickerObj)a.alopex.datePickerMap.datePickerObj[f]._close()},_resizeHandler:function(){for(var b in a.alopex.datePickerMap.datePickerObj)a.alopex.datePickerMap.datePickerObj[b]._setPosition(a.alopex.datePickerMap.datePickerObj[b])},_onHashChange:function(){for(var b in a.alopex.datePickerMap.datePickerObj)a.alopex.datePickerMap.datePickerObj[b]._close()}},a.fn.showDatePicker=function(b,c){if(a.alopex.util.isValid(b)&&"function"==typeof b){a.alopex.util.isValid(c)||(c={});for(var d in a.alopex.datePickerMap.datePickerObj)c.inline||a.alopex.datePickerMap.datePickerObj[d]._close();var e=a.extend(!0,{},a.alopex.datePicker);e.targetElem=this[0],e._callback=b,e.calendarContainerId="datepicker_"+this[0].id,e.setDefaultDate(c),e.setLocale(c),e.setFormat(c),e.setCertainDates(c),e.setThemeClass(c),e.setMenuSelect(c),e.setMinDate(c),e.setMaxDate(c),e.setInline(c),e.setPickerType(c),e.setShowOtherMonth(c),e.setShowBottom(c),e._initialise(),e._bindYearHandler(),e._bindMonthHandler(),e._bindDayHandler(),e.inline||("mobile"===window.browser&&a(window).width()<768||(a(document.body).bind("pressed",e._mouseDownHandler),a(window).bind("hashchange",e._onHashChange)),a(window).bind("resize",e._resizeHandler),a(document.body).bind("keydown",{obj:e},e._addKeyEvent),a(e.calendarContainer).attr("tabindex",0),a(e.calendarContainer).focus(),a(e.targetElem).bind("pressed",function(a){a.stopPropagation()})),a(e.calendarContainer).bind("selectstart dragstart",function(){return!1}),a.alopex.datePickerMap.setObject(e.calendarContainerId,e)}},a.fn.closeDatePicker=function(){if(a.alopex.datePicker._isOpened(this[0].id)){var b=a.alopex.datePickerMap.getObjectById(this[0].id);b._close()}},a.alopex.registerSetup("datePicker",function(b){a.extend(a.alopex.datePicker,b)}))}(jQuery),function(a){a.alopex.widget.daterange=a.alopex.inherit(a.alopex.widget.object,{widgetName:"daterange",defaultClassName:"af-daterange",setters:["daterange","setEnabled","clear"],getters:[],properties:{date:new Date,format:"yyyy-MM-dd",image:!1,selectyear:!1,selectmonth:!1,pickertype:"daily",autodisable:!0,callback:null,resetbutton:!1},init:function(b,c){{var d=a(b);d.find("input")}b.options=a.extend({},this.properties,c),b._start=d.find('[data-role="'+this.id_startdate+'"]'),b._end=d.find('[data-role="'+this.id_enddate+'"]'),b._start.attr("data-type","dateinput").dateinput(a.extend({},c,{callback:this._startEventHandler})),b._end.attr("data-type","dateinput").dateinput(a.extend({},c,{callback:this._endEventHandler})),b.options.resetbutton&&(b._start.length>0&&b._start[0].resetbutton&&b._start[0].resetbutton.length>0&&(b._start[0].resetbutton[0].daterange=b),b._end.length>0&&b._end[0].resetbutton&&b._end[0].resetbutton.length>0&&(b._end[0].resetbutton[0].daterange=b)),this.setEnabled(b,b.options.enabled)},id_startdate:"startdate",id_enddate:"enddate",id_widget:"daterange",_startEventHandler:function(b,c){var d=a(this).closest('[data-type="daterange"]')[0];d.options.autodisable&&d._end.update({mindate:new Date(c)}),d.options.callback&&d.options.callback.call(d,b,c)},_endEventHandler:function(b,c){var d=a(this).closest('[data-type="daterange"]')[0];d.options.autodisable&&d._start.update({maxdate:new Date(c)}),d.options.callback&&d.options.callback.call(d,b,c)},setEnabled:function(b,c){c=a.alopex.util.parseBoolean(c),b._start.setEnabled(c),b._end.setEnabled(c)},clear:function(b){a(b._start).clear(),a(b._end).clear()}})}(jQuery),function(a){a.alopex.widget.dialog=a.alopex.inherit(a.alopex.widget.object,{widgetName:"dialog",defaultClassName:"af-dialog",maxZindex:1001,dialoglist:[],properties:{dialogtype:null,animation:"show",animationtime:500,resizable:!1,dialogmovable:!1,modal:!1,modalScroll:!1,modalclose:!1,scroll:!1,toggle:!1},element:[],getters:[],setters:["dialog","open","close","ok","cancel","confirm","reposition"],defer:function(b){a(b).css("display","none")},init:function(b,c){function d(){var c=document.activeElement;if("iframe"==c.tagName.toLowerCase())c=c.contentWindow.document.activeElement;else if("body"==c.tagName.toLowerCase()){if(c=a(c).find(":focus"),!(c.length>0))return!1;c=c[0]}var d=a.alopex.util.getPagePosition(c).top,e=d+c.offsetHeight,g=a(window).height();e>=g&&f.windowheight>g?(f.liftedHeight=Math.abs(e-g)+50,f.lifted=!0,a(b).css("top",parseInt(b.style.top)-f.liftedHeight+"px")):f.windowheight<g&&f.lifted&&(a(b).css("top",parseInt(b.style.top)+f.liftedHeight+"px"),f.lifted=!1),f.windowheight=g}for(var e in c)("true"===c[e]||"false"===c[e])&&(c[e]=a.alopex.util.parseBoolean(c[e])),a.alopex.util.isNumberType(c[e])&&(c[e]=parseInt(c[e],10));if(a.extend(b,this.properties,c),b.dialogmovable&&(b.movable=b.dialogmovable),b.dialogmodal&&(b.modal=b.dialogmodal),b.height&&a(b).css("height",b.height),b.width&&a(b).css("width",b.width),a(b).attr("style",(a(b).attr("style")?a(b).attr("style"):"")+";position:fixed;z-index:1001;opacity:0;overflow:hidden;"),a.alopex.util.isValid(a(b).children()[0])&&(b.contents=a(b).children()),this._setDialogType(b,b.dialogtype),this._setResizable(b,b.resizable),this._setMovable(b,b.movable),this._setModal(b,b.modal),"mobile"!=window.browser&&(a(b).on("pressed focusin",a.alopex.widget.dialog._clickMoveToTop),a(b).on("keydown",a.alopex.widget.dialog._addKeydownEvent)),b.originWidth=a(b).width(),b.originHeight=a(b).height(),"mobile"==window.browser){var f=b;f.lifted=!1,a(window).on("resize",d)}},_addKeydownEvent:function(b){var c=b.currentTarget,d=null!==b.keyCode?b.keyCode:b.which;switch(d){case 27:a(c).close();break;case 9:if(c.modal){var e="a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable]";if(b.shiftKey){(document.activeElement===a(this)[0]||document.activeElement===a(this).find(e).first()[0])&&(a(a(c).find(e).last()).focus(),b.preventDefault());break}document.activeElement===a(this).find(e).last()[0]&&(a(a(c).find(e).first()).focus(),b.preventDefault())}}},_setDialogType:function(b,c){if(a(b.header).remove(),a(b.button).remove(),a(b.closebtn).remove(),a(b.confrimbtn).remove(),a(b.okbtn).remove(),a(b.cancelbtn).remove(),"blank"===c||"close"===c||"confirm"===c||"okcancel"===c){if(b.header=document.createElement("div"),a(b.header).attr("class","dialog_header"),b.toggle){var d=document.createElement("button");d.dialog=b,a(d).attr("class","dialog_btn dialog_toggle"),a(d).tap(function(b){b.currentTarget.dialog.folded?(a(b.currentTarget.dialog).animate({height:b.currentTarget.dialog.defaultHeight+"px"},300),b.currentTarget.dialog.folded=!1):(b.currentTarget.dialog.defaultHeight=a(b.currentTarget.dialog).height(),b.currentTarget.dialog.folded=!0,a(b.currentTarget.dialog).animate({height:"45px"},300))}),this.addHoverHighlight(d),this.addPressHighlight(d),b.header.appendChild(d)}var e=document.createElement("button");e.dialog=b,a(e).attr("class","dialog_btn"),a(e).tap(function(b){a(b.currentTarget.dialog).close()}),this.addHoverHighlight(e),this.addPressHighlight(e),b.header.appendChild(e),a(b).prepend(b.header),a.alopex.util.isValid(b.contents)&&a.each(b.contents,function(a,c){b.appendChild(c)}),"close"===c?(b.button=document.createElement("div"),a(b.button).attr("class","dialog_btn"),this.addHoverHighlight(b.button),this.addPressHighlight(b.button),b.resizable||a(b.button).attr("style","padding-bottom:0px ;"),b.closebtn=document.createElement("button"),b.closebtn.dialog=b,a(b.closebtn).attr("data-type","button"),a(b.closebtn).attr("style","float:right;"),a(b.closebtn).text("Close"),a(b.closebtn).button(),a(b.closebtn).on("click",function(b){var c=b.currentTarget.dialog;a(c).close()}),b.button.appendChild(b.closebtn),b.appendChild(b.button)):"confirm"===c?(b.button=document.createElement("div"),a(b.button).attr("class","dialog_btn"),this.addHoverHighlight(b.button),this.addPressHighlight(b.button),b.resizable||a(b.button).attr("style","padding-bottom:0px ;"),b.confirmbtn=document.createElement("button"),a(b.confirmbtn).attr("data-type","button"),a(b.confirmbtn).attr("style","float:right;"),a(b.confirmbtn).text("Confirm"),a(b.confirmbtn).button(),b.button.appendChild(b.confirmbtn),b.appendChild(b.button)):"okcancel"===c&&(b.button=document.createElement("div"),a(b.button).attr("class","dialog_btn"),this.addHoverHighlight(b.button),this.addPressHighlight(b.button),b.resizable||a(b.button).attr("style","padding-bottom:0px ;"),b.okbtn=document.createElement("button"),a(b.okbtn).attr("data-type","button"),a(b.okbtn).attr("style","position: absolute;right: 80px;"),a(b.okbtn).text("Ok"),b.cancelbtn=document.createElement("button"),a(b.cancelbtn).attr("data-type","button"),a(b.cancelbtn).attr("style","float:right;"),a(b.cancelbtn).text("Cancel"),a(b.okbtn).button(),a(b.cancelbtn).button(),b.button.appendChild(b.okbtn),b.button.appendChild(b.cancelbtn),b.appendChild(b.button))}},_setModal:function(b,c){!a.alopex.util.isValid(b.blocker)&&c&&(b.blocker=document.createElement("div"),b.blocker.dialog=b,b.parentNode.appendChild(b.blocker),a(b.blocker).addClass("af-dialog-mask"),a(b.blocker).css({opacity:"0.5",overflow:"hidden",display:"none","z-index":"999",position:"fixed",left:"0",top:"0","-ms-filter":"progid:DXImageTransform.Microsoft.Alpha(Opacity=50)",width:"100%",height:"100%"}),(void 0==b.modalScroll||"true"!==b.modalScroll)&&a(b.blocker).on("touchstart touchmove",function(a){return a.preventDefault(),a.stopPropagation(),!1}),b.modalclose&&a(b.blocker).on("pressed",function(b){var c=b.currentTarget.dialog;a(c).close()}))},_setMovable:function(b,c){a.alopex.widget.dialog;if(c&&"mobile"!==window.browser){var d=a(b).children().length;d>0&&(a.alopex.util.isValid(b.header)?(a(b.header).on("pressed",this._preMoveDialog),a(b.header).css("cursor","move")):(a(a(b).find("[data-dialog-movecursor=true]")[0]).on("pressed",this._preMoveDialog),a(a(b).find("[data-dialog-movecursor=true]")[0]).css("cursor","move")))}else a.alopex.util.isValid(b.header)?(a(b.header).off("pressed",this._preMoveDialog),a(b.header).css("cursor","")):(a(a(b).find("[data-dialog-movecursor=true]")[0]).off("pressed",this._preMoveDialog),a(a(b).find("[data-dialog-movecursor=true]")[0]).css("cursor",""))},_setResizable:function(b,c){a.alopex.widget.dialog;c&&"mobile"!==window.browser?(b.footer=document.createElement("div"),b.resizeHandleLeft=document.createElement("div"),a(b.resizeHandleLeft).attr("style","position:absolute;top:0px;left:0px;width:2px;height:100%;cursor:w-resize;"),b.resizeHandleRight=document.createElement("div"),a(b.resizeHandleRight).attr("style","position:absolute;top:0px;right:0px;width:2px;height:100%;cursor:col-resize;"),b.resizeHandleBottom=document.createElement("div"),a(b.resizeHandleBottom).attr("style","position:absolute;left:0px;bottom:0px;width:100%;height:2px;cursor:s-resize;"),b.resizeHandleBoth=document.createElement("div"),a(b.resizeHandleBoth).attr("class","resizeBtn"),b.footer.appendChild(b.resizeHandleLeft),b.footer.appendChild(b.resizeHandleRight),b.footer.appendChild(b.resizeHandleBottom),b.footer.appendChild(b.resizeHandleBoth),b.appendChild(b.footer),b.resizeHandleLeft.dialog=b.resizeHandleRight.dialog=b.resizeHandleBottom.dialog=b.resizeHandleBoth.dialog=b,a(b.resizeHandleLeft).on("pressed",this._preResizeDialog),a(b.resizeHandleRight).on("pressed",this._preResizeDialog),a(b.resizeHandleBottom).on("pressed",this._preResizeDialog),a(b.resizeHandleBoth).on("pressed",this._preResizeDialog)):a(b.footer).remove()},_preMoveDialog:function(b,c){document.onselectstart=function(){return!1};var d=(a.alopex.widget.dialog,a(this).offset()),e={};e.x=c.pageX-d.left,e.y=c.pageY-d.top,e.element=b.currentTarget,a(document).on("move.alopexDialogMove",e,a.alopex.widget.dialog._moveDialog).on("unpressed.alopexDialogMove",e,a.alopex.widget.dialog._postMoveDialog)},_moveDialog:function(b,c){var d=c.pageX-a(window).scrollLeft(),e=c.pageY-a(window).scrollTop();if(b.data.element){var f=b.data.element,g=f.parentElement;a(g).css("left",d-b.data.x+"px"),g.offsetLeft<=0&&a(g).css("left","0px"),g.offsetLeft>=a(window).width()-a(g).width()&&a(g).css("left",a(window).width()-a(g).width()+"px"),a(g).css("top",e-b.data.y+"px"),g.offsetTop<=0&&a(g).css("top","0px"),a(window).height()<=g.offsetTop+a(g).height()&&a(g).css("top",a(window).height()-a(g).height()+"px")}},_postMoveDialog:function(){a(document).off(".alopexDialogMove"),document.onselectstart=function(){return!0}},_preResizeDialog:function(b){{var c=b.currentTarget,d=c.dialog;a.alopex.widget.dialog}a(d.resizeHandleLeft).on("swipemove",a.alopex.widget.dialog._resizeLeftDialog).on("unpressed",a.alopex.widget.dialog._postResizeDialog),a(d.resizeHandleRight).on("swipemove",a.alopex.widget.dialog._resizeRightDialog).on("unpressed",a.alopex.widget.dialog._postResizeDialog),a(d.resizeHandleBottom).on("swipemove",a.alopex.widget.dialog._resizeBottomDialog).on("unpressed",a.alopex.widget.dialog._postResizeDialog),a(d.resizeHandleBoth).on("swipemove",a.alopex.widget.dialog._resizeBothDialog).on("unpressed",a.alopex.widget.dialog._postResizeDialog),document.onselectstart=function(){return!1}},_postResizeDialog:function(b){var c=b.currentTarget,d=c.dialog;a(d.resizeHandleLeft).off("swipemove"),a(d.resizeHandleRight).off("swipemove"),a(d.resizeHandleBottom).off("swipemove"),a(d.resizeHandleBoth).off("swipemove"),document.onselectstart=function(){return!0}},_resizeLeftDialog:function(b,c){var d=c.pageX-a(window).scrollLeft(),e=b.currentTarget,f=e.parentElement.parentElement,g=a(window).width()-(f.offsetLeft+a(f).width()),h=f.offsetLeft-d,i=a(f).width()+h;i<=f.originWidth?(i=f.originWidth,a(f).css("width",i+"px"),a(f).children().each(function(){"BUTTON"!==this.nodeName&&a(this).css("width",i+"px")}),g-c.startX<=f.originWidth&&a(f).css("left",c.startX+"px")):f.offsetLeft<=0?a(f).css("left","3px"):(a(f).css("left",d+"px"),a(f).css("width",i+"px"),a(f).children().each(function(){"BUTTON"!==this.nodeName&&a(this).css("width",i+"px")}))},_resizeRightDialog:function(b,c){document.onselectstart=function(){return!1};var d=c.pageX-a(window).scrollLeft(),e=b.currentTarget,f=e.parentElement.parentElement,g=d-f.offsetLeft;g<f.originWidth&&(g=f.originWidth),a(f).css("width",g+"px"),a(f).children().each(function(){"BUTTON"!==this.nodeName&&a(this).css("width",g+"px")}),a(f).width()>=a(window).width()-f.offsetLeft&&(a(f).css("width",a(window).width()-f.offsetLeft-3+"px"),a(f).children().each(function(){"BUTTON"!==this.nodeName&&a(this).css("width",a(window).width()-f.offsetLeft+"px")}))},_resizeBottomDialog:function(b,c){document.onselectstart=function(){return!1};var d=c.pageY-a(window).scrollTop(),e=b.currentTarget,f=e.parentElement.parentElement,g=d-f.offsetTop;g<f.originHeight&&(g=f.originHeight),a(f).css("height",g+"px"),a(f).height()>=a(window).height()-f.offsetTop&&a(f).css("height",a(window).height()-f.offsetTop-3+"px")},_resizeBothDialog:function(b,c){a.alopex.widget.dialog._resizeRightDialog(b,c),a.alopex.widget.dialog._resizeBottomDialog(b,c)},_clickMoveToTop:function(b){var c=(b?b.currentTarget:this.element[this.element.length-1],a.alopex.widget.dialog),d=(c.dialoglist.length,!0);a.each(c.dialoglist,function(a){return c.dialoglist[a].modal?void(d=!1):void 0}),d&&a.alopex.widget.dialog._moveToTop(b)},_moveToTop:function(b){var c=b?b.currentTarget:this.element[this.element.length-1],d=a.alopex.widget.dialog,e=d.dialoglist.length;return 1>=e?(a(c).css("z-index",d.maxZindex),void(c.modal&&a(c.blocker).css("z-index",d.maxZindex-1))):void a.each(d.dialoglist,function(b){if(d.dialoglist[b]===c){var f=d.dialoglist.splice(b,1);d.maxZindex=1e3+e,a(c).css("z-index",d.maxZindex),c.modal&&a(c.blocker).css("z-index",d.maxZindex-1),d.dialoglist=f.concat(d.dialoglist);for(var g=d.maxZindex,h=1;e>h;h++)g--,a(d.dialoglist[h]).css("z-index",g),d.dialoglist[h].modal&&a(d.dialoglist[h].blocker).css("z-index",g-1)}})},open:function(b,c,d){if(!a(b).is(":visible")||"0"==a(b).css("opacity")){if(c){c.height&&a(b).css("height",c.height),c.width&&a(b).css("width",c.width),a.alopex.util.isValid(c.resizable)&&this._setResizable(b,c.resizable),a.alopex.util.isValid(c.movable)&&this._setMovable(b,c.movable),a.alopex.util.isValid(c.modal)&&this._setModal(b,c.modal);for(i in c)("true"===c[i]||"false"===c[i])&&(c[i]=a.alopex.util.parseBoolean(c[i])),a.alopex.util.isNumberType(c[i])&&(c[i]=parseInt(c[i],10));a.extend(b,c),c.type&&(b.dialogtype=c.type||b.dialogtype,this._setDialogType(b,b.dialogtype))}if(a.alopex.util.isValid(document.activeElement)&&"BODY"!==document.activeElement.tagName?b.target=document.activeElement:a.alopex.util.isValid(window.event)&&(b.target=window.event.srcElement),a(b).children().length>0&&a.alopex.util.isValid(b.title)){for(i=0;i<a(a(b).children()[0]).contents().length;i++)3===a(a(b).children()[0]).contents()[i].nodeType&&a(b).children()[0].removeChild(a(a(b).children()[0]).contents()[i]);a(a(b).children()[0]).append(b.title)}if(b.modal&&(a(b.blocker).css("display","block"),"fixed"!=document.body.style.position&&"absolute"!=document.body.style.position&&(this.bodyposition=document.body.style.position,this.bodywidth=document.body.style.width,a("body").css({top:-1*document.body.scrollTop+"px",position:"fixed",width:"100%"}))),a(b).css("display","block"),a(b).css("opacity","1"),(a(b).closest("[data-carousel]").length>0||a(b).closest("[data-carousel]").length>0)&&(a(b).appendTo("body"),a(b.blocker).appendTo("body")),!a.alopex.util.isValid(b.top)){var e=(a(window).height()-b.offsetHeight)/2;b.top=e+10*this.dialoglist.length}if(!a.alopex.util.isValid(b.left)){var f=(a(window).width()-b.offsetWidth)/2;b.left=f+10*this.dialoglist.length}switch(a(b).css("top",b.top+"px"),a(b).css("left",b.left+"px"),b.scroll&&this._calculateHeight(b),b.animation){case"slide":a(b).css("top",-1*b.offsetHeight+"px"),a(b).animate({top:b.top+"px"},b.animationtime);break;case"fade":a(b).css("opacity","0"),a(b).animate({opacity:"1"},b.animationtime)}this.element.push(b),this.dialoglist.push(b),this._moveToTop(),b.windowheight=a(window).height(),a(window).on("resize",this._reposition);var g="a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable]";a(b).find(g).eq(0).focus(),d&&d.apply(),a(b).trigger("open")}},ok:function(b,c){a(b.okbtn).on("tap",function(){c()})},cancel:function(b,c){a(b.cancelbtn).on("tap",function(){c()})},confirm:function(b,c){a(b.confirmbtn).on("tap",function(){c()})},close:function(b,c){try{if(a.alopex.util.isValid(c))return void(b.closecallback=c);{a.alopex.widget.dialog}if(a(b).is(":hidden"))return;for(var d=0;d<this.element.length;d++)if(b==this.element[d]){this.element.splice(d,1);break}if(a(b).css("z-index",1001),a.alopex.util.arrayremove(this.dialoglist,b),0==this.dialoglist.length&&(this.maxZindex=1001),b.modal&&0==this.dialoglist.length){var e=document.body,f=Math.abs(parseInt(e.style.top));a(e).css({top:"",position:this.bodyposition?this.bodyposition:"",width:this.bodywidth?this.bodywidth:""}),e.scrollTop=f}"mobile"==window.browser?setTimeout(function(){a.alopex.widget.dialog._close(b)},400):a.alopex.widget.dialog._close(b),a(window).off("resize",this._reposition),a(b.okbtn).off("tap"),a(b.cancelbtn).off("tap"),a(b.closebtn).off("tap"),a(b.confirmbtn).off("tap"),a.alopex.util.isValid(b.target)&&a(b.target).focus()}catch(g){}},_close:function(b){switch(b.animation){case"slide":a(b).animate({top:-1*b.offsetHeight+"px"},b.animationtime,function(){b.modal&&a(b.blocker).css("display","none"),a(b).css("display","none")});break;case"fade":a(b).animate({opacity:"0"},b.animationtime,function(){b.modal&&a(b.blocker).css("display","none"),a(b).css("display","none")});break;default:b.modal&&a(b.blocker).css("display","none"),a(b).css("display","none")}b.closecallback&&b.closecallback()},_calculateHeight:function(b){for(var c=a(b).height()-(b.offsetHeight-b.clientHeight),d=0,e=b.children,f=0;f<e.length;f++)a(e[f]).attr("data-dialog-scroll")||"absolute"!==e[f].style.position&&(d+=a(e[f]).height(),isNaN(parseInt(a(e[f]).css("margin-top"),10))||(d+=parseInt(a(e[f]).css("margin-top"),10)),isNaN(parseInt(a(e[f]).css("margin-bottom"),10))||(d+=parseInt(a(e[f]).css("margin-bottom"),10)));a(b).find("[data-dialog-scroll=true]").css("height",c-d+"px"),a(b).find("[data-dialog-scroll=true]").css("overflow-y","scroll")},reposition:function(b){if(a.alopex.util.isValid(b)){var c=(a(window).height()-b.offsetHeight)/2;a(b).css("top",c+10*this.dialoglist.length+"px");var d=(a(window).width()-b.offsetWidth)/2;a(b).css("left",d+10*this.dialoglist.length+"px")}a.alopex.util.isValid(b)&&b.modal&&(a(b.blocker).css("height",a(document).height()+"px"),a(b.blocker).css("width",a(document).width()+"px"))},_reposition:function(b){b.preventDefault();var c=a.alopex.widget.dialog.element;if(a.alopex.util.isValid(c)&&!c.resizable&&!c.movable){var d=(a(window).height()-c.offsetHeight)/2;a(c).css("top",d+10*a.alopex.widget.dialog.dialoglist.length+"px");var e=(a(window).width()-c.offsetWidth)/2;
a(c).css("left",e+10*a.alopex.widget.dialog.dialoglist.length+"px")}a.alopex.util.isValid(c)&&c.modal&&(a(c.blocker).css("height",a(document).height()+"px"),a(c.blocker).css("width",a(document).width()+"px"))},id:{value:null,enumerable:!0,configurable:!1,writable:!0}})}(jQuery),function(a){a.alopex.widget.divselect=a.alopex.inherit(a.alopex.widget.object,{widgetName:"divselect",defaultClassName:"af-select",eventHandlers:{change:{event:"change",handler:"_changeHandler"}},getters:["getValues","getTexts"],setters:["divselect","setPlaceholder","setSelected","clear","refresh","setEnabled"],properties:{select:null},renderTo:function(a){return'<div class="af-select-wrapper '+a.className+'" af-dynamic data-select-wrapper="true"><select></select></div>'},markup:function(){},init:function(b){var c=a(b).find(":selected").text();this._setText(b.parentNode,c)},_changeHandler:function(b){var c=b.currentTarget,d=a(c).find(":selected").text();a.alopex.widget.divselect._setText(c.parentNode,d)},setPlaceholder:function(b,c){a.alopex.widget.baseselect.setPlaceholder(b,c)},setSelected:function(b,c){a.alopex.widget.baseselect.setSelected(b,c)},refresh:function(b){a.alopex.widget.baseselect.refresh(b)},getValues:function(b){return a.alopex.widget.baseselect.getValues(b)},getTexts:function(b){return a.alopex.widget.baseselect.getTexts(b)},clear:function(b){a.alopex.widget.baseselect.clear(b,text)},setEnabled:function(b,c){a.alopex.widget.baseselect.setEnabled(b,c),c?a(b.parentNode).removeClass("af-disabled"):a(b.parentNode).addClass("af-disabled")},_setText:function(b,c){c=c||"";var d,e=b.childNodes;for(var f in e)if(3===e[f].nodeType){d=e[f];break}d?d.nodeValue=c:a(b).append(c)}})}(jQuery),function(a){a.alopex.widget.dropdown=a.alopex.inherit(a.alopex.widget.object,{widgetName:"dropdown",defaultClassName:"af-dropdown",setters:["dropdown","addHandler","setDataSource","open","close","toggle","refresh"],getters:[],markup:function(b,c){a(b);a.extend(b,{opentrigger:"click",closetrigger:"click",submenutrigger:null,base:a(b).prev(),curstate:"closed",position:"bottom",cssstyle:{position:"absolute",top:"0px",left:"0px"},trigger:"click",margin:3,focusmove:"false",classname:[""],callback:[]},c);var d=a(b.base);0!==d.length&&(b.base=d[0],d.each(function(){this.dropdown=b}),d.attr("tabindex","0"),this.refresh(b))},init:function(b){var c=a(b),d=a(b.base);void 0!==b.opentrigger&&b.opentrigger===b.closetrigger?d.on(b.opentrigger,a.alopex.widget.dropdown._toggle):(b.opentrigger&&d.on(b.opentrigger,a.alopex.widget.dropdown._open),b.closetrigger&&d.on(b.closetrigger,a.alopex.widget.dropdown._close)),c.on("click","li.af-focused",{element:b},a.alopex.widget.dropdown._clickHandler),"click"===b.submenutrigger?c.on("click","li",{element:b},a.alopex.widget.dropdown._toggleHandler):(c.on("mouseenter","li",{element:b},a.alopex.widget.dropdown._openSubmenu),c.on("mouseleave","li",{element:b},a.alopex.widget.dropdown._closeSubmenu)),d.on("blur",a.alopex.widget.dropdown._blurHandler),c.on("mouseleave mouseenter","li.af-menuitem",function(b){var c=b.currentTarget;if(-1===c.className.indexOf("af-disabled")){var d=a(c),e=d.closest("[data-type]");e.find("*").filter(".af-focused").removeClass("af-focused"),d.addClass("af-focused")}}),a(b.base).bind("keydown",a.alopex.widget.dropdown._inputBaseKeyDownHandler),a(b).bind("keydown",a.alopex.widget.dropdown._inputBaseKeyDownHandler)},refresh:function(b){var c=a(b);c.find("li").each(function(){-1===this.className.indexOf("af-divider")&&-1===this.className.indexOf("af-group-header")&&a(this).addClass("af-menuitem")}),c.find("ul").addClass("af-submenu"),c.find(".af-submenu").parent().addClass("af-expandable"),c.css(b.cssstyle),c.hide()},_blurHandler:function(a){a.currentTarget.dropdown},addHandler:function(a,b){a.callback.push(b)},_toggle:function(b){var c=b.currentTarget,d=c.dropdown;a(d).toggle()},_open:function(b){var c=b.currentTarget,d=c.dropdown;a(d).open()},_close:function(b){var c=b.currentTarget,d=c.dropdown;a(d).close()},_closeByKey:function(b){for(var c=b.target,d=a.alopex.widget.dropdown.activeList,e=0;e<d.length;e++){var f=a.alopex.widget.dropdown.activeList.shift();f!==c&&0===a(c).closest(f).length&&f.base!==c&&0===a(c).closest(f.base).length?a(f).close():a.alopex.widget.dropdown.activeList.push(f)}},toggle:function(b){var c=a(b);"closed"===b.curstate?c.open():c.close()},_toggleHandler:function(b){var c=b.currentTarget;-1!==c.className.indexOf("af-expandable")&&a.alopex.widget.dropdown.toggleSubmenu(c)},_clickHandler:function(b){for(var c=b.data.element,d=0;d<c.callback.length;d++)c.callback[d].apply(c,[b]);("input"===c.base.tagName.toLowerCase()||void 0!==b.which)&&a(c).close()},_openSubmenu:function(b){var c=b.currentTarget;a.alopex.widget.dropdown.openSubmenu(c)},_closeSubmenu:function(b){var c=b.currentTarget;a.alopex.widget.dropdown.closeSubmenu(c)},openSubmenu:function(b){var c=a(b);-1!==c.attr("class").indexOf("af-expandable")&&(c.addClass("af-expanded"),c.find("> ul").css("display","inline-block"))},closeSubmenu:function(b){var c=a(b);-1!==c.attr("class").indexOf("af-expandable")&&(c.removeClass("af-expanded"),c.find("> ul").css("display","none"))},toggleSubmenu:function(b){var c=a(b);-1!==c.attr("class").indexOf("af-expanded")?a.alopex.widget.dropdown.closeSubmenu(b):a.alopex.widget.dropdown.openSubmenu(b)},_htmlGenerator:function(b){for(var c="",d=0;d<b.length;d++)c+="<li",void 0!==b[d].id&&(c+=' id="'+b[d].id+'"'),c+="><a",void 0!==b[d].link&&(c+=' href="'+b[d].link+'"'),c+=">",void 0!==b[d].text&&(c+=b[d].text),b[d].items?(c+="</a><ul>",c+=a.alopex.widget.dropdown._htmlGenerator(b[d].items),c+="</ul></li>"):c+="</a></li>";return c},setDataSource:function(b,c){var d=a(b);switch(typeof c){case"string":d.html(c);break;case"object":d.html(a.alopex.widget.dropdown._htmlGenerator(c))}a(b).refresh()},_inputBaseKeyDownHandler:function(b){var c=this,d=c.dropdown;if("undefined"!=typeof d)if(40===b.which)"closed"===d.curstate&&a(d).open(),a.alopex.widget.dropdown._focusNext(d),b.preventDefault();else if(38===b.which)a.alopex.widget.dropdown._focusPrev(d),b.preventDefault();else if(27===b.which)a(d).close();else if(39===b.which)a.alopex.widget.dropdown._focusChild(d);else if(37===b.which)a.alopex.widget.dropdown._focusParent(d);else if(13===b.which){var e=a(d).find(".af-focused");e.length>0&&a(d).find(".af-focused").trigger("click")}},_select:function(){},_focus:function(b,c){a(b).find(".af-focused").removeClass("af-focused"),a(c).addClass("af-focused"),"true"===b.focusmove&&c.focus()},_isValidMenu:function(a){if(a.length<=0)return!0;var b=a[0];return b.className?-1===b.className.indexOf("af-menuitem")?!1:-1!==b.className.indexOf("af-disabled")?!1:-1!==b.className.indexOf("af-group-header")?!1:!0:!1},_focusPrev:function(b){void 0===typeof b&&(b=this);for(var c=a(b),d=c.find(".af-focused"),e=d.prev("li");!a.alopex.widget.dropdown._isValidMenu(e);)e=e.prev("li");0!==d.length&&e.length>0&&a.alopex.widget.dropdown._focus(b,e[0])},_focusNext:function(b){void 0===typeof b&&(b=this);for(var c=a(b),d=c.find(".af-focused"),e=d.next("li");!a.alopex.widget.dropdown._isValidMenu(e);)e=e.next("li");0===d.length&&c.find("li").length>0?a.alopex.widget.dropdown._focus(b,c.find("li")[0]):0!==e.length&&a.alopex.widget.dropdown._focus(b,e[0])},_focusChild:function(b){void 0===typeof b&&(b=this);var c=a(b),d=c.find(".af-focused"),e=d.find(".af-submenu");e.length>0&&e.find("li.af-menuitem").length>0&&(a.alopex.widget.dropdown.openSubmenu(d[0]),a.alopex.widget.dropdown._focus(b,e.find("li.af-menuitem")[0]))},_focusParent:function(b){void 0===typeof b&&(b=this);var c=a(b),d=c.find(".af-focused"),e=d.parents(".af-expandable").eq(0);e.length>0&&(a.alopex.widget.dropdown.closeSubmenu(e[0]),a.alopex.widget.dropdown._focus(b,e[0]))},activeList:[],open:function(b){var c=a(b);c.css({display:"block"});for(var d=b.offsetWidth,e=b.offsetHeight,f=b.base.offsetWidth,g=b.base.offsetHeight,h=b.offsetParent;h&&"relative"!==a(h).css("position")&&"absolute"!==a(h).css("position");)h=b.offsetParent;var i=a.alopex.util.getRelativePosition(b.base),j=a.alopex.util.getRelativePosition(h),k=i.left-j.left,l=i.top-j.top,m=0,n=0;switch(b.position){case"top":n=k,m=l-e-b.margin;break;case"left":n=k-d-b.margin,m=l;break;case"right":n=k+f+b.margin,m=l;break;case"bottom":default:n=k,m=l+g+b.margin}c.css({left:n+"px",top:m+"px"}),a.alopex.widget.dropdown.activeList.push(b),b.curstate="opened",a(document).bind("pressed",a.alopex.widget.dropdown._closeByKey)},close:function(b){for(var c=a(b),d=0;d<a.alopex.widget.dropdown.activeList.length;d++)if(a.alopex.widget.dropdown.activeList[d]===b){a.alopex.widget.dropdown.activeList.splice(d,1);break}b.curstate="closed",c.hide(),c.find(".af-focused").removeClass("af-focused"),a(document).unbind("pressed",a.alopex.widget.dropdown._closeByKey)}})}(jQuery),function(a){a.alopex.widget.dropdownbutton=a.alopex.inherit(a.alopex.widget.object,{widgetName:"dropdownbutton",defaultClassName:"af-button",setters:["dropdownbutton","setText","addHandler","setDataSource"],getters:["getText"],properties:{dropdown:null,update:"true"},init:function(b,c){var d=a(b),e=d.next().add(a(c.menu));0!==e.length&&"ul"===e[0].tagName.toLowerCase()&&(a.extend(b,a.alopex.widget.dropdownbutton.properties,c),b.dropdown=e[0],a(b).button(),e.attr("data-type","dropdown").dropdown(),d.add(e).addClass("af-dropdownbutton"),b.dropdown.base=b)},defer:function(b){var c=(a(b),a(b.dropdown));c.addHandler(a.alopex.widget.dropdownbutton._defaultHandler)},_defaultHandler:function(b){var c=b.data.element,d=b.currentTarget,e=a(d).text();"false"!==c.base.update&&a(c.base).text(e)},setText:function(b,c){a(b).text(c)},getText:function(b){return a(b).text()},addHandler:function(b,c){a(b.dropdown).addHandler(c)},setDataSource:function(b,c){a(b.dropdown).setDataSource(c)},addData:function(){},removeData:function(){}})}(jQuery),function(a){function b(a){this.form,this.input,this.files,this.iframe,this.selected=[],this.options=a}b.prototype.addForm=function(b){var c="_iframe_"+Math.random();this.iframe=document.createElement("iframe"),this.iframe.setAttribute("id",c),this.iframe.setAttribute("name",c),this.form=document.createElement("form"),this.form.setAttribute("method","post"),this.form.setAttribute("enctype","multipart/form-data"),this.form.setAttribute("target",c),a(this.iframe).css("display","none"),a(this.iframe).appendTo("body"),a(this.form).appendTo(b),a(b).css("overflow","hidden")},b.prototype.addInput=function(){this.input&&this.selected.push(this.input),a(this.input).css({height:"0px",width:"0px"}),this.input=document.createElement("input"),this.input.setAttribute("type","file"),this.input.setAttribute("name","file"),this.options.multiple&&this.input.setAttribute("multiple",!0),a(this.input).css({display:"block",top:0,right:0,height:"100%",width:"100%","font-size":"1000px"}),a(this.input).css({position:"absolute",right:"0px",top:"0px",height:"40px",width:"200px",opacity:0});var b=this;a(this.input).on("change",function(a){b.files=a.target.files?a.target.files:[{name:a.target.value}],b.options.success&&b.options.success.apply(this,[b])}),a(this.input).appendTo(this.form)},b.prototype.upload=function(b){if(this.isDesktop){__ALOG("uplaod === ",this),this.form.action=b.url;{a(this.form).find('input[type="file"]')}a(this.form).trigger("submit")}},b.prototype.removeSelected=function(b){for(var c=0;c<this.selected.length;c++)if(this.selected[c].value==b){a(this.selected[c]).remove(),this.selected.splice(c,1);break}},a.fn.fileselect=function(a){var c=this[0],d=new b(a);return d.addForm(c),d.addInput(),d}}(jQuery),function(a){a.alopex.widget.group=a.alopex.inherit(a.alopex.widget.object,{widgetName:"group",defaultClassName:"af-group af-horizontal",setters:["group","setOrient"],getters:[],init:function(b){var c=a(b);a.alopex.util.isValid(c.attr("data-orient"))&&(b.orient=c.attr("data-orient"),"vertical"===b.orient&&(a(b).removeClass("af-horizontal"),a(b).addClass("af-vertical")));var d=c.find("input");d.length<1||(("radio"===d[0].type||"checkbox"===d[0].type)&&a(b).on("change",this._changeEventHandler),a(b).trigger("change"))},_changeEventHandler:function(b){var c=a(b.currentTarget).find("input");c.each(function(){var b;b=this.id?a('label[for="'+this.id+'"]'):a(this).parent("label"),a(this).is(":checked")?b.addClass("af-checked"):b.removeClass("af-checked")})},setOrient:function(b,c){a(b).removeClass("af-horizontal"),a(b).removeClass("af-vertical"),a(b).addClass("af-"+c)}})}(jQuery),function(a){a.alopex.widget.groupbutton=a.alopex.inherit(a.alopex.widget.group,{widgetName:"groupbutton",defaultClassName:"af-groupbutton af-horizontal",setters:["groupbutton"],getters:[],init:function(){}})}(jQuery),function(a){a.alopex.widget.icon=a.alopex.inherit(a.alopex.widget.object,{widgetName:"icon",defaultClassName:"af-icon",setters:["icon","setIcon"],setIcon:function(b,c){a(b).addClass(c)},properties:{position:"default",size:14},init:function(b){var c=a(b);a.alopex.util.isValid(b.display)?a(b).css("display",b.display):a(b).css("display","inline-block");var d=a(b.parentNode);if(d.attr("class")&&-1!=d.attr("class").indexOf("button")){c.css("position","absolute");var e=this._getProperty(b,"position"),f=this._getProperty(b,"size");switch(e){case"top":c.css({top:"10px",left:"50%","margin-left":"-"+parseInt(f,10)/2+"px"}),d.prepend(c),d.addClass("af-icon-top"),d.css({"padding-top":5*parseInt(f,10)/4+"px"});break;case"bottom":c.css({bottom:"10px",left:"50%","margin-left":"-"+parseInt(f,10)/2+"px"}),d.append(c),d.addClass("af-icon-bottom"),d.css({"padding-bottom":5*parseInt(f,10)/4+"px"});break;case"right":c.css({right:"10px",top:"50%","margin-top":"-"+parseInt(f,10)/2+"px"}),d.append(c),d.addClass("af-icon-right"),d.css({"padding-right":20+5*parseInt(f,10)/4+"px"});break;case"left":default:c.css({left:"10px",top:"50%","margin-top":"-"+parseInt(f,10)/2+"px"}),d.prepend(c),d.addClass("af-icon-left"),d.css("padding-left",20+5*parseInt(f,10)/4+"px")}}}})}(jQuery),function(a){a.alopex.widget.list=a.alopex.inherit(a.alopex.widget.object,{widgetName:"list",defaultClassName:"af-list",setters:["list","refresh"],eventHandlers:{hover:{event:"mouseover",handler:""}},event:function(a){this.addHoverHighlight(a,"li"),this.addPressHighlight(a,"li")},init:function(a){this.refresh.call(this,a)},refresh:function(b){var c=this;a(b).find(">li").each(function(){var d=this;if("true"!==a(d).attr("data-converted")){a(d).bind("singletap",function(b){var c=b.currentTarget;a(c).siblings("li").removeClass("af-pressed"),a(c).addClass("af-pressed")}),a(d).addClass("divider"===a(d).attr("data-type")?"af-list-divider":"af-list-row");var e;1===a(d).find("img").length&&(e=a(d).find("img")[0],a(e).addClass("af-list-thumbnail"),a.alopex.util.parseBoolean(a(e).attr("data-icon"))),a(d).find("h1, h2, h3").each(function(){a(this).addClass("af-list-title")});var f=a(d).find("a");if(f.length>0&&(c.addHoverHighlight(d),c.addPressHighlight(d)),1===f.length?a(f[0]).addClass("af-list-btn"):2===f.length&&(a(f[0]).addClass("af-list-btn first"),a(f[1]).addClass("af-list-btn split"),c.addHoverHighlight(f[1]),c.addPressHighlight(f[1])),d.getAttribute("data-id")){d.className+=" af-accordion";var g=d.getAttribute("data-id");a(b).find("#"+g).css("display","none"),a(d).bind("click",function(a){var b=a.currentTarget;c.toggle(b)})}a(d).attr("data-converted","true")}})}})}(jQuery),function(a){a.alopex.widget.navmenu=a.alopex.inherit(a.alopex.widget.object,{widgetName:"navmenu",defaultClassName:"af-navmenu",setters:["navmenu"],getters:[],properties:{},init:function(b){var c=this;b.eventState="init",a(b).find("ul").addClass("af-navmenu-sub").css("display","none"),a(b).find("li").each(function(){for(var b=this,d=0;d<b.children.length;d++)if("ul"===b.children[d].tagName.toLowerCase()){c.addHoverHighlight(b),c.addPressHighlight(b),a(b).addClass("af-expandable"),a(b).append(a(document.createElement("span")).addClass("af-navmenu-icon")[0]);break}}),a(b).bind("dragstart selectstart",function(){return!1}),a.alopex.widget.navmenu.resizeHandler(),a(window).bind("resize",a.alopex.widget.navmenu.resizeHandler)},_setTabIndex:function(b){var c;if(b&&b.children){var d=b.children;for(c=0;c<d.length;c++)0===c?a(d[c]).attr("tabindex","0"):a(d[c]).attr("tabindex","-1")}if(a(b).children().length>0)for(c=0;c<a(b).children().length;c++)a(a(b).children()[c]).find("li").attr("tabindex",-1)},setDataSource:function(b,c){a(b).empty(),a.alopex.widget.navmenu._createNode(b,c),b.phase=void 0,a(b).navmenu()},_createNode:function(b,c){for(var d=0;d<c.length;d++){var e=c[d],f=a("<li></li>").appendTo(b)[0];a.alopex.util.isValid(e.id)&&a(f).attr("data-id",e.id);var g=a("<a></a>").appendTo(f)[0];if(a.alopex.util.isValid(e.linkUrl)&&a(g).attr("href",e.linkUrl),a.alopex.util.isValid(e.iconUrl)&&a("<img/>").attr("src",e.iconUrl).appendTo(f),a(g).text(e.text),a.alopex.util.isValid(e.items)){var h=a("<ul></ul>").appendTo(f)[0];a.alopex.widget.navmenu._createNode(h,e.items)}}},resizeHandler:function(){var b=a('ul[data-type="navmenu"]'),c=document.documentElement.clientWidth;600>=c?b.removeClass("af-desktop").addClass("af-mobile").each(function(){a.alopex.widget.navmenu.removeMobileEvent(this),a.alopex.widget.navmenu.removeDesktopEvent(this),a.alopex.widget.navmenu.addMobileEvent(this)}):b.addClass("af-desktop").removeClass("af-mobile").each(function(){a.alopex.widget.navmenu.removeMobileEvent(this),a.alopex.widget.navmenu.removeDesktopEvent(this),a.alopex.widget.navmenu.addDesktopEvent(this)}),b.find("[class~=af-navmenu-expand]").removeClass("af-navmenu-expand").find("> ul").css("display","none")},addDesktopEvent:function(b){var c=b;a(b).bind("keydown",function(b){var c=b.target,d=b.keyCode?b.keyCode:b.which;switch(d){case 27:for(var e=a(c).closest("ul");"navmenu"!==a(e).attr("data-type");)e.find("[class~=af-navmenu-expand]").removeClass("af-navmenu-expand").find("> ul").css("display","none"),e=a(e.parent()).closest("ul");a(e.find("[class~=af-navmenu-expand]").find("> a")).focus(),e.find("[class~=af-navmenu-expand]").removeClass("af-navmenu-expand").find("> ul").css("display","none");break;default:return}b.stopPropagation(),b.preventDefault()}),a(b).bind("focusin",function(b){var d,e=b.target,f=a(e).closest("ul");void 0!==f&&f[0]===c?(d=a(e).closest("li")[0],void 0!==a(d).attr("class")&&-1!==a(d).attr("class").indexOf("af-expandable")?(a(d).siblings("[class~=af-navmenu-expand]").removeClass("af-navmenu-expand").find("> ul").css("display","none"),a(d).addClass("af-navmenu-expand").find("> ul").css("display","inline-block")):a(d).siblings("[class~=af-navmenu-expand]").removeClass("af-navmenu-expand").find("> ul").css("display","none")):(d=a(e).closest("li")[0],void 0!==a(d).attr("class")&&-1!==a(d).attr("class").indexOf("af-expandable")?(a(d).siblings("[class~=af-navmenu-expand]").removeClass("af-navmenu-expand").find("> ul").css("display","none"),a(d).addClass("af-navmenu-expand").find("> ul").css("display","inline-block")):a(d).siblings("[class~=af-navmenu-expand]").removeClass("af-navmenu-expand").find("> ul").css("display","none"))}),a(b).focusout(function(b){var d=b.target,e=a(d).closest("ul"),f=!1;f=void 0!==d&&void 0!==a(e).attr("class")&&-1!==a(e).attr("class").indexOf("af-navmenu")?!1:!0,f&&e[0]!==c&&a(c).find("li").removeClass("af-navmenu-expand").find("> ul").css("display","none")}),a(b).bind("mouseleave",function(b){for(var c=b.target,d=a(c).closest("ul");"navmenu"!==a(d).attr("data-type");)d.find("[class~=af-navmenu-expand]").removeClass("af-navmenu-expand").find("> ul").css("display","none"),d=a(d.parent()).closest("ul");d.find("[class~=af-navmenu-expand]").removeClass("af-navmenu-expand").find("> ul").css("display","none")}),a(b).bind("mousemove",function(b){var d,e=b.target,f=a(e).closest("ul");void 0!==f&&f[0]===c?(d=a(e).closest("li")[0],void 0!==a(d).attr("class")&&-1!==a(d).attr("class").indexOf("af-expandable")?(a(d).siblings("[class~=af-navmenu-expand]").removeClass("af-navmenu-expand").find("> ul").css("display","none"),a(d).addClass("af-navmenu-expand").find("> ul").css("display","inline-block")):a(d).siblings("[class~=af-navmenu-expand]").removeClass("af-navmenu-expand").find("> ul").css("display","none")):(d=a(e).closest("li")[0],void 0!==a(d).attr("class")&&-1!==a(d).attr("class").indexOf("af-expandable")?(a(d).siblings("[class~=af-navmenu-expand]").removeClass("af-navmenu-expand").find("> ul").css("display","none"),a(d).addClass("af-navmenu-expand").find("> ul").css("display","inline-block")):a(d).siblings("[class~=af-navmenu-expand]").removeClass("af-navmenu-expand").find("> ul").css("display","none"))})},removeDesktopEvent:function(b){a(b).unbind("tap").unbind("keydown")},addMobileEvent:function(b){var c=b;a(b).find("li").bind("tap",function(b){var d,e=b.target,f=a(e).closest("ul");void 0!==f&&f[0]===c?(d=a(e).closest("li")[0],void 0!==a(d).attr("class")&&-1!==a(d).attr("class").indexOf("af-expandable")?(a(d).siblings("[class~=af-navmenu-expand]").removeClass("af-navmenu-expand").find("> ul").css("display","none"),a(d).addClass("af-navmenu-expand").find("> ul").css("display","inline-block")):a(d).siblings("[class~=af-navmenu-expand]").removeClass("af-navmenu-expand").find("> ul").css("display","none")):(d=a(e).closest("li")[0],void 0!==a(d).attr("class")&&-1!==a(d).attr("class").indexOf("af-expandable")?(a(d).siblings("[class~=af-navmenu-expand]").removeClass("af-navmenu-expand").find("> ul").css("display","none"),a(d).addClass("af-navmenu-expand").find("> ul").css("display","inline-block")):a(d).siblings("[class~=af-navmenu-expand]").removeClass("af-navmenu-expand").find("> ul").css("display","none"))})},removeMobileEvent:function(b){a(b).find("li").unbind("tap")}})}(jQuery),function(a){if(!window.AlopexOverlay){var b={bgColor:"#fff",duration:0,durationOff:200,opacity:.7,progress:!1,createProgress:null,resizeProgress:null,removeProgress:null,appendIn:!1,complete:null},c=function(c,d){return c?(this.option=a.extend({},b,d),(c===document||c===document.body)&&(this.option.appendIn=!0),this.target=c===document?document.body:c,this.overlay=null,this.ptimer=null,this.progress=null,this.on=!1,this.init=function(b){this.remove(),this.on=!0;var c={},d=a(this.target);jQuery.support.opacity?c.opacity=this.option.opacity:c.filter="Alpha(opacity="+100*this.option.opacity+")",c["background-color"]=this.option.bgColor,c["z-index"]=99990,c.position="absolute",c["border-radius"]=d.css("border-radius"),c=a.extend(c,this.generateSize()),this.overlay=a("<div></div>").css(c).addClass("alopex_overlay")[0];var e=b||this.option.complete;return d[this.option.appendIn?"append":"after"](a(this.overlay).fadeIn(this.option.duration,function(){"function"==typeof e&&e()})),this.option.progress&&"function"==typeof this.option.createProgress&&this.option.createProgress.call(this),this},this.extendOption=function(b){b&&(this.option=a.extend({},this.option,b))},this.generateSize=function(){var b={},c=a(this.target);if(this.target===document||this.target===document.body)this.target=document.body,c=a(document.body),b.width=b.height="100%",b.top=b.left=0,b.position="fixed";else if("relative"===c.css("position")&&this.option.appendIn)b.width=b.height="100%",b.top=b.left=0;else{var d=!1;if(a(this.target).parents().each(function(){"relative"===a(this).css("position")&&(d=!0)}),d){var e=a(this.target.parentElement).offset();b.width=c.outerWidth(),b.height=c.outerHeight(),b.top=c.offset().top-e.top,b.left=c.offset().left-e.left}else b.width=c.outerWidth(),b.height=c.outerHeight(),b.top=c.offset().top,b.left=c.offset().left}return b},this.resize=function(){return a(this.overlay).css(this.generateSize()),this.option.progress&&"function"==typeof this.option.resizeProgress&&this.option.resizeProgress.call(this),this},this.remove=function(b){var c=this.option.durationOff;return this.on=!1,"function"==typeof this.option.removeProgress&&this.option.removeProgress.call(this),a(this.target).find(".alopex_progress").remove(),a(this.target).find(".alopex_overlay").add(this.overlay).fadeOut(c,function(){"function"==typeof b&&b(),a(this).remove()}),this},void this.init()):null};c.defaultOption=b;var d=function(){for(var b=this.option.duration,c={position:"absolute",margin:"0 auto",display:"inline-block","*display":"inline",zoom:1,"text-align":"center","z-index":99991},d={display:"block","float":"left",width:"12px",height:"12px",margin:"4px","border-radius":"3px"},e=this.progress=a("<div></div>").css(c).addClass("alopex_progress"),f=[],g=3,h=0;g>h;h++)f.push(a("<div></div>").css(d).addClass("alopex_progress_block")),e.append(f[h]);this.progress.fadeIn(b).insertAfter(this.overlay),e.css("left",this.generateSize().left+a(this.overlay).innerWidth()/2-e.width()/2),e.css("top",this.generateSize().top+a(this.overlay).innerHeight()/2-e.height()/2);var i=["#68838B","#BFEFFF","#BFEFFF"],j=function(){for(var a=0;a<f.length;a++)f[a].css("background-color",i[a]);i.unshift(i.pop())};return j(),this.ptimer=setInterval(j,150),e},e=function(){var b=this.progress,c=this.generateSize();b.css("left",c.left+a(this.overlay).innerWidth()/2-b.width()/2),b.css("top",c.top+a(this.overlay).innerHeight()/2-b.height()/2)},f=function(){var b=this.option.durationOff,c=this;this.progress&&a(this.progress).fadeOut(b,function(){c.ptimer&&(clearInterval(c.ptimer),c.ptimer=null),a(c.progress).remove(),c.progress=null})};b.createProgress=d,b.resizeProgress=e,b.removeProgress=f,b.stepProgress=null,window.AlopexOverlay=c,a.each(["progress","overlay"],function(b,d){a.fn[d]=function(b){if(this.length){var e=a(this[0]).data("alopexOverlay"),f=a.extend({progress:"progress"===d},b);return e&&e.on||(e=new c(this[0],f),a(this[0]).removeData("alopexOverlay"),a(this[0]).data("alopexOverlay",e)),e.extendOption(b),e}}})}}(jQuery),function(a){a.alopex.widget.pagination=a.alopex.inherit(a.alopex.widget.object,{widgetName:"pagination",defaultClassName:"af-paging",setters:["pagination","setTotalPage","setMaxPage","setSelectedPage"],getters:["getSelectedPage"],widgetOptions:{},options:{},eventHandlers:{},event:function(){},init:function(b,c){var d=a(b);a.extend(b,{pages:null,nextbutton:d.find('[data-dest*="next"]').eq(0),selectedPage:null,pagingType:null,maxpage:10,totalpage:10,startpage:1,endpage:10},c),b.pagingType=d.attr("data-generateLink"),this._generateLink(b),b.maxpage=0|parseInt(d.attr("data-maxpage"),10),a(b).attr("data-maxpage",b.maxpage),b.totalpage=d.attr("data-totalpage")?parseInt(d.attr("data-totalpage"),10):0,a(b).attr("data-totalpage",b.totalpage);var e=void 0!==d.attr("data-selected")?d.attr("data-selected"):1;this.setSelectedPage(b,e,!0),d.bind("selectstart",function(){return!1}),this._addPageEventHandler(b),this._addButtonEventHandler(b)},_first:function(b){var c=b.currentTarget.element;if(1!==c.selectedPage){var d=1;a.alopex.widget.pagination.setSelectedPage(c,d),a(c).trigger("pagechange",[d])}},_last:function(b){var c=b.currentTarget.element;if(c.selectedPage!==c.totalPage){var d=c.totalpage;a.alopex.widget.pagination.setSelectedPage(c,d),a(c).trigger("pagechange",[d])}},_prev:function(b){var c=b.currentTarget.element;if(1!==c.selectedPage){var d=c.selectedPage-1;a.alopex.widget.pagination.setSelectedPage(c,d),a(c).trigger("pagechange",[d])}},_prevgroup:function(b){var c,d=b.currentTarget.element;c=1!==d.startpage?d.startpage-d.maxpage:1,a.alopex.widget.pagination.setSelectedPage(d,c),a(d).trigger("pagechange",[c])},_next:function(b){var c=b.currentTarget.element;if(c.selectedPage!==c.totalpage){var d=c.selectedPage+1;a.alopex.widget.pagination.setSelectedPage(c,d),a(c).trigger("pagechange",[d])}},_nextgroup:function(b){var c,d=b.currentTarget.element;c=d.endpage!==d.totalpage?d.startpage+d.maxpage:d.totalpage,a.alopex.widget.pagination.setSelectedPage(d,c),a(d).trigger("pagechange",[c])},_addPageEventHandler:function(b){a(b),a.alopex.widget.object;__ALOG("pages === ",b.pages);var c=this;a(b.pages).on("tap",function(b){var d=b.currentTarget;c.setSelectedPage(d.container,d.page);var e=a(d).closest('[data-type="pagination"]');a(e).trigger("pagechange",[d.page])})},_addButtonEventHandler:function(b){for(var c=a(b),d=c.find("[data-dest]"),e=null,f=0;f<d.length;f++){var g=a(d[f]).attr("data-dest");switch(d[f].element=b,g){case"first-page":a(d[f]).addClass("af-paging-prev"),e=this._first;break;case"previous":case"prev":a(d[f]).addClass("af-paging-prev"),e=this._prev;break;case"previouspages":case"prev-group":a(d[f]).addClass("af-paging-prevgroup"),e=this._prevgroup;break;case"next":a(d[f]).addClass("af-paging-next"),e=this._next;break;case"nextpages":case"next-group":a(d[f]).addClass("af-paging-nextgroup"),e=this._nextgroup;break;case"last-page":a(d[f]).addClass("af-paging-next"),e=this._last}a(d[f]).attr("data-type","button").button().bind("tap",e)}},_removeLink:function(b){for(var c=0;c<b.pages.length;c++){if("ul"!==b.tagName.toLowerCase()){a(b.pages).remove();break}a(b.pages).parents("li").remove()}},_generateLink:function(b){var c;if(0===a(b).find("a:not([data-dest])").length)for(c=0;c<b.maxpage;c++){var d=document.createElement("a");if("mobile"!==b.pagingType&&(d.innerHTML=c+1+""),"ul"===b.tagName.toLowerCase()){var e=document.createElement("li");a(d).appendTo(e),a(e).css("display","none"),b.nextbutton.length>0?a(e).insertBefore(a(b.nextbutton).parents("li")):a(e).appendTo(b)}else a(d).css("display","none"),b.nextbutton.length>0?a(d).insertBefore(b.nextbutton):a(d).appendTo(b)}for(b.pages=a(b).find("a:not([data-dest])"),c=0;c<b.pages.length;c++)b.pages[c].page=c+1,b.pages[c].index=c,b.pages[c].container=b,a(b.pages[c]).addClass("mobile"===b.pagingType?"af-paging-mobile":"af-paging-number")},_changePageGroup:function(b,c){for(b.startpage=1,b.endpage=b.maxpage;c>b.endpage;)b.startpage+=b.maxpage,b.endpage+=b.maxpage;b.endpage>b.totalpage&&(b.endpage=b.totalpage);for(var d=0;d<b.pages.length;d++)b.startpage+d<=b.totalpage?("ul"===b.tagName.toLowerCase()?a(b.pages[d]).parents("li").css("display",""):a(b.pages[d]).css("display",""),b.pages[d].page=b.startpage+d,"mobile"!==b.pagingType&&(b.pages[d].innerHTML=b.startpage+d)):("ul"===b.tagName.toLowerCase()?a(b.pages[d]).parents("li").css("display","none"):a(b.pages[d]).css("display","none"),b.pages[d].page=0/0)},_enableAllButton:function(b){a(b).find("[data-dest]").setEnabled(!0),a(b).find("[data-dest]").css("visibility","visible")},_disableButton:function(b,c){var d=a(b).find('[data-dest="'+c+'"]');"disable"===a(b).attr("data-button-behavior")?d.setEnabled(!1):d.css("visibility","hidden")},getSelectedPage:function(a){return a.selectedPage},setTotalPage:function(b,c,d){c=parseInt(c,10),b.totalpage=c,a(b).attr("data-totalpage",c),b.selectedPage>c&&(b.selectedPage=c),a.alopex.util.isValid(d)?this.setSelectedPage(b,d):this.setSelectedPage(b,b.selectedPage)},setSelectedPage:function(b,c){c=parseInt(c,10),this._changePageGroup(b,c);var d=a(b).find("strong");0!==d.length&&a(d[0]).replaceWith(d[0].children);for(var e=0;e<b.pages.length;e++)b.pages[e].className=b.pages[e].className.replace("af-paging-selected",""),b.startpage+e===c&&(b.pages[e].className+=" af-paging-selected",a(b.pages[e]).wrap("<strong></strong>"));b.selectedPage=c,this._enableAllButton(b),1===b.selectedPage&&this._disableButton(b,"prev"),1===b.startpage&&this._disableButton(b,"prev-group"),b.selectedPage===b.totalpage&&this._disableButton(b,"next"),b.endpage===b.totalpage&&this._disableButton(b,"next-group")},setMaxPage:function(b,c,d){c=parseInt(c,10),b.maxpage=c,a(b).attr("data-maxpage",c),this._removeLink(b),this._generateLink(b),this._addPageEventHandler(b),a.alopex.util.isValid(d)?this.setSelectedPage(b,d):this.setSelectedPage(b,b.selectedPage)}})}(jQuery),function(a){a.alopex.widget.panel=a.alopex.inherit(a.alopex.widget.object,{widgetName:"panel",defaultClassName:"af-panel",setters:["panel","refresh","scrollToElement"],getters:[],properties:{},eventHandlers:{},init:function(b){var c=a(b);void 0!==b.getAttribute("data-fill")&&a.alopex.widget.panel._fill(b),a.alopex.util.parseBoolean(b.getAttribute("data-scroll"))&&this._makeScrollable(b),a(window).bind("resize",a.alopex.widget.panel._resize),void 0!==c.attr("data-responsive")&&(c.css("float","left").css("width","100%"),a(window).bind("resize",a.alopex.widget.panel._responsive),this._responsive())
},_responsive:function(){a("[data-responsive]").each(function(){var b=this,c=100,d=parseFloat(a(b).attr("data-responsive").split("-")[0]),e=parseFloat(a(b).attr("data-responsive").split("-")[1]),f=document.documentElement.clientWidth;f<=a.alopex.responsive.threshold||(c=f>a.alopex.responsive.threshold&&900>=f?e/d*100:e/d*100),a(b).css("width",c+"%")})},_makeScrollable:function(b){try{if("mobile"===window.browser&&"undefined"!=typeof iScroll){var c={};c.useTransform=/iphone|ipad/gi.test(navigator.appVersion)?!0:a(b).find("input").length>0||a(b).find("textarea").length>0?!1:!0,c.onBeforeScrollStart=function(a){for(var b=a.target;1!==b.nodeType;)b=b.parentNode;"SELECT"!==b.tagName&&"INPUT"!==b.tagName&&"TEXTAREA"!==b.tagName&&a.preventDefault()},c.checkDOMChanges=!0,b.style.position="relative",b.scroll=new iScroll(b,c),b.scroll.onScrollEnd=function(c){a(b).trigger("scrollend",c)}}else a(b).css("position","relative"),a(b).css("overflow","auto"),b.children.length>=1&&(b.offsetHeight<b.children[0].offsetHeight&&a(b).css("overflow-y","scroll"),b.offsetWidth<b.children[0].offsetWidth&&a(b).css("overflow-x","scroll"))}catch(d){throw new Error("[makeScrollable] "+d)}},scrollToElement:function(b,c,d){"mobile"===window.browser?b.scroll.scrollToElement(c,d):a(b).find(c).length>0&&(b.scrollTop=a(b).find(c)[0].offsetHeight)},_resize:function(){a('[data-type="panel"]').refresh()},refresh:function(b){void 0!==b.getAttribute("data-fill")&&a.alopex.widget.panel._fill(b),a.alopex.util.parseBoolean(b.getAttribute("data-scroll"))&&a.alopex.widget.panel._scroll_refresh(b)},_scroll_refresh:function(b){b.scroll?b.scroll.refresh():(a(b).css("overflow","auto"),b.children.length>=1&&(b.offsetHeight<b.children[0].offsetHeight&&a(b).css("overflow-y","scroll"),b.offsetWidth<b.children[0].offsetWidth&&a(b).css("overflow-x","scroll")))},_fill:function(a){var b=a.getAttribute("data-fill"),c=a.style.display;switch(a.style.display="none",b){case"vertical":this.fillVertical(a);break;case"horizontal":this.fillHorizontal(a);break;case"both":this.fillVertical(a),this.fillHorizontal(a)}a.style.display=c},fillVertical:function(b){for(var c=a(b.parentNode).height()-(b.parentNode.offsetHeight-b.parentNode.clientHeight),d=0,e=b.parentNode.children,f=0;f<e.length;f++)e[f]!==b&&"absolute"!==e[f].style.position&&(d+=a(e[f]).height(),isNaN(parseInt(a(e[f]).css("margin-top"),10))||(d+=parseInt(a(e[f]).css("margin-top"),10)),isNaN(parseInt(a(e[f]).css("margin-bottom"),10))||(d+=parseInt(a(e[f]).css("margin-bottom"),10)));a(b).css("height",c-d+"px")},fillHorizontal:function(b){for(var c=a(b.parentNode).width()-(b.parentNode.offsetWidth-b.parentNode.clientWidth),d=0,e=b.parentNode.children,f=0;f<e.length;f++)e[f]!==b&&"absolute"!==e[f].style.position&&(d+=a(e[f]).width(),isNaN(parseInt(a(e[f]).css("margin-left"),10))||(d+=parseInt(a(e[f]).css("margin-left"),10)),isNaN(parseInt(a(e[f]).css("margin-right"),10))||(d+=parseInt(a(e[f]).css("margin-right"),10)));a(b).css("width",c-d+"px")}})}(jQuery),function(a){a.alopex.widget.progressbar=a.alopex.inherit(a.alopex.widget.object,{widgetName:"progressbar",defaultClassName:"af-progressbar",setters:["progressbar","setValue","setOptions"],getters:["getValue"],properties:{},eventHandlers:{},init:function(b){var c=document.createElement("div");c.minValue=0,c.maxValue=100,c.value=0,a(c).attr("style","position:relative; left:0px; top:0px; width:0px"),b.appendChild(c),a(c).css("height",a(b).css("height")),c.maxWidth=a(b).css("width").split("px")[0];var d=a(b).attr("data-default");a.alopex.util.isValid(d)&&(c.value=d,a(c).css("border",a(b).css("border")),a(c).css("width",c.maxWidth*(d/c.maxValue)+"px"));var e=document.createElement("div");a(e).attr("style",'position:relative; opacity: 0.3; filter: progid:DXImageTransform.Microsoft.Alpha(opacity=60); -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(opacity=30)";'),a(e).css("height",a(c).css("height")),a(e).css("background-color",a(c).css("height")),c.appendChild(e)},setOptions:function(b,c){var d=b.children[0],e=d.children[0];if(a.alopex.util.isValid(c.bgColor)&&a(d).css("background-color",c.bgColor),a.alopex.util.isValid(c.bgUrl)&&a(d).css("background-image","url("+c.bgUrl+")"),a.alopex.util.isValid(c.overlayColor)&&a(e).css("background-color",c.overlayColor),a.alopex.util.isValid(c.showText)&&c.showText){var f=document.createElement("span");a(f).attr("style","position: absolute; top: -2px;"),a(f).css("height",a(b).css("height")),a(f).css("left",a(b).css("width").split("px")[0]/2-35+"px"),a.alopex.util.isValid(c.textArray)&&c.textArray&&(f.startProg=c.textArray[0],f.endProg=c.textArray[1],a(f).text(f.startProg)),a.alopex.util.isValid(c.textColor)&&c.textColor&&a(f).css("color",c.textColor),a(f).appendTo(d)}},setValue:function(b,c){var d=b.children[0],e=d.children[0];d.value=c,a(d).css("border",a(b).css("border")),a(d).css("width",d.maxWidth*(c/d.maxValue)+"px"),a(e).css("width",a(d).css("width"));var f=a(d).children("span")[0];void 0!==f&&a(f).text(100===c?f.endProg:0===c?f.startProg:c+"%")},getValue:function(a){var b=a.children[0],c=b.value;return c>b.maxValue?c=b.maxValue:c<b.minValue&&(c=b.minValue),c}})}(jQuery),function(a){a.alopex.widget.radio=a.alopex.inherit(a.alopex.widget.baseinput,{widgetName:"radio",defaultClassName:"af-radio",defaultTextClassName:"af-radio-text",setters:["radio","setSelected"],getters:["getValue","getText"],style:function(b){b.id?a('label[for="'+b.id+'"]').addClass(this.defaultTextClassName):a(b).parent("label").addClass(this.defaultTextClassName)},setSelected:function(b){"INPUT"===b.tagName&&(b.checked=!0),a(b).trigger("change")},getValue:function(b){var c=a("input[name="+b.name+"]:checked");return c.length>0?a(c[0]).val():null},getText:function(b){var c=a("input[name="+b.name+"]:checked");if(c.length>0){var d=c[0],e=a(d).attr("id"),f=a(b).parent().find('label[for="'+e+'"]');return a(f).text()}return null}})}(jQuery),function(a){a.alopex.widget.searchinput=a.alopex.inherit(a.alopex.widget.object,{widgetName:"searchinput",defaultClassName:"af-searchinput",defaultClearClassName:"af-clear-button",setters:["searchinput"],markup:function(){return'<div><span af-dynamic class="af-icon af-default search"></span><input class="af-textinput af-default" /><span af-dynamic class="af-icon af-default remove-sign"></span></div>'},properties:{clear:null},eventHandlers:{keydown:{event:"keyup",handler:"_keyupHandler"},change:{event:"change",handler:"_changeHandler"},clearclick:{event:"click",selector:"[data-clear]",handler:"_clear"}},_clear:function(){},style:function(){}})}(jQuery),function(a){a.alopex.widget.select=a.alopex.inherit(a.alopex.widget.baseselect,{widgetName:"select",defaultClassName:"af-select",getters:["getValues","getTexts"],setters:["select","setPlaceholder","setSelected","clear","refresh"],init:function(b){var c=a(b);a.alopex.util.parseBoolean(b.alopexoptions.wrap)&&c.attr("data-type","divselect").divselect(),"true"==c.attr("data-select-multiple")&&(c.attr("multiple","multiple"),defaultStyleClass="af-multiselect",c.bind("selectstart click",function(){return!1}))}})}(jQuery),function(){}(jQuery),function(a){a.alopex.widget.spinner=a.alopex.inherit(a.alopex.widget.baseinput,{widgetName:"spinner",defaultClassName:"af-spinner",setters:["spinner","setEnabled"],getters:[],properties:{min:"default",max:"default",step:1},init:function(b,c){var d=a(b);b.type="text",a(b).wrap('<div class="'+b.className+' af-spinner-wrapper"></div>');var e=b.parentNode;f=a(e),f.append('<a class="af-spinner-button-up"></a>'),f.append('<a class="af-spinner-button-down"></a>');var f=d.closest(".af-spinner-wrapper"),g=d.siblings(".af-spinner-button-up"),h=d.siblings(".af-spinner-button-down");a.extend(b,a.alopex.widget.spinner.properties,c),g.on("tap",a.alopex.widget.spinner._upHandler),h.on("tap",a.alopex.widget.spinner._downHandler),d.on("keydown",a.alopex.widget.spinner._keydownHandler),f.css({position:"relative",display:"inline-block"}),g.add(h).css({position:"absolute",display:"block",height:"50%",width:"15px",right:"0"}),g.css({top:"0"}),h.css({bottom:"0"}),g.data("element",b),h.data("element",b)},_upHandler:function(b){var c=a(b.currentTarget).data("element");a.alopex.widget.spinner.valueUp(c)},_downHandler:function(b){var c=a(b.currentTarget).data("element");a.alopex.widget.spinner.valueDown(c)},_keydownHandler:function(b){var c=b.currentTarget;38===b.which?a.alopex.widget.spinner.valueUp(c):40===b.which&&a.alopex.widget.spinner.valueDown(c)},valueUp:function(b){var c=parseFloat(b.value),d=0,e=0;if(!isNaN(c)){var f=(b.value.split("."),0);"default"!=b.max&&(d=parseFloat(b.max)),"default"!=b.min&&(e=parseFloat(b.min)),f=d&&c>d?d:e&&e>c?e:a.alopex.util.addFloat(b.value,b.step),("default"==b.max||f<=parseFloat(b.max))&&(b.value=f),a(b).trigger("change")}},valueDown:function(b){var c=parseFloat(b.value),d=0,e=0;if(!isNaN(c)){var f=(b.value.split("."),0);"default"!=b.max&&(d=parseFloat(b.max)),"default"!=b.min&&(e=parseFloat(b.min)),f=d&&c>d?d:e&&e>c?e:a.alopex.util.addFloat(b.value,-1*b.step),("default"==b.min||f>=parseFloat(b.min))&&(b.value=f),a(b).trigger("change")}},setEnabled:function(b,c){var d=a(b),e=d.closest(".af-spinner-wrapper"),f=d.siblings(".af-spinner-button-up"),g=d.siblings(".af-spinner-button-down");f.off("tap",a.alopex.widget.spinner._upHandler),g.off("tap",a.alopex.widget.spinner._downHandler),c?(f.on("tap",a.alopex.widget.spinner._upHandler),g.on("tap",a.alopex.widget.spinner._downHandler),d.removeAttr("readonly"),e.removeClass("af-disabled")):(d.attr("readonly",!0),e.addClass("af-disabled"))}})}(jQuery),function(a){a.alopex.widget.table=a.alopex.inherit(a.alopex.widget.object,{widgetName:"table",defaultClassName:"af-table",wrapperClassName:"af-table-wrapper af-default",scrollerClassName:"af-table-scroller",renderTo:function(){return'<div class="'+this.wrapperClassName+'" af-dynamic><div class="'+this.scrollerClassName+'" af-dynamic><table></table></div></div>'},setters:["table"],resizeThreshold:10,resizing:!1,resizeReady:!0,properties:{},style:function(){},event:function(){},init:function(b){var c=a(b);a.extend(b,{scroller:null,hscroller:null,resizingHeader:null,scrolling:!1,sorting:!1,resizing:!1,editing:!1,highlighting:!1,theme:null}),this._addColgroup(b),c.css({"table-layout":"fixed"}),"0px"===c.css("min-width")&&c.css({"min-width":"100%"}),a.alopex.util.isValid(b.style.width)||c.css({width:"100%"});var d=c.closest(".af-table-wrapper");if(d.css({overflow:"hidden",position:"relative"}),b.wrapper=d.length>0?d[0]:null,b.head=a.alopex.widget.table.getTableHead(b),a.alopex.util.isValid(b.head)&&(b.head.table=b,a(b.head).addClass("af-table-head")),a.alopex.util.isValid(a(b).attr("data-height"))&&a(b.wrapper).css("height",a(b).attr("data-height")),a.alopex.util.isValid(a(b).attr("data-width"))){var e=b.hscroller?b.hscroller:b.wrapper;a(e).css("width",a(b).attr("data-width"))}a.alopex.widget.table.refresh(b)},refresh:function(b){var c=a(b);if(a.alopex.convert(b),-1!==navigator.userAgent.indexOf("MSIE 7")&&c.removeAttr("data-scroll"),!b.sorting&&c.find("[data-sortable]").length>0&&(this._enableSorting(b),b.sorting=!0),!b.resizing&&c.find('[data-resizable="true"]').length>0?(this._enableResizing(b),b.resizing=!0):b.resizing&&this._refreshColgroup(b),a(b).find('[data-editable="true"]').addClass("af-table-editor"),!b.editing&&c.find('[data-editable="true"]').length>0&&(this._enableEditing(b),b.editing=!0),!b.highlighting&&c.attr("data-highlight")){var d="td,th";"body"===c.attr("data-highlight")&&(d="tbody td, tbody th"),c.find(d).css("cursor","pointer"),a(b.wrapper).on("click",d,this._addTableHighlight),b.highlighting=!0}a(b).is(":hidden")||(b.scrolling||void 0===c.attr("data-scroll")||(this._enableScrolling(b),b.scrolling=!0),this._refreshTableHead(b),void 0!==a(b).attr("data-scroll")&&this._refreshTableScroll(b))},_enableScrolling:function(b){var c=a(b),d=c.closest("."+this.scrollerClassName);b.scroller=d.length>0?d[0]:null,b.scroller.el=b,a(b.wrapper).css({overflow:"hidden"});var e=a(b).find("colgroup").clone(!0);if("body"===a(b).attr("data-scroll")){if("mobile"===window.browser){if(a(b.scroller).css({overflow:"hidden","overflow-y":"auto"}),b.head){var f=a(b.head).clone(!0).appendTo(b);b.clone=a(b).clone(!0).removeAttr("id").removeAttr("data-type").empty()[0],a(b.wrapper).prepend(b.clone),a(b.head).prepend(e),a(b.head).appendTo(b.clone),a(b.head).css({"z-index":"1",position:"absolute",display:"table","table-layout":"fixed"}),f.remove()}var g=a("<div></div>").attr("class",b.theme+" af-table-hscroller");g.css({overflow:"hidden","overflow-x":"auto","-webkit-overflow-scrolling":"touch"}),a(b.wrapper).wrap(g[0]),b.hscroller=b.wrapper.parentNode,b.hscroller.el=b}else b.head&&(a(b.head).css({"float":"left",position:"absolute",top:"0px",display:"table","table-layout":"fixed"}),a(b.head).prepend(e)),a(b.scroller).css({overflow:"auto"}),a(b).css({overflow:"hidden"}),a(b.scroller).bind("scroll",function(b){var c=b.currentTarget,d=c.children[0];a(d.head).css({left:-1*c.scrollLeft+"px"})});a(b.head).find("tr").css("display","table-row"),-1!==navigator.userAgent.toLowerCase().indexOf("android")&&(a(b.hscroller).bind("touchstart",function(a){var b=a.currentTarget.el;b.started=!0,b.x=a.originalEvent.touches[0].clientX,b.y=a.originalEvent.touches[0].clientY}),a(b.hscroller).bind("touchmove",function(b){var c=b.currentTarget.el;c.started&&(c.x=Math.abs(b.originalEvent.touches[0].clientX-c.x),c.y=Math.abs(b.originalEvent.touches[0].clientY-c.y),c.x>c.y?(a(c.hscroller).css({overflow:"hidden","overflow-x":"auto"}),a(c.scroller).css("overflow","hidden")):(a(c.hscroller).css("overflow-x","hidden"),a(c.scroller).css({overflow:"hidden","overflow-y":"auto"})),c.started=!1)}))}else a(b.scroller).css({overflow:"auto","overflow-scrolling":"touch"})},_refreshTableHead:function(b){if(a.alopex.util.isValid(b.head)){var c=a(b).find("tbody > tr"),d=a(b).find("tbody"),e=b.offsetWidth;c.length>0?e=c[c.length-1].offsetWidth:d.length>0&&(e=d[0].offsetWidth);var f=a(b.head);f.css({"table-layout":"",width:e+"px"}),0==e&&f.css({width:"100%"});var g=b;setTimeout(function(){a(g);f.css({"table-layout":"fixed"})},10)}},_refreshTableScroll:function(b){var c=a(b.scroller),d=b.wrapper.offsetHeight;"all"===a(b).attr("data-scroll")?c.css("margin-top","0"):("mobile"===window.browser&&a(b.wrapper).css("width",b.offsetWidth+"px"),a.alopex.util.isValid(b.head)&&(d-=b.head.offsetHeight,c.css("margin-top",b.head.offsetHeight+"px"))),c.css("height",d+"px")},hideColumn:function(b){var c=this;a(c).find("col:nth-child("+(b+1)+")").addClass("af-hidden")},showColumn:function(b){var c=this;a(c).find("col:nth-child("+(b+1)+")").removeClass("af-hidden")},clear:function(b){a(b).find("tr").each(function(){a(this).closest("thead").length>0||a(this).find("th").length>0||a(this).remove()})},_addTableHighlight:function(b){var c=b.target;c=a(c).closest("tr,td, th")[0];var d=a(c).closest("tr")[0],e=a(c).closest("th")[0],f=a(c).closest("table")[0],g=!1;if(void 0!==e&&(g=!0),a(f).find(".af-table-row").removeClass("af-table-row"),a(f).find(".af-table-cell").removeClass("af-table-cell"),a(f).find(".af-table-column").removeClass("af-table-column"),g){var h=a.alopex.widget.table.getColumnIndex(c);a(f).find("td:nth-child("+(h+1)+"),th:nth-child("+(h+1)+")").addClass("af-table-column")}else a(d).addClass("af-table-row"),a(c).addClass("af-table-cell")},getTableHead:function(b){var c=null;return a(b).find("thead").length>0?c=a(b).find("thead")[0]:a(b).find("th").length>0&&(c=a(b).find("th")[0].parentNode),c},getTableBody:function(b){var c;return c=a(b).find("tbody").length>0?b.tBody?b.tBody:a(b).find("tbody")[0]:b},getRowIndex:function(a){for(var b=a.parentNode,c=b;"table"!==c.tagName.toLowerCase();)c=c.parentNode;for(var d=c.tableBody,e=0,f=0;f<d.rows.length;f++)if(d.rows[f]!==c.tableHead){if(d.rows[f]===b)return e;e++}return e},getColumnIndex:function(b){var c=b.parentNode;if(a.alopex.util.isValid(c.cells))for(var d=0;c.cells.length;d++)if(c.cells[d]===b)return d;return-1},_enableEditing:function(b){a(b.wrapper).on("click",'[data-editable="true"]',a.alopex.widget.table._editHandler)},_disableEdit:function(b){var c=b.tableHead,d=b.tableBody;a(c).find('[data-editable="true"]').each(function(){for(var b=this,e=a.alopex.widget.table.getColumnIndex(b),f=0;f<d.rows.length;f++)d.rows[f]!==c&&a(d.rows[f]).find("td:nth-child("+(e+1)+")").unbind("click",a.alopex.widget.table._editHandler)})},_editHandler:function(b){function c(b){b.stopImmediatePropagation(),b.preventDefault();var c=a.alopex.widget.table.tmpInput,d=a(c).val();c.parentNode.text!==d&&(a(c.parentNode).addClass("af-edited"),e.edited=!0),a(c.parentNode).text(d).removeClass("af-editing"),a(c).remove(),a.alopex.widget.table._enableEditing(e)}var d=a(b.target).closest("td")[0],e=a(d).closest("table")[0];if(!(void 0!==d.children&&d.children.length>0)){var f=document.createElement("input");a(f).val(d.text=a(d).text()),a.alopex.widget.table.tmpInput=f,a.alopex.widget.table.tmp=d,a(d).text("").append(f).addClass("af-editing"),a(f).focus(),a.alopex.widget.table._disableEdit(e),a(f).bind("focusout",function(a){c(a)}),a(f).bind("keydown",function(a){(13===a.keyCode||27===a.keyCode)&&c(a)})}},_addColgroup:function(b){var c=a(b).find("tr");c=c[c.length-1];var d=a(b).find("colgroup");if(0===d.length){d=document.createElement("colgroup");for(var e=0;e<c.children.length;e++){var f=document.createElement("col");a(f).appendTo(d)}a(d).insertBefore(b.children[0])}else d=d[0]},_refreshColgroup:function(b){var c=a(b).find("tr");if(c.length>0){var d,e=0;c.each(function(b,c){var d=a(c).children("td").length;e=d>e?d:e});var f=a("<tr>").css("height","0px");for(d=0;e>d;d++)f.append("<td>&nbsp;</td>");f.insertAfter(c.last());var g,h=(a(b).find("colgroup"),[]);for(d=0,g=e;g>d;d++){var i=f.children("td").eq(d).offsetWidth;h.push(i)}for(d=0;d<h.length;d++)a(b).find("col:nth-child("+(d+1)+")").css("width",h[d]);f.remove()}},_enableResizing:function(b){"mobile"!==window.browser&&(a(b.wrapper).on("mousedown",'[data-resizable="true"]',this._resizeStartHandler).on("mousemove",'[data-resizable="true"]',this._checkResizeCondition),a(b.wrapper).find('[data-resizable="true"]').each(function(){this.table=b;var c=document.createElement("div");a(c).addClass("af-table-resize").appendTo(this)}),a(b.rows[0].cells).each(function(a){this.index=a}),a(b).on("selectstart",function(){return!1}),a(b).on("dragstart",function(){return!1}))},_resizeStartHandler:function(b){var c=b.currentTarget,d=c.table,e=d.offsetWidth;a(d).css({width:e+"px","min-width":""}),a.alopex.widget.table.resizeready&&(a.alopex.widget.table.resizing=!0,a.alopex.widget.table.resizingEl=c,a(document).bind("mousemove",a.alopex.widget.table._resizeMoveHandler),a(document).bind("mouseup",a.alopex.widget.table._resizeEndHandler),a.alopex.util.isValid(a("body").css("cursor"))&&a("body").data("cursor",a("body").css("cursor")),a("body").css("cursor","col-resize").css("text-overflow","ellipsis"))},_resizeMoveHandler:function(b){if(a.alopex.widget.table.resizing){var c=a.alopex.widget.table.resizingEl,d=c.table,e=a.alopex.util.getScrolledPosition(c),f=e.left,g=b.pageX-f;c.width&&g<c.width&&Math.abs(c.width-c.offsetWidth)>3?(a.alopex.widget.table._resizeColumn(c,c.offsetWidth),c.width=c.offsetWidth):(a.alopex.widget.table._resizeColumn(c,g),c.width=g),a.alopex.widget.table._refreshTableScroll(d)}},_resizeEndHandler:function(){if(a.alopex.widget.table.resizing){{a.alopex.widget.table.resizingEl}a.alopex.widget.table.resizing=!1,a.alopex.widget.table.resizingEl=null,a(document).unbind("mousemove",a.alopex.widget.table._resizeMoveHandler),a(document).unbind("mouseup",a.alopex.widget.table._resizeEndHandler),a.alopex.util.isValid(a("body").data("cursor"))?a("body").css("cursor",a("body").data("cursor")):a("body").css("cursor","").css("background","")}},_checkResizeCondition:function(b){var c=a(b.target).closest('[data-resizable="true"]')[0],d=a.alopex.util.getScrolledPosition(c),e=d.left+c.offsetWidth;"col-resize"!==a(c).css("cursor")&&a(c).data("cursor",""),b.pageX>=e-a.alopex.widget.table.resizeThreshold?(a(c).css("cursor","col-resize"),a.alopex.widget.table.resizeready=!0):(a(c).css("cursor",a(c).data("cursor")),a.alopex.widget.table.resizeready=!1)},_resizeColumn:function(b,c){var d=b.table,e=a(d),f=d.head;a(b).css("width",c+"px"),a(e).find("colgroup > col:nth-child("+(b.index+1)+")").each(function(){var d=a(e).find("tr:first-child").find("td,th")[b.index].offsetWidth,g=this.width?this.width:d,h=this.tableWidth?this.tableWidth:parseInt(e.css("width").replace("px",""),10),i=c-g;this.width=c,this.style.width=c+"px",a(this).css("width",c+"px"),this.tableWidth=h+i,e.css("width",this.tableWidth+"px"),a(f).css("width",this.tableWidth+"px")})},_enableSorting:function(b){var c=b.head;a(c).find("th, td").each(function(c){if(void 0!==a(this).attr("data-sortable")||void 0!==a(this).attr("data-sort-function")){this.columnIndex=c,this.table=b;var d=document.createElement("span");a(d).addClass("af-icon"),a(this).append(d).css("cursor","pointer")}}),a(b.wrapper).on("click","[data-sortable], [data-sort-function]",a.alopex.widget.table._sort)},_sort:function(b){var c=b.currentTarget;a.alopex.widget.table.sort(c)},sort:function(b){void 0===b&&(b=this);var c=b.table;if(c){for(var d=b.columnIndex,e=c.tBodies[0],f=[],g=[],h=0;h<e.rows.length;h++)e.rows[h].cells.length>0&&"th"===e.rows[h].cells[0].tagName.toLowerCase()||f.push([this._getInnerText(e.rows[h].cells[d]),e.rows[h]]);var i;if(void 0!==a(b).attr("data-sort-function"))i=window[a(b).attr("data-sort-function")];else{var j=a(b).attr("data-sortable");switch(j){case"number":i=a.alopex.util.sort_numeric;break;case"date":g=a.alopex.util.formatDate(g),i=a.alopex.util.sort_date;break;default:i=a.alopex.util.sort_default}}for(a(b).siblings().removeClass("af-table-ascending").removeClass("af-table-descending"),-1!==b.className.indexOf("af-table-ascending")?(a(b).removeClass("af-table-ascending"),a(b).addClass("af-table-descending"),f=a.alopex.util.mergeSort(f,i,!1)):(a(b).removeClass("af-table-descending"),a(b).addClass("af-table-ascending"),f=a.alopex.util.mergeSort(f,i,!0)),h=0;h<f.length;h++)e.appendChild(f[h][1])}},_getInnerText:function(a){return a?a.innerHTML:""},getColumnCount:function(b){for(var c=a(b),d=0,e=c.find("tr"),f=0;f<e.length;f++){var g=e.find("td, th").length;g>d&&(d=g)}return d}})}(jQuery),function(a){a.alopex.widget.tabs=a.alopex.inherit(a.alopex.widget.object,{widgetName:"tabs",defaultClassName:"af-tabs",setters:["tabs","setTabIndex","setTabByContent","setEnabled","setEnabledByContent","reload","clear"],getters:["getCurrentTabIndex","getCurrentTabContent","getButtons","getContent","getActiveButtons","getLength","isEnabled"],requestButton:null,properties:{buttons:null,buttonGroup:null,tabstrigger:"tap",eventState:"init",carousel:!1,wrapper:null},getLength:function(a){return a.buttons?a.buttons.length:0},getButtons:function(a){return a.buttons},getContent:function(a,b){return a.buttons&&a.buttons[b]?a.buttons[b].content:void 0},reload:function(b,c,d){b.buttons&&b.buttons[c]&&0!=a(b.buttons[c]).attr("data-content").indexOf("#")&&this._loadHTML(b.buttons[c],b,d)},init:function(b,c){var d=a(b);a.extend(b,this.properties,c),b._currentTabIndex=-1,"true"===b.lazyload&&d.find("[data-type]").each(function(){this.phase="pending"});var e=a(b).attr("data-event");if(("hover"===e||"hovering"===e)&&(b.tabstrigger="hovering"),b.buttonGroup=d.find("> ul"),0===b.buttonGroup.length?b.buttonGroup=d.find(".af-tabs-button-group"):b.buttonGroup.addClass("af-tabs-button-group"),b.buttons=b.buttonGroup.find("> li"),b.buttons.length>0){b.buttons.on("click",function(a){a.preventDefault()});for(var f=b.buttonGroup,g=0;g<b.buttons.length;g++){var h=b.buttons[g],i=a(h);h.element=b,h.index=g,i.appendTo(b.buttonGroup),i.addClass("af-tabs-button"),i.find("img").addClass("af-tabs-button-icon");var j="li"===h.tagName.toLowerCase()?i:i.find("li"),k=j.attr("data-content").split("#");switch(1===k.length?h.loadType="ajax":2===k.length&&(""===k[0]||k[0]===document.URL.split("#")[0]?(h.loadType="local",h.hashAddr=k[1]):h.loadType="ajax"),h.loadType){case"local":var l=a(b).find("#"+h.hashAddr);if(l.length>0)h.content=l[0];else{var m=document.getElementById(h.hashAddr);a.alopex.util.isValid(m)?h.content=m:(h.content=document.createElement("div"),a(h.content).insertAfter(f))}break;case"ajax":h.content=document.createElement("div"),a(h.content).insertAfter(f)}f=h.content,a(h.content).addClass("af-tabs-content")}a.alopex.widget.tabs.setTabIndex(b,0),a(b).on("keydown",a.alopex.widget.tabs._keyEventHandler)}this._bindEvent(b)},defer:function(b){if(b.carousel)var c=setInterval(function(){a(b).is(":hidden")||(clearInterval(c),b.carousel&&(a(b).find("> .af-tabs-content").attr("data-role","page"),a(b).attr("data-type","carousel").carousel()))},200)},_evt_swipe:function(b,c){__ALOG("swipe");var d=a(b.currentTarget).parent('[data-type="carousel"]')[0],e=(d.width-Math.abs(c.distanceX))/c.speed*1e3;e>500&&(e=500);var f=d._currentTabIndex;if(c.distanceX<0){do f++;while(!a.alopex.widget.tabs.isEnabled(d,f)&&f<d.buttons.length)}else do f--;while(!a.alopex.widget.tabs.isEnabled(d,f)&&f>=0);-1==f||f>=d.buttons.length?a.alopex.widget.tabs.setTabIndex(d,d._currentTabIndex):a.alopex.widget.tabs.setTabIndex(d,f),d.press=!1,a(d).trigger("swipechange",[d._currentTabIndex])},_keyEventHandler:function(b){var c=b.target,d=c,e=b.currentTarget;if(!(a(e.buttons).filter(c).length<=0)){for(var f=!1;a.alopex.util.isValid(c)&&!f;){var g=null!==b.keyCode?b.keyCode:b.which;switch(g){case 9:return;case 37:case 38:c=0!==a(c).prev().length?a(c).prev()[0]:a(c).siblings().last()[0],b.preventDefault();break;case 39:case 40:c=0!==a(c).next().length?a(c).next()[0]:a(c).siblings().first()[0],b.preventDefault();break;default:return}var h=a.alopex.widget.tabs;(h.isEnabled(e,c.index)||c==d)&&(f=!0)}a.alopex.widget.tabs.setTabIndex(c.element,c.index),b.preventDefault()}},_loadCallback:function(b,c,d){var e=a.alopex.widget.tabs.requestButton;if("error"===c){var f='<p>Sorry, there was an ERROR!</p><p style="color:red;">'+d.status+"<br/>"+d.statusText+"</p>";a(e.content).html(f)}else e.loadType="local",a(e.content).convert()},refreshButtons:function(a,b){a.buttonGroup.children().attr("aria-selected","false").attr("tabindex","-1").removeClass("af-selected"),a.buttonGroup.children().eq(b).attr("aria-selected","true").attr("tabindex","0").addClass("af-selected").focus()},_loadHTML:function(b,c,d){b.content;this.requestButton=b,a.ajax({url:a(b).attr("data-content"),cache:!1,async:!1}).done(function(c){b.loadType="local",a(b.content).html(c).convert(),a(document).trigger("alopexuiready"),d&&d()})},getCurrentTabIndex:function(a){return a._currentTabIndex},getCurrentTabContent:function(a){return a._currentTabContent},setTabByContent:function(a,b){if(a.buttonGroup.length>0){var c=a.buttonGroup.find("[data-content="+b+"]").index();if(!this.isEnabled(a,c))return;this.setTabIndex(a,c)}},setTabIndex:function(b,c){if(this.isEnabled(b,c)){b._currentTabIndex=c;var d=this,e=[],f=!1;if(b.buttonGroup.length>0){var g=b.buttonGroup.children();if(b._currentTabContent=a(g[c]).attr("data-content"),a(g).each(function(g,h){var i=h;a(i.content).css("height","5px"),g===c?("true"===a(b).attr("data-flexbox")?a(i.content).css({display:"-webkit-box"}):a(i.content).css("display","block"),a(i.content).css("height",""),"ajax"===i.loadType?(f=!0,d._loadHTML(i,b,function(){a.alopex.convert(i.content,!0),a(b).trigger("tabchange",[c])})):(a.alopex.convert(i.content,!0),a(b).trigger("tabchange",[c]))):e.push(i.content)}),b.carousel)a(b).setIndex(c,{animationDuration:0});else for(var h=0;h<e.length;h++)a(e[h]).css("display","none");this.refreshButtons(b,c)}}},clear:function(b,c){var d=a(this.getContent(b,c));if(a.alopex&&a.alopex.page)for(var e in a.alopex.page)a.alopex.page.hasOwnProperty(e)&&0==e.indexOf("#")&&d.find(e).length>0&&delete a.alopex.page[e];d.empty(),this.getButtons(b)&&this.getButtons(b)[c]&&(this.getButtons(b)[c].loadType="ajax")},setEnabledByContent:function(a,b,c){if(a.buttonGroup.length>0){var d=a.buttonGroup.find("[data-content="+c+"]").index();if(!this.isEnabled(a,d))return;this.setEnabled(a,b,d)}},setEnabled:function(a,b,c){if(c)if(c instanceof Array)for(var d=0;d<c.length;d++)this._setEnabled(a,b,c[d]);else this._setEnabled(a,b,c)},_addDisabledStyle:function(b,c){a(b.buttons).eq(c).addClass("af-disabled")},_removeDisabledStyle:function(b,c){a(b.buttons).eq(c).removeClass("af-disabled")},isEnabled:function(b,c){return 0>c||b.buttons.length<=c?!1:!a(b.buttons).eq(c).hasClass("af-disabled")},_setEnabled:function(a,b,c){b?this.isEnabled(a,c)||(this._bindEvent(a,c),this._removeDisabledStyle(a,c)):(this._unbindEvent(a,c),this._addDisabledStyle(a,c))},_bindEvent:function(b,c){var d,e=this;d=c?a(b.buttons).eq(c):a(b.buttons),d.each(function(){e.addHoverHighlight(this),e.addPressHighlight(this)}),d.on(b.tabstrigger,this._selectCallback)},_selectCallback:function(b){for(var c=a.alopex.widget.tabs,d=b.currentTarget,e=d.element;void 0===d.index;)d=d.parentNode;d.defaultStyleClass=a(d).attr("class"),c.setTabIndex(e,d.index),e.eventState="focused"},_unbindEvent:function(b,c){var d=this,e=a(b.buttons).eq(c);e.each(function(){d.removeHoverHighlight(this),d.removePressHighlight(this)}),e.off(b.tabstrigger,this._selectCallback)}})}(jQuery),function(a){a.alopex.widget.textarea=a.alopex.inherit(a.alopex.widget.object,{widgetName:"textarea",defaultClassName:"af-textarea",setters:["textarea"],init:function(){}})}(jQuery),function(a){a.alopex.widget.textinput=a.alopex.inherit(a.alopex.widget.baseinput,{widgetName:"textinput",defaultClassName:"af-textinput",setters:["textinput"]})}(jQuery),function(a){a.alopex.widget.togglebutton=a.alopex.inherit(a.alopex.widget.basebutton,{widgetName:"togglebutton",eventHandlers:{toggle:{event:"click",handler:"_toggleHandler"}},triggerEvent:{},properties:{checked:!1},getters:["isChecked"],setters:["togglebutton","setChecked","toggleChecked"],_toggleHandler:function(b){var c=a.alopex.widget.togglebutton;c._getProperty(b,"enabled")&&(c._getProperty(b,"checked")?(a(b).removeClass("af-checked"),c._setProperty(b,"checked",!1)):(a(b).addClass("af-checked"),c._setProperty(b,"checked",!0)))},isChecked:function(a){return this._getProperty(a,"checked")},setChecked:function(b,c){var d=a(b);c?(this._setProperty(b,"checked",!0),d.addClass("af-checked")):(this._setProperty(b,"checked",!1),d.removeClass("af-checked"))},toggleChecked:function(a){this._toggleHandler(a)},init:function(){}})}(jQuery),function(a){a.alopex.widget.tooltip=a.alopex.inherit(a.alopex.widget.object,{defaultClassName:"af-tooltip",getters:[],setters:["tooltip","open","close","toggle"],style:function(b,c){var d=a(b);if("tooltip"!==d.attr("data-type")){var e=document.createElement("div"),f=a(e);return f.attr({"data-type":"tooltip"}),f.html(d.attr("title")),f.insertAfter(b),void f.tooltip()}a.extend(b,{tooltiptrigger:"default",opentrigger:"mouseenter",closetrigger:"mouseleave",animation:"none",animationtime:"300",track:"false",base:a(b).prev(),position:"auto",cssstyle:{position:"absolute",top:"0px",left:"0px"},currentstate:"closed",opencallback:null,closecallback:null,margin:10},c),d.css(b.cssstyle),d.css("display","none")},pre:function(b){var c=a(b).attr("title"),d=a('<div data-type="tooltip">'+c+"</div>").insertAfter(b);d.tooltip()},init:function(b){var c=a(b.base);0!==c.length&&(b.base=c[0],c.each(function(){this.tooltip=b}),"default"===b.tooltiptrigger?(c.off(".alopexuitooltip"),c.on(b.opentrigger+".alopexuitooltip",a.alopex.widget.tooltip._show),c.on(b.closetrigger+".alopexuitooltip",a.alopex.widget.tooltip._hide)):b.tooltiptrigger&&(c.off(".alopexuitooltip"),b.opentrigger=b.closetrigger=b.tooltiptrigger,c.on(b.opentrigger+".alopexuitooltip",a.alopex.widget.tooltip._toggle)))},_show:function(b){var c=b.currentTarget.tooltip;a(c).open(c.opencallback)},_hide:function(b){var c=b.currentTarget.tooltip;a(c).close(c.closecallback)},_toggle:function(b){var c=b.currentTarget.tooltip;a(c).toggle()},open:function(b,c){var d=a.alopex.util.getOptions(b);
a(d.base).length&&(b.base=d.base,this.init(b,d)),d.position&&d.position!==b.position&&(b.position=d.position);var e=a(b);e.css({display:"block"});for(var f=b.offsetWidth,g=b.offsetHeight,h=b.base.offsetWidth,i=b.base.offsetHeight,j=b.offsetParent;j&&j!=document.body&&"relative"!==a(j).css("position")&&"absolute"!==a(j).css("position");)j=j.offsetParent;var k=a.alopex.util.getRelativePosition(b.base),l=a.alopex.util.getRelativePosition(j),m=k.left-l.left,n=k.top-l.top,o=0,p=0;switch(b.position){case"top":p=m+h/2-f/2,o=n-g-b.margin,e.addClass("top");break;case"bottom":p=m+h/2-f/2,o=n+i+b.margin,e.addClass("bottom");break;case"left":p=m-f-b.margin,o=n+i/2-g/2,e.addClass("left");break;case"right":p=m+h+b.margin,o=n+i/2-g/2,e.addClass("right");break;default:p=m+h/2-f/2,o=n+i+b.margin,0>p?(p=m+h+b.margin,o=n+i/2-g/2,e.addClass("right")):o+g>screen.Height?(p=m+h/2-f/2,o=n-g-b.margin,e.addClass("top")):p+f>screen.width?(p=m-f-b.margin,o=n+i/2-g/2,e.addClass("left")):e.addClass("bottom")}switch(e.css({left:p+"px",top:o+"px"}),b.animation){case"slide":var q=b.offsetHeight;a(b).css("height","0px"),a(b).animate({height:q+"px"},parseInt(b.animationtime,10)),a(b).css("height","auto");break;case"fade":a(b).css("opacity","0"),a(b).animate({opacity:"1"},parseInt(b.animationtime,10));break;default:a(b).css("display","block")}b.currentstate="opened",a.alopex.util.isValid(c)&&("string"==typeof c?window[c].apply():c.apply())},close:function(b,c){{var d=a(b);a(b.base)}switch(d.removeClass("top bottom left right"),b.animation){case"slide":a(b).animate({height:"0px"},parseInt(b.animationtime,10),function(){a(b).css({height:"auto",display:"none"})});break;case"fade":a(b).fadeOut(b.animationtime,function(){a(b).css("display","none")});break;default:a(b).css("display","none")}b.currentstate="closed",a.alopex.util.isValid(c)&&("string"==typeof c?window[c].apply():c.apply())},toggle:function(b,c){"opened"===b.currentstate?a(b).close(c):a(b).open(c)}})}(jQuery),function(a){a.alopex.widget.tree=a.alopex.inherit(a.alopex.widget.object,{widgetName:"tree",defaultClassName:"af-tree",eventHandlers:{cancelEvent:{event:"selectstart",handler:"_cancelEventHandler"}},setters:["tree","createNode","expand","collapse","expandAll","collapseAll","deleteNode","editNode","setSelected","toggleCheckbox","toggleExpand","setDataSource"],getters:["getNode","getSelectedNode","getCheckedNodes"],init:function(a){this.refresh(a)},toggleExpand:function(b,c){c=void 0===c?b:c.node,a.alopex.widget.tree._toggle(c)},_toggle:function(b){a.alopex.util.parseBoolean(a(b).attr("data-expand"))?a.alopex.widget.tree._collapse(b):a(b).find("ul").length>0&&a.alopex.widget.tree._expand(b)},toggleCheckbox:function(b){"visible"!==a(b).attr("data-checkbox")?(a(b).attr("data-checkbox","visible"),a(b).find('input[type="checkbox"]').css("display","inline-block")):(a(b).removeAttr("data-checkbox"),a(b).find('input[type="checkbox"]').css("display","none"))},expand:function(b,c){void 0===c&&(c=b);var d=c.node;a.alopex.widget.tree._expand(d)},_expand:function(b){var c=a(b).closest("ul");a(b).attr("data-expand","true").addClass("af-tree-expanded"),a(b).find("> ul").css("display","block"),a.alopex.widget.tree._triggerEvent(c,b,"expand")},collapse:function(b,c){void 0===c&&(c=b);var d=c.node;a.alopex.widget.tree._collapse(d)},_collapse:function(b){void 0===b&&(b=this);var c=a(b).closest("ul");a(b).attr("data-expand","false").removeClass("af-tree-expanded"),a(b).find("> ul").css("display","none"),a.alopex.widget.tree._triggerEvent(c,b,"collapse")},setSelected:function(b,c){var d=c.node;a(d).closest('[data-type="tree"]').find("[class~=af-pressed]").removeClass("af-pressed"),a(d).parents("li").each(function(){a.alopex.widget.tree._expand(this)}),a(d).find("> a").addClass("af-pressed")},expandAll:function(b){a(b).find(".af-tree-node").each(function(){a.alopex.widget.tree._expand(this)})},collapseAll:function(b){a(b).find(".af-tree-node").each(function(){a.alopex.widget.tree._collapse(this)})},createNode:function(b,c,d){var e=null;a.alopex.util.isValid(c)?(c=c.node,e=a(c).find("ul"),e=e.length>0?e[0]:a("<ul></ul>").appendTo(c)[0]):e=c=b;var f=[d];a.alopex.widget.tree._createNode(e,f),a.alopex.widget.tree.refresh(a(c).closest("ul")[0])},deleteNode:function(b,c){c=c.node;var d=a(c).find('input[type="checkbox"]');d.removeAttr("checked"),a.alopex.widget.tree._traverseUp(d[0]),a(c).remove()},editNode:function(b,c,d){c=c.node,a(c).find("> a").text(d.text),a(c).find("> a > img.af-tree-img").attr("src",d.iconUrl),a(c).attr("id",d.id)},getNode:function(b,c,d){void 0!==c&&(c=a.alopex.util.trim(c));var e=null;return"id"===d?e=a(b).find('[id="'+c+'"]')[0]:a(b).find("a").each(function(){a.alopex.util.trim(a(this).text())===c&&(e=a(this).closest("li")[0])}),a.alopex.widget.tree._getTreeNodeObj(e)},getSelectedNode:function(b){var c=a(b).find(".af-pressed").closest("li")[0];return a.alopex.widget.tree._getTreeNodeObj(c)},getCheckedNodes:function(b){var c=[];return a(b).find('input[type="checkbox"]:checked').each(function(){var b=a(this).closest("li")[0];c.push(a.alopex.widget.tree._getTreeNodeObj(b))}),c},setDataSource:function(b,c){a(b).empty(),a.alopex.widget.tree._createNode(b,c),a(b).refresh()},_getTreeNodeObj:function(b){return{text:a.alopex.util.trim(a(b).find("> a").text()),iconUrl:a(b).find("> a > img.af-tree-img").attr("src"),id:a(b).attr("id"),node:b}},_createNode:function(b,c){for(var d=0;d<c.length;d++){var e=c[d],f=a("<li></li>").appendTo(b)[0];a.alopex.util.isValid(e.id)&&a(f).attr("id",e.id);var g=a("<a></a>").appendTo(f)[0];if(a.alopex.util.isValid(e.linkUrl)&&a(g).attr("href",e.linkUrl),a.alopex.util.isValid(e.iconUrl)&&a("<img/>").attr("src",e.iconUrl).appendTo(g),a(g).append(e.text),a.alopex.util.isValid(e.items)){var h=a("<ul></ul>").appendTo(f)[0];a.alopex.widget.tree._createNode(h,e.items)}}},refresh:function(b){a.alopex.widget.tree._structure(b),a.alopex.widget.tree._removeEvent(b),a.alopex.widget.tree._addBasicEvent(b),a.alopex.widget.tree._addKeydownEvent(b),a.alopex.widget.tree._addCheckbox(b),a(b).find(".af-tree-node").each(function(){a.alopex.util.parseBoolean(a(this).attr("data-expand"))||a.alopex.widget.tree._collapse(this)}),a(b).find("li:has(ul)").each(function(){a(this).css("list-style","none")})},_structure:function(b){var c;if(void 0!==a(b).attr("data-type")&&-1!==a(b).attr("data-type").indexOf("tree")){if(a(b).children().length>0)for(c=0;c<a(b).children().length;c++)0===c?a(a(b).children()[c]).find("> a").attr("tabindex",0):a(a(b).children()[c]).find("> a").attr("tabindex",-1)}else if(a(b).children().length>0)for(c=0;c<a(b).children().length;c++)a(a(b).children()[c]).find("> a").attr("tabindex",-1);a(b).find("> li").addClass("af-tree-node").each(function(){var b=a(this).find("> a").addClass("af-tree-link");b.find("> img").addClass("af-tree-img");var c=a(this).find("> ul").addClass("class","af-tree-group"),d=c.length>0;d&&(0===b.siblings("span").length&&a("<span></span>").attr("class","af-tree-icon").attr("data-expand","false").insertBefore(a(this).find("> a")[0]),a.alopex.widget.tree._structure(c[0]))})},_removeEvent:function(b){a(b).find(".af-tree-icon").unbind("click"),a(b).find(".af-tree-link").unbind("click").unbind("dbclick").unbind("hoverstart").unbind("focusin")},_triggerEvent:function(b,c,d){var e=a(c).closest("li").attr("id"),f=a.alopex.widget.tree._getNodeText(c),g=a.alopex.widget.tree._getNodePath(c),h={id:e,text:f,path:g};a(b).trigger(d,[h])},_addBasicEvent:function(b){a(b).find(".af-tree-icon").bind("click",function(b){var c=b.target.parentNode;a.alopex.widget.tree._toggle(c)}),a(b).find(".af-tree-link").bind("dbclick",function(c){var d=c.target;a.alopex.widget.tree._triggerEvent(b,d,"doubleselect"),a.alopex.widget.tree._triggerEvent(b,d,"dbclick")}),a(b).find(".af-tree-link").bind("click",function(c){var d=c.currentTarget;a(b).find("[class~=af-pressed]").removeClass("af-pressed"),a(d).addClass("af-pressed"),a.alopex.widget.tree._triggerEvent(b,d,"select")}),a(b).find(".af-tree-link").bind("hoverstart",function(c){var d=c.currentTarget;a(b).find("[class~=af-hover]").removeClass("af-hover"),a(d).addClass("af-hover"),a.alopex.widget.tree._triggerEvent(b,d,"hover")}),a(b).find(".af-tree-link").bind("hoverend",function(b){var c=b.currentTarget;a(c).removeClass("af-hover")})},_getNodeText:function(b){return a.alopex.util.trim(a(b).text())},_getNodePath:function(b){var c="/"+a.alopex.widget.tree._getNodeText(b);try{for(;a(b).closest("ul").siblings("a").length>0;)b=a(b).closest("ul").siblings("a")[0],c="/"+a.alopex.widget.tree._getNodeText(b)+c;return c}catch(d){return c}},_addKeydownEvent:function(b){var c,d,e;a(b).find(".af-tree-link").bind("focusin click",function(){a.alopex.widget.tree.currentTree=b,a(window).bind("mousedown",function(c){var d=c.target,e=a(d).closest("ul");(0===e.length||e[0]!==b)&&(a(document.body).unbind("keydown"),a(window).unbind("mousedown"))}),a(b).unbind("keydown"),a(b).bind("keydown",function(b){var f,g,h=b.target,i=a(h),j=null!==b.keyCode?b.keyCode:b.which;switch(j){case 36:i.removeClass("af-pressed"),i=a(a.alopex.widget.tree.currentTree).find('[class~="af-tree-link"]')[0],i.focus();break;case 35:for(i.removeClass("af-pressed"),h=a(a.alopex.widget.tree.currentTree).children("li").last();"true"===a(h).attr("data-expand");)h=a(h).children("ul").children("li").last();i=h.find('> [class="af-tree-link"]').focus();break;case 37:if("true"!==i.parent().attr("data-expand")){var k=i.closest("ul").siblings('[class~="af-tree-link"]');k.length>0&&(i.removeClass("af-pressed"),k.focus())}else a.alopex.widget.tree._toggle(i.parent()[0]);break;case 38:if(f=i.closest("ul"),g=f.find('[class~="af-tree-link"]'),"false"===a(i.parent().prev()).attr("data-expand")&&0!==i.parent().prev().length){a(i.parent().prev().find('[class~="af-tree-link"]')[0]).focus();break}if(i[0]===g.first()[0])a(f.siblings("a")).focus();else if(i[0]===g.last()[0]&&"false"===a(i.parent().siblings()[0]).attr("data-expand"))a(i.parent().prev().find('[class~="af-tree-link"]')[0]).focus();else{for(e=!1,c=g.length-1;c>=0;c--)if(e){if("none"!==a(g[c]).closest("ul").css("display"))break}else g[c]===i[0]&&(e=!0);c>=0&&(g.removeClass("af-pressed"),a(g[c]).focus())}break;case 39:"true"!==i.parent().attr("data-expand")?a.alopex.widget.tree._toggle(i.parent()[0]):i.siblings("ul").find('[class~="af-tree-link"]').length>0&&(i.removeClass("af-pressed"),a(i.siblings("ul").find('[class~="af-tree-link"]').first()).focus());break;case 40:if(f=i.closest("ul"),g=f.find('[class~="af-tree-link"]'),"false"===a(i.parent()).attr("data-expand")&&0!==i.parent().next().length){a(i.parent().next().find('[class~="af-tree-link"]')[0]).focus();break}if(i[0]===g.last()[0]){for(d=f.parent();0===d.next().length;)if(d=d.closest("ul").parent(),void 0===d[0])return;a(d.next().find('[class~="af-tree-link"]')[0]).focus()}else if(i[0]===g.first()[0]&&"false"===a(g.first().parent()).attr("data-expand")&&g.first().siblings("span").length>0&&0===i.parent().siblings().length)if("tree"!==a(f).attr("data-type")){for(d=f.parent();0===d.next().length;)d=d.closest("ul").parent();a(d.next().find('[class~="af-tree-link"]')[0]).focus()}else i.parent().next().length>0&&a(i.parent().next().find('[class~="af-tree-link"]')[0]).focus();else{for(e=!1,c=0;c<g.length;c++)if(e){if("none"!==a(g[c]).closest("ul").css("display"))break}else g[c]===i[0]&&(e=!0);c<g.length&&(g.removeClass("af-pressed"),a(g[c]).focus())}break;default:return}b.stopPropagation(),b.preventDefault()})})},_addCheckbox:function(b){a(b).find(".af-tree-link").each(function(){if(0===a(this).siblings('input[type="checkbox"]').length){var b=a('<input type="checkbox"/>').insertBefore(this);b.attr("data-type","checkbox").css("display","none").checkbox().bind("change click",a.alopex.widget.tree._checkboxHandler),b.attr("style",b.attr("style")+";")}}),"visible"===a(b).attr("data-checkbox")&&a(b).find('input[type="checkbox"]').css("display","inline-block")},_checkboxHandler:function(b){var c=b.currentTarget;setTimeout(function(){a(c).is(":checked")?a(c.parentNode).find('input[type="checkbox"]').each(function(){this.indeterminate=!1,this.setAttribute("checked",!0),this.checked=!0}):a(c.parentNode).find('input[type="checkbox"]').removeAttr("checked").each(function(){this.indeterminate=!1,this.removeAttribute("checked")}),a.alopex.widget.tree._traverseUp(c.parentNode)},100)},_traverseUp:function(b){var c=a(b).closest("ul").find("> li > input").length,d=0,e=0;a(b).closest("ul").find("> li > input").each(function(){this.indeterminate?e++:a(this).is(":checked")&&d++});var f=a(b).closest("ul").siblings('input[type="checkbox"]');f.length>0&&(0===d&&0===e?(f.prop("indeterminate",!1),f.removeAttr("checked"),f.each(function(){this.indeterminate=!1,this.removeAttribute("checked")})):d===c?(f.prop("indeterminate",!1),f.attr("checked","true"),f.each(function(){this.indeterminate=!1,this.setAttribute("checked","true"),this.checked=!0})):(f.prop("indeterminate",!0),f.removeAttr("checked"),f.each(function(){this.indeterminate=!0,this.removeAttribute("checked")})),a.alopex.widget.tree._traverseUp(f[0]))}})}(jQuery),function(a){function b(){var a={};return a.id=m++,a.entry=a.doing=a.exit=null,a.transition=[],a}function c(){$(),T(),l.tapcount=0,l.pointer=k.idle,U(l.pointer,{})}var d,e,f,g,h,i=!0,j=".alopexUiEventModel",k={},l={},m=0,n={},o=[],p={},q={},r={},s=[],t=[],u={};d="ontouchstart"in window,d&&(i=!1),e=d?"touchstart":"mousedown",e+=j,e+=" keydown"+j,f=d?"touchmove":"mousemove",f+=j,g=d?"touchend"+j+" touchcancel"+j:"mouseup"+j,g+=" keyup"+j,n.down=null,n.move=null,n.up=null,n.timeout=null;for(h in n)n[h]=h;q.pressed=null,q.unpressed=null,q.move=null,q.hoverstart=null,q.hoverend=null,q.hovering=null,q.tap=null,q.singletap=null,q.doubletap=null,q.tripletap=null,q.longtap=null,q.drag=null,q.dragend=null,q.dragstart=null,q.dragenter=null,q.dragleave=null,q.dragover=null,q.drop=null,q.swipe=null,q.swipemove=null,q.swipecancel=null,q.swipeleft=null,q.swiperight=null,q.swipedown=null,q.swipeup=null,q.pinch=null,q.rotate=null,q.transform=null,q.transformmove=null,q.gesturestart=null,q.gesturechange=null,q.gestureend=null;for(h in q)q[h]=h;q.tap="singletap",q.singletap="onetimetap";for(h in q)s.push(q[h]);s.push("tap"),t=[q.drag,q.dragenter,q.dragleave,q.dragover,q.dragstart,q.dragend,q.drop,q.swipe,q.swipemove,q.swipecancel,q.pinch,q.rotate,q.transform,q.transformmove,q.gesturestart,q.gesturechange,q.gestureend],r[q.swipe]=q.swipecancel,r[q.swipemove]=q.swipecancel,r[q.swiperight]=q.swipecancel,r[q.swipeleft]=q.swipecancel,r[q.swipedown]=q.swipecancel,r[q.swipeup]=q.swipecancel,r[q.pressed]=q.unpressed,r[q.hoverstart]=q.hoverend,r[q.hovering]=q.hoverend,p.move_d=5,p.swipe_d=100,p.swipe_v=100,p.longtap_t=750,p.ntap_t=250,p.hover_v=100;var v=function(b,c){if(!b||!c)return null;if(!a(b).attr("data-"+c))return null;var d=new Function("event, aevent",""+a(b).attr("data-"+c)+";");return d},w=function(a){var b=!0,c=n.down;return a.which&&1!==a.which&&13!==a.which&&32!==a.which?void 0:("touchstart"===a.type&&a.originalEvent.touches.length>1&&(c=n.move),W(c,a),b)},x=null,y=function(a){if(!d)if(x){if(x.x===a.pageX&&x.y===a.pageY)return;x.x=a.pageX,x.y=a.pageY}else x={},x.x=a.pageX,x.y=a.pageY;W(n.move,a)},z=function(a){var b=n.up;a.which&&1!==a.which&&13!==a.which&&32!==a.which||("touchend"===a.type&&a.originalEvent.touches.length>0&&(b=n.move),W(b,a))},A=function(b){return a(l.pressedElement)[0]===a(b.target)[0]?!0:!1},B=function(){return l.currentElement&&l.currentElement!==l.previousElement?!0:!1},C=function(a){a.preventDefault()},D=function(b,c){a.each(["target","pageX","pageY","which","metakey","relatedTarget","clientX","clientY","offsetX","offsetY"],function(a,d){b[d]=c[d]}),b.originalEvent=c,b.isOriginalDefaultPrevented=function(){return!!this.originalDefaultPrevented},b.preventOriginalDefault=function(){this.originalDefaultPrevented=!0},b.isOriginalPropagationStopped=function(){return!!this.originalPropagationStopped},b.stopOriginalPropagation=function(){this.originalPropagationStopped=!0}};a(function(){i&&a(document.body).off(".alopexworkaround").on("click.alopexworkaround","[data-tap]",function(b){var c=String(this.tagName).toUpperCase();if("LABEL"!==c){if("INPUT"===c){var d=String(this.type).toLowerCase();if("checkbox"===d||"radio"===d)return}var e=a(this),f=e.data("alopex-ui-data-tap");if(e.data("alopex-ui-data-tap",null),!f){e.data("alopex-ui-data-tap-keyup",!0);var g=v(this,q.tap);return a.isFunction(g)?(b.type=q.tap,g.call(this,b)):"tap"!==q.tap&&(g=v(this,"tap"),a.isFunction(g))?(b.type="tap",g.call(this,b)):void 0}}})});var E=function(b,c,d){var e=Array.prototype.slice.call(arguments,3),f=a(c),g=a.Event(d);if(e.length&&typeof e[0]==typeof[]&&e[0].length>0&&(e=e[0]),"touchcancel"===b.type)return void F(b);var h=v(c,d);if(h&&a===window.jQuery&&(f.one(d,h),i&&"tap"===d&&(f.data("alopex-ui-data-tap",!0),"keyup"===b.type&&f.data("alopex-ui-data-tap-keyup")&&(f.off(d,h),f.data("alopex-ui-data-tap-keyup",null),f.data("alopex-ui-data-tap",null)))),d===q.tap&&"singletap"===q.tap){var j=a.makeArray(arguments);j[2]="tap",E.apply(null,j)}if(D(g,b),("tap"===d||"singletap"===d)&&(g.origType=b.type),f.trigger(g,e),g.isOriginalDefaultPrevented())try{b.preventDefault()}catch(k){}if(g.isDefaultPrevented())for(var m=0;m<f.length;m++)("A"===f[m].tagName||"BUTTON"===f[m].tagName&&"submit"===f[m].type)&&a(f[m]).one("click",C);if(g.isOriginalPropagationStopped())try{b.stopPropagation()}catch(k){}if(r[d]){var n=r[d];e[0]=n,l.needCancel[n]={elem:c,arg:e}}},F=function(b){for(var c in l.needCancel){var d=l.needCancel[c],e=a.Event(d.arg[0]);D(e,b),a(d.elem).trigger(e,d.arg.slice(1))}delete l.needCancel,l.needCancel={}},G=function(a,b){for(var c=0;c<a.transition.length;c++){var d=a.transition[c];d.trigger&&-1!==d.trigger.indexOf(n.timeout)&&H(d,b)}},H=function(a,b){var c=a.trigger.split(n.timeout)[1],d=null;d=setTimeout(function(){W(a.trigger,b)},c),o.push(d)},I=function(){if(o.length>0)for(var a=0;a<o.length;a++)clearTimeout(o[a]);o=[]},J=function(a){var b=K(a),c=L(a),d=l.startX-b,e=l.startY-c;return Math.sqrt(d*d+e*e)>=p.move_d?!0:!1},K=function(a,b){var c=a;if(b=b||l.trace,a.originalEvent&&a.originalEvent.touches&&a.originalEvent.touches.length>0&&(c=a.originalEvent),d&&c.touches&&c.touches.length>0)return c.touches[0].pageX;if(void 0!==c.pageX&&null!==c.pageX)return c.pageX;var e=b.length-1;return 0>e?0:b[e].x},L=function(a,b){var c=a;if(b=b||l.trace,a.originalEvent&&a.originalEvent.touches&&a.originalEvent.touches.length>0&&(c=a.originalEvent),d&&c.touches&&c.touches.length>0)return c.touches[0].pageY;if(void 0!==c.pageY&&null!==c.pageY)return c.pageY;var e=b.length-1;return 0>e?0:b[e].y},M=function(a,b,c,d){var e=a-c,f=b-d;return Math.floor(Math.sqrt(e*e+f*f))},N=function(b,c){c=c||l.trace;var d={value:0,valueX:0,valueY:0};if(c.length>2){var e,f,g=c.length-2,h=c.length-1;c[g].x===c[h].x&&c[g].y===c[h].y&&(g=c.length-3),c[g-1]&&c[g].time-c[g-1].time<500&&g--,e=M(c[h].x,c[h].y,c[g].x,c[g].y),f=c[h].time-c[g].time;var i=c[h].x-c[g].x,j=c[h].y-c[g].y;d.value=Math.floor(e/f*1e3),d.valueX=Math.floor(i/f*1e3),d.valueY=Math.floor(j/f*1e3)}return a.each(["value","valueX","valueY"],function(a,b){(1/0===d[b]||isNaN(d[b]))&&(d[b]=0)}),d},O=function(){return(new Date).getTime()},P=function(a,b){var c,d={};if(b=b||l.trace,d.startX=l.startX,d.startY=l.startY,d.pageX=K(a,b),d.pageY=L(a,b),d.distance=M(d.startX,d.startY,d.pageX,d.pageY),d.distanceX=d.pageX-d.startX,d.distanceY=d.pageY-d.startY,c=N(a,b),d.speed=c.value,d.speedX=c.valueX,d.speedY=c.valueY,d.alignment="",d.direction="",d.distance<p.move_d)d.alignment="stay",d.direction="none";else{var e=d.distanceY/d.distance;d.alignment=e>=-.5&&.5>=e?"horizontal":e>=.866||-.866>=e?"vertical":"diagonal",(-.5>=e||e>=.5)&&(d.direction+=d.distanceY>0?"down":"up"),e>=-.866&&.866>=e&&(d.direction+=d.distanceX>0?"right":"left")}return d},Q=function(b,c){var d=!1,e=c||s;a.each(e,function(a,c){return R(b,c)?(d=!0,!1):void 0});var f=["tap",q.singletap,q.doubletap,q.tripletap,q.longtap];return a.each(f,function(c,e){a(b).attr("data-"+e)&&(d=!0)}),d},R=function(b,c,d){var e=null;if(!b)return!1;var f=b.jquery?b:a(b);b=b.jquery?f[0]:b,e=a._data?a._data(f[0],"events"):f.data("events");var g=f.attr("data-"+c);if(g&&(e={},e[c]=g),e&&e[c])return!0;if(d===!0){var h=f.parent();if(h.length&&"BODY"!==f.prop("tagName"))return R(h,c,!0)}return!1},S=function(a,b){for(var c=a.target,d="string"==typeof b?[b]:b,e=Q(c,d);!e&&c.parentElement;)c=c.parentElement,e=Q(c,d);return b&&!e?null:c};u.swipe=function(b){var c,d,e,f,g=P(b),h=S(b,[q.swipe,q.swipeleft,q.swiperight,q.swipeup,q.swipedown,q.swipemove,q.swipecancel]),i=a(h).data("swipecondition");i&&(i.direction||i.alignment)?i.alignment&&-1===i.alignment.indexOf(g.alignment)?(c=-1,e=-1):i.alignment&&-1!==i.alignment.indexOf(g.alignment)?"vertical"===g.alignment?(c=Math.abs(g.distanceY),e=Math.abs(g.speedY)):"horizontal"===g.alignment?(c=Math.abs(g.distanceX),e=Math.abs(g.speedX)):(c=Math.abs(g.distance),e=Math.abs(g.speed)):i.direction&&-1!==i.direction.indexOf(g.direction)?"up"===g.direction?(c=-g.distanceY,e=-g.speedY):"down"===g.direction?(c=g.distanceY,e=g.speedY):"left"===g.direction?(c=-g.distanceX,e=-g.speedX):"right"===g.direction?(c=g.distanceX,e=g.speedX):(c=-1,e=-1):(c=-1,e=-1):(c=g.distance,e=g.speed),d=i&&i.distance?i.distance:p.swipe_d,f=i&&i.speed?i.speed:p.swipe_v,i&&i.distance&&!i.speed&&(e=-1),i&&i.speed&&!i.distance&&(c=-1),i&&i.distanceX&&(c=Math.abs(g.distanceX),e=-1,d=Math.abs(i.distanceX),f=0),i&&i.distanceY&&(c=Math.abs(g.distanceY),e=-1,d=Math.abs(i.distanceY),f=0),c>=d||e>=f?(a.each(["up","down","left","right"],function(a,c){g.direction===c&&E(b,l.pressedElement,"swipe"+g.direction,g)}),E(b,l.pressedElement,q.swipe,g)):E(b,l.pressedElement,q.swipecancel,g)},u.ntap=function(a){var b=[q.tap,q.singletap,q.doubletap,q.tripletap],c=l.tapcount;c>3&&(c=3),E(a,l.pressedElement,b[c]),l.tapcount=0},u.dragstart=function(){},u.dragmove=function(){},u.dragend=function(){};var T=function(){for(var a in l)l.hasOwnProperty(a)&&"pointer"!==a&&"tapcount"!==a&&delete l[a];l.pressedElement=null,l.currentElement=null,l.previousElement=null,l.startX=null,l.startY=null,l.trace=[],l.needCancel={}},U=function(a,b){return a?(a.entry&&a.entry(b),void(a.doing&&a.doing(b))):!1},V=function(){for(var a=l.pointer,b=0;b<a.transition.length;b++)if(!a.transition[b].trigger)return!0;return!1},W=function(a,b){function c(){F(b)}do{var d=l.pointer,e=null;l.previousElement=l.currentElement,l.currentElement=b.target;var f={};f.time=O(),f.x=K(b),f.y=L(b),(0===l.trace.length||f.x!==l.trace[l.trace.length-1].x||f.y!==l.trace[l.trace.length-1].y)&&l.trace.push(f);for(var g=0;g<d.transition.length;g++){var h=d.transition[g];if((h.trigger===a||null===h.trigger)&&(null===h.guard||"function"==typeof h.guard&&h.guard(b))){e=h;break}}if(!e){if(a!==n.down)return-1!==a.indexOf(n.timeout)?(I(),G(d,b),!1):!1;e={to:k.pressedinitial,effect:c}}I(),d.exit&&d.exit(b),e&&e.effect&&e.effect(b),l.pointer=e.to,d=l.pointer,U(d,b),G(d,b),a=null}while(V())};k.idle=b(),k.hover=b(),k.pressedinitial=b(),k.unpressed=b(),k.pressedinter=b(),k.moving=b(),k.endmove=b(),k.unpressedwait=b(),k.idle.entry=function(){T(),a(document).unbind(j),a(document).bind(e,w),a(document).bind(f,y)};var X=function(b){var c=S(b);return a(c).attr("disabled")?!0:!1};k.idle.transition.push({to:k.pressedinitial,trigger:n.down,guard:function(a){return!X(a)},effect:function(){}});k.idle.transition.push({to:k.idle,trigger:n.move,guard:function(a){var b=P(a);return l.lastHoverTime=O(),b.speed>p.hover_v||B(a)?!0:!1},effect:function(){}}),k.idle.transition.push({to:k.unpressed,trigger:n.up,guard:function(a){return!X(a)&&!(13===a.which||32===a.which)},effect:function(a){k.pressedinitial.entry(a),k.pressedinitial.doing(a)}}),k.hover.transition.push({to:k.hover,trigger:n.move,guard:function(a){var b=S(a,[q.hoverstart,q.hovering,q.hoverend]);return l.pressedElement!==b?!1:!0},effect:function(a){E(a,l.pressedElement,q.hovering,P(a))}}),k.hover.transition.push({to:k.idle,trigger:n.move,guard:function(a){var b=S(a,[q.hoverstart,q.hovering,q.hoverend]);return l.pressedElement!==b?!0:!1},effect:function(a){E(a,l.pressedElement,q.hoverend,P(a))}}),k.hover.transition.push({to:k.pressedinitial,trigger:n.down,guard:function(a){return!X(a)},effect:function(a){E(a,l.pressedElement,q.hoverend,P(a))}}),k.pressedinitial.entry=function(b){T(),l.tapcount=0,l.pressedElement=b.target,l.currentElement=S(b),l.startX=K(b),l.startY=L(b),a(document).unbind(f),a(document).unbind(g),a(document).bind(f,y),a(document).bind(g,z)},k.pressedinitial.doing=function(a){E(a,l.pressedElement,q.pressed,P(a))},k.pressedinitial.transition.push({to:k.moving,trigger:n.move,guard:function(a){var b=J(a);return b},effect:function(){}}),k.pressedinitial.transition.push({to:k.unpressedwait,trigger:n.up,guard:function(a){return!X(a)},effect:function(){}}),k.pressedinitial.transition.push({to:k.idle,trigger:n.timeout+p.longtap_t,guard:function(){return R(l.pressedElement,q.longtap,!0)},effect:function(a){E(a,l.pressedElement,q.longtap,P(a)),E(a,l.pressedElement,q.unpressed,P(a))}});var Y={to:k.unpressed,trigger:null,guard:null,effect:null};d&&(Y.trigger=n.timeout+50),k.unpressedwait.transition.push(Y),k.unpressed.entry=function(a){E(a,l.pressedElement,q.unpressed,P(a))},k.unpressed.doing=function(a){l.tapcount++,E(a,l.pressedElement,q.tap)},k.unpressed.transition.push({to:k.idle,trigger:n.timeout+p.ntap_t,guard:null,effect:function(a){u.ntap(a)}}),k.unpressed.transition.push({to:k.pressedinter,trigger:n.down,guard:function(a){return A(a)&&!J(a)},effect:null}),k.unpressed.transition.push({to:k.pressedinitial,trigger:n.down,guard:function(a){return!A(a)||J(a)},effect:null}),k.unpressed.transition.push({to:k.unpressed,trigger:n.up,guard:function(a){return!(13===a.which||32===a.which)},effect:function(){}}),k.pressedinter.entry=function(a){E(a,l.pressedElement,q.pressed,P(a))},k.pressedinter.transition.push({to:k.unpressedwait,trigger:n.up,guard:function(){return!0},effect:null}),k.pressedinter.transition.push({to:k.pressedinitial,trigger:n.timeout+p.ntap_t,guard:null,effect:function(a){u.ntap(a)}}),k.pressedinter.transition.push({to:k.moving,trigger:n.move,guard:function(a){var b=J(a);return b},effect:function(a){u.ntap(a)}}),k.moving.doing=function(a){var b=P(a);E(a,l.pressedElement,q.move,b),E(a,l.pressedElement,q.swipemove,b)},k.moving.transition.push({to:k.endmove,trigger:n.up,guard:null,effect:null}),k.moving.transition.push({to:k.moving,trigger:n.move,guard:null,effect:null}),k.endmove.doing=function(a){E(a,l.pressedElement,q.unpressed,P(a)),u.swipe(a)},k.endmove.transition.push({to:k.idle,trigger:null,guard:null,effect:function(){}});for(h in k)k[h].name=h;var Z=function(){var b=["","left","right","up","down"];if(a.each(b,function(b,c){a.event.special["swipe"+c]={setup:function(b){b&&a(this).data("swipecondition",b)},teardown:function(){a(this).removeData("swipecondition")}}}),!d){var c=[q.hoverend,q.hovering,q.hoverstart],e=[],f=function(b){var c={};c.time=O(),c.x=K(b,e),c.y=L(b,e),e.push(c),e.length>5&&e.shift();{var d=P(b,e),f=this;a(f).data("hovercondition")}"mousedown"===b.type||"mouseout"===b.type?a(f).trigger("hoverend",d):"mouseup"===b.type||"mouseover"===b.type?a(f).trigger("hoverstart",d):"mousemove"===b.type&&0===b.which&&a(f).trigger("hovering",d)},g=["mousedown","mouseup","mouseover","mousemove","mouseout",""];a.each(c,function(b,c){a.event.special[c]={setup:function(b){b&&a(this).data("hovercondition",b)},add:function(b){b.data&&a(this).data("hovercondition",b.data),a(this).on(g.join(".alopexeventhover"+c+" "),b.selector||null,f)},teardown:function(){a(this).removeData("hovercondition"),a(this).off(g.join(".alopexeventhover"+c+" "),f)}}})}var h=["tap","singletap"];if(a.each(h,function(b,c){a.fn[c]=function(a){return a?this.bind(c,a):this.trigger("tap").trigger("singletap")}}),i){var j=["tap","singletap"],k={x:null,y:null};a.each(j,function(b,c){a.event.special[c]={setup:function(){var b=String(this.tagName).toUpperCase();if("LABEL"!==b){if("INPUT"===b){var d=String(this.type).toLowerCase();if("checkbox"===d||"radio"===d)return}var e=a(this);e.on("click.alopexuitapworkaround"+c,function(){var b=e.data("alopex-ui-tap-wtapped"+c);if(e.data("alopex-ui-tap-wtapped"+c,null),!b){var d=!1,f=a.Event(c);e.each(function(){a(this).triggerHandler(f,[!0])}),d=d||f.isDefaultPrevented(),e.data("alopex-ui-tap-wtapped-keyup"+c,!0)}}).on("mousedown.alopexuitapworkaround"+c,function(a){k.x=a.pageX,k.y=a.pageY}).on("mouseup.alopexuitapworkaround"+c,function(b){var d=p.move_d;(Math.abs(k.x-b.pageX)>d||Math.abs(k.y-b.pageY)>d)&&a(this).data("alopex-ui-tap-wtapped"+c,!0)})}},teardown:function(){var b=a(this);b.off(".alopexuitapworkaround"+c)},_default:function(){a(this).data("alopex-ui-tap-wtapped-keyup"+c,null)},handle:function(b,d){var e=a(this),f=b.handleObj,g=(jQuery.data(b.target),null);return b.type=f.origType,"keyup"===b.origType&&e.data("alopex-ui-tap-wtapped-keyup"+c)||(g=f.handler.apply(this,arguments),d!==!0&&e.data("alopex-ui-tap-wtapped"+c,!0)),b.type=f.type,g}}})}var l=[q.singletap,q.doubletap,q.tripletap,q.longtap];a.each(l,function(b,c){a.fn[c]=function(b,d){a.isFunction(b)?this.on(c,b):a.isPlainObject(b)&&a.isFunction(d)?this.on(c,b,d):this.trigger(c)}})},$=function(){a(document).unbind(j),a(document).unbind(e),a(document).unbind(f),a(document).unbind(g)};Z(),c()}(jQuery),+function(a){a(function(){var b={};for(var c in a.alopex.widget)for(var d=0;d<a.alopex.widget[c].getters.length;d++){var e=a.alopex.widget[c].getters[d];b[e]=null}for(var c in b)a.fn[c]=new Function('return $.alopex._getter.call(this, "'+c+'", arguments)');b={};for(var c in a.alopex.widget)for(var d=0;d<a.alopex.widget[c].setters.length;d++){var e=a.alopex.widget[c].setters[d];b[e]=null}for(var c in b)a.fn[c]=new Function('return $.alopex._setter.call(this, "'+c+'", arguments)');a.alopex.checkBrowser(),a.alopex.convert("body")})}(jQuery);